/**
 * 折扣格式化方法
 * 1. 折扣=价格/原价
 * 2. 0 < 折扣 < 10，超出范围返回空
 * 3. 小数点后一位向上取整（如0.13=0.2折）
 * @param { number | string } groupPrice 现价
 * @param { number | string } marketPrice 原价
 * @return { string }
 * @example getDiscount()
 */
export function getDiscount(groupPrice: number | string, marketPrice: number | string): string {
    try {
        const groupPriceNumber = Number(groupPrice);
        const marketPriceNumber = Number(marketPrice);

        // 检验数据合法
        if (!(groupPriceNumber > 0) || !(marketPriceNumber > 0)) {
            return '';
        }
        if (groupPriceNumber > marketPriceNumber) {
            return '';
        }
        // 获取折扣
        const discount = groupPriceNumber / marketPriceNumber;
        const result = Math.ceil(discount * 100);
        let returnVal = result / 10;
        // 强制取值范围
        if (!(returnVal > 0) || returnVal >= 10) {
            return '';
        }
        return '' + returnVal;
    } catch (e) {
        console.error(e);
        return '';
    }
}
