import React from 'react';
import { View, Text } from 'react-native';
import { render, fireEvent } from '@testing-library/react-native';
import { Tag } from '../index';

describe('testing Tag', () => {
  it('props: text size', () => {
    const { toJSON } = render(
      <View>
        <Tag text='标签' size='small' />
        <Tag text='标签' size='normal' />
        <Tag text='标签' size='big' />
      </View>
    );

    expect(toJSON()).toMatchSnapshot();
  })

  it('props: backgroundColor borderRadius textColor textFontSize textLineHeight', () => {
    const { toJSON } = render(
      <View>
        <Tag
          text='标签'
          backgroundColor='yellow'
          borderRadius={5}
          textColor='green'
          textFontSize={15}
          textLineHeight={15}
        />
        <Tag
          text='标签'
          backgroundColor={undefined}
          borderRadius={5}
          textColor='green'
          textFontSize={15}
          textLineHeight={15}
        />
      </View>
    );

    expect(toJSON()).toMatchSnapshot();
  })

  it('props: leftIcons rightIcons', () => {
    const { toJSON } = render(
      <View>
        <Tag
          text="标签"
          leftIcons={[{ kid: 'common_middlepopup_citymaster_72', style: { tintColor: '#fff' } }]}
        />
        <Tag
          text="基准标签"
          rightIcons={[{ kid: 'common_middlepopup_citymaster_72', style: { tintColor: '#fff' } }]}
        />
      </View>
    );

    expect(toJSON()).toMatchSnapshot();
  })

  it('props: avatars avatarsStyle', () => {
    const path =
      'https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fc-ssl.duitang.com%2Fuploads%2Fitem%2F202005%2F30%2F20200530112650_4XXME.thumb.1000_0.jpeg&refer=http%3A%2F%2Fc-ssl.duitang.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=jpeg?sec=1626950750&t=975288f9ca7f21c62fb58065cfdfebc4';
    const { toJSON } = render(
      <View>
        <Tag
          text="基准标签"
          size="normal"
          avatarSize={15}
          avatars={[{ uri: path }]}
        />
        <Tag
          text="基准标签"
          size="normal"
          avatars={[{ uri: path }, { uri: path }]}
        />
        <Tag
          text="基准标签"
          size="normal"
          avatars={[path, path]}
        />
      </View>
    );

    expect(toJSON()).toMatchSnapshot();
  })

  it('props: description', () => {
    const { toJSON } = render(
      <View>
        <Tag
          text="基准标签"
          size="normal"
          description="副文案"
          lineStyle={{backgroundColor: 'red'}}
        />
      </View>
    );

    expect(toJSON()).toMatchSnapshot();
  })

  it('props: renderContent', () => {
    const { toJSON } = render(
      <View>
        <Tag
          text="基准标签"
          renderContent={() => <Text>标签</Text>}
        />
      </View>
    );

    expect(toJSON()).toMatchSnapshot();
  })
})