import { NativeModules, Platform,PixelRatio } from 'react-native';

const { statusBarHeight: STATUS_BAR_HEIGHT, titleBarHeight } =
  NativeModules.KSRCTBridge?.deviceInfo?.data || {};

const pr = Platform.OS === 'android'
    ? (PixelRatio.get() || 1)
    : 1;

export const safeArea = {
  get() {
    return {
      statusBarHeight: STATUS_BAR_HEIGHT / pr,
      titleBarHeight: titleBarHeight / pr,
    };
  },
};

export const { statusBarHeight } = safeArea.get();

export function setSlideBack(enabled: Boolean = true, rootTag: number) {
  NativeModules.KRNBasic?.setSlideBack?.({
    // @ts-ignore
    enabled, //  true: 打开滑动返回  false ：关闭滑动返回
    rootTag,
  });
}
