
export const NOOP = () => { };

export const safeParse = (
  str: string | Object,
  defaultVal: any = str,
  onerror: (err: Error) => void = NOOP,
) => {
  if (typeof str !== 'string') {
    return str;
  }
  try {
    /* eslint-disable-next-line code-spec-unid/no-json-parse-or-json-stringify */
    return JSON.parse(str);
  } catch (e) {
    onerror(e as Error);
    return defaultVal;
  }
};