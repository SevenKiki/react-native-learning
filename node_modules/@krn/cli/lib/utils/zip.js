"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.unzipTgz = exports.unzip = exports.zip = void 0;
const AdmZip = require("adm-zip");
const fs = require("fs-extra");
const tar = require("tar");
function zip({ path, destPath, }) {
    const admzip = new AdmZip();
    const isDirectory = fs.statSync(path).isDirectory();
    if (isDirectory) {
        admzip.addLocalFolder(path);
    }
    else {
        admzip.addLocalFile(path);
    }
    admzip.writeZip(destPath);
}
exports.zip = zip;
function unzip({ path, destPath, }) {
    const zip = new AdmZip(path);
    zip.extractAllTo(destPath, true);
}
exports.unzip = unzip;
function unzipTgz({ path, destPath, }) {
    return tar.x({
        file: path,
        cwd: destPath,
    });
}
exports.unzipTgz = unzipTgz;
