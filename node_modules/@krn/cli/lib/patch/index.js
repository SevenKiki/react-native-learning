"use strict";
/**
 * 注意: 该patch模块是在需要魔改metro或rn-cli时才会用到
 */
Object.defineProperty(exports, "__esModule", { value: true });
const fs = require("fs-extra");
const path = require("path");
const patchFiles_1 = require("./patchFiles");
function patch() {
    if (patchFiles_1.default.length) {
        // TODO: monorepo 需要支持
        if (!fs.existsSync(path.resolve(process.cwd(), 'node_modules/metro'))) {
            return Promise.reject('Did you forget to install dependencies. Please run `npm or yarn install`');
        }
        patchFiles_1.default.forEach(({ from, to }) => {
            const origin = path.resolve(__dirname, from);
            const target = path.resolve(process.cwd(), to);
            if (fs.existsSync(origin)) {
                fs.copyFileSync(origin, target);
            }
        });
    }
    return Promise.resolve();
}
exports.default = patch;
