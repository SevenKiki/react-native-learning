"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const utils_1 = require("../utils");
const path = require("path");
const command_1 = require("./command");
class BundleVisualizer extends command_1.default {
    async run() {
        const argv = process.argv;
        const sourceMapExplorer = path.resolve(utils_1.rootDir, './node_modules/.bin/source-map-explorer');
        await super.run();
        this.runAnalytics({
            id: this.id,
            CLIVersion: this.config.version,
        });
        await (0, utils_1.spawnAsync)('node', [sourceMapExplorer, ...argv.slice(3, argv.length)], {}, {
            log: true,
        });
    }
}
exports.default = BundleVisualizer;
BundleVisualizer.hidden = false;
BundleVisualizer.description = '打包可视化';
BundleVisualizer.examples = [`krn bundle-visualizer ./foo.bundle ./foo.js.map`];
