"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.weblog = exports.deviceId = void 0;
const node_machine_id_1 = require("node-machine-id");
const log_core_1 = require("@ks/weblogger/lib/log.core");
const env_1 = require("./env");
exports.deviceId = node_machine_id_1.machineIdSync(true);
// 初始化 weblogger
exports.weblog = new log_core_1.Weblog({
    // 如果项目中有变量替换且值为 production/development，可以直接使用，例如 process.env.NODE_ENV
    env: 'production',
}, {
    product_name: 'krn_cli',
    device_id: !env_1.isCIEnvironment()
        ? !env_1.isMonitorEnvironment()
            ? exports.deviceId
            : 'monitor'
        : 'keep-ci',
});
