import { NativeModules } from 'react-native';
import { getInitData } from '../init';
export function setStorage(params) {
    const { rootTag } = getInitData();
    return new Promise((resolve, reject) => {
        if (typeof NativeModules?.KrnBridge?.setStorage === 'function') {
            NativeModules.KrnBridge.setStorage(rootTag, params)
                .then((res) => {
                resolve(res);
            })
                .catch((e) => {
                reject(e);
            });
        }
        else {
            reject(new Error('NativeModules.KrnBridge.setStorage not function'));
        }
    });
}
export function getStorage(params) {
    const { rootTag } = getInitData();
    return new Promise((resolve, reject) => {
        if (typeof NativeModules?.KrnBridge?.getStorage === 'function') {
            NativeModules.KrnBridge.getStorage(rootTag, params)
                .then((res) => {
                resolve(res);
            })
                .catch((e) => {
                reject(e);
            });
        }
        else {
            reject(new Error('NativeModules.KrnBridge.getStorage not function'));
        }
    });
}
