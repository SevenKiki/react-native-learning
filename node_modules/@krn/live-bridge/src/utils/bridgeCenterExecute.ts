import { NativeModules } from 'react-native';

export function bridgeCenterExecute<T>(
    namespace: string,
    name: string,
    paramStr?: string,
): Promise<T> {
    if (typeof NativeModules?.Kds?.invoke !== 'function') {
        return Promise.reject(
            new Error('NativeModules.Kds.invoke not function'),
        );
    }
    return new Promise((resolve, reject) => {
        NativeModules.Kds.invoke(namespace, name, paramStr)
            .then((res) => {
                resolve(res);
            })
            .catch((err) => {
                reject(err);
            });
    });
}
