var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=function(e){return e&&e.Math==Math&&e},n=t("object"==typeof globalThis&&globalThis)||t("object"==typeof window&&window)||t("object"==typeof self&&self)||t("object"==typeof e&&e)||function(){return this}()||Function("return this")(),r={},i=function(e){try{return!!e()}catch(e){return!0}},o=!i((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),a=!i((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")})),s=a,c=Function.prototype.call,u=s?c.bind(c):function(){return c.apply(c,arguments)},l={},d={}.propertyIsEnumerable,f=Object.getOwnPropertyDescriptor,p=f&&!d.call({1:2},1);l.f=p?function(e){var t=f(this,e);return!!t&&t.enumerable}:d;var h,v,g=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},m=a,y=Function.prototype,b=y.call,w=m&&y.bind.bind(b,b),S=function(e){return m?w(e):function(){return b.apply(e,arguments)}},k=S,_=k({}.toString),x=k("".slice),O=function(e){return x(_(e),8,-1)},E=O,A=S,P=function(e){if("Function"===E(e))return A(e)},T=i,C=O,I=Object,j=P("".split),L=T((function(){return!I("z").propertyIsEnumerable(0)}))?function(e){return"String"==C(e)?j(e,""):I(e)}:I,R=function(e){return null==e},M=R,N=TypeError,D=function(e){if(M(e))throw N("Can't call method on "+e);return e},B=L,F=D,U=function(e){return B(F(e))},V="object"==typeof document&&document.all,W={all:V,IS_HTMLDDA:void 0===V&&void 0!==V},$=W.all,K=W.IS_HTMLDDA?function(e){return"function"==typeof e||e===$}:function(e){return"function"==typeof e},G=K,z=W.all,H=W.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:G(e)||e===z}:function(e){return"object"==typeof e?null!==e:G(e)},J=n,q=K,Y=function(e){return q(e)?e:void 0},Q=function(e,t){return arguments.length<2?Y(J[e]):J[e]&&J[e][t]},X=P({}.isPrototypeOf),Z=Q("navigator","userAgent")||"",ee=n,te=Z,ne=ee.process,re=ee.Deno,ie=ne&&ne.versions||re&&re.version,oe=ie&&ie.v8;oe&&(v=(h=oe.split("."))[0]>0&&h[0]<4?1:+(h[0]+h[1])),!v&&te&&(!(h=te.match(/Edge\/(\d+)/))||h[1]>=74)&&(h=te.match(/Chrome\/(\d+)/))&&(v=+h[1]);var ae=v,se=ae,ce=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol();return!(e+"")||!(Object(e)instanceof Symbol)||!Symbol.sham&&se&&se<41})),ue=ce&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,le=Q,de=K,fe=X,pe=Object,he=ue?function(e){return"symbol"==typeof e}:function(e){var t=le("Symbol");return de(t)&&fe(t.prototype,pe(e))},ve=String,ge=function(e){try{return ve(e)}catch(e){return"Object"}},me=K,ye=ge,be=TypeError,we=function(e){if(me(e))return e;throw be(ye(e)+" is not a function")},Se=we,ke=R,_e=function(e,t){var n=e[t];return ke(n)?void 0:Se(n)},xe=u,Oe=K,Ee=H,Ae=TypeError,Pe={exports:{}},Te=n,Ce=Object.defineProperty,Ie=function(e,t){try{Ce(Te,e,{value:t,configurable:!0,writable:!0})}catch(n){Te[e]=t}return t},je=Ie,Le=n["__core-js_shared__"]||je("__core-js_shared__",{}),Re=Le;(Pe.exports=function(e,t){return Re[e]||(Re[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.25.5",mode:"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.25.5/LICENSE",source:"https://github.com/zloirock/core-js"});var Me=D,Ne=Object,De=function(e){return Ne(Me(e))},Be=De,Fe=P({}.hasOwnProperty),Ue=Object.hasOwn||function(e,t){return Fe(Be(e),t)},Ve=P,We=0,$e=Math.random(),Ke=Ve(1..toString),Ge=function(e){return"Symbol("+(void 0===e?"":e)+")_"+Ke(++We+$e,36)},ze=n,He=Pe.exports,Je=Ue,qe=Ge,Ye=ce,Qe=ue,Xe=He("wks"),Ze=ze.Symbol,et=Ze&&Ze.for,tt=Qe?Ze:Ze&&Ze.withoutSetter||qe,nt=function(e){if(!Je(Xe,e)||!Ye&&"string"!=typeof Xe[e]){var t="Symbol."+e;Ye&&Je(Ze,e)?Xe[e]=Ze[e]:Xe[e]=Qe&&et?et(t):tt(t)}return Xe[e]},rt=u,it=H,ot=he,at=_e,st=function(e,t){var n,r;if("string"===t&&Oe(n=e.toString)&&!Ee(r=xe(n,e)))return r;if(Oe(n=e.valueOf)&&!Ee(r=xe(n,e)))return r;if("string"!==t&&Oe(n=e.toString)&&!Ee(r=xe(n,e)))return r;throw Ae("Can't convert object to primitive value")},ct=TypeError,ut=nt("toPrimitive"),lt=function(e,t){if(!it(e)||ot(e))return e;var n,r=at(e,ut);if(r){if(void 0===t&&(t="default"),n=rt(r,e,t),!it(n)||ot(n))return n;throw ct("Can't convert object to primitive value")}return void 0===t&&(t="number"),st(e,t)},dt=he,ft=function(e){var t=lt(e,"string");return dt(t)?t:t+""},pt=H,ht=n.document,vt=pt(ht)&&pt(ht.createElement),gt=function(e){return vt?ht.createElement(e):{}},mt=gt,yt=!o&&!i((function(){return 7!=Object.defineProperty(mt("div"),"a",{get:function(){return 7}}).a})),bt=o,wt=u,St=l,kt=g,_t=U,xt=ft,Ot=Ue,Et=yt,At=Object.getOwnPropertyDescriptor;r.f=bt?At:function(e,t){if(e=_t(e),t=xt(t),Et)try{return At(e,t)}catch(e){}if(Ot(e,t))return kt(!wt(St.f,e,t),e[t])};var Pt={},Tt=o&&i((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),Ct=H,It=String,jt=TypeError,Lt=function(e){if(Ct(e))return e;throw jt(It(e)+" is not an object")},Rt=o,Mt=yt,Nt=Tt,Dt=Lt,Bt=ft,Ft=TypeError,Ut=Object.defineProperty,Vt=Object.getOwnPropertyDescriptor;Pt.f=Rt?Nt?function(e,t,n){if(Dt(e),t=Bt(t),Dt(n),"function"==typeof e&&"prototype"===t&&"value"in n&&"writable"in n&&!n.writable){var r=Vt(e,t);r&&r.writable&&(e[t]=n.value,n={configurable:"configurable"in n?n.configurable:r.configurable,enumerable:"enumerable"in n?n.enumerable:r.enumerable,writable:!1})}return Ut(e,t,n)}:Ut:function(e,t,n){if(Dt(e),t=Bt(t),Dt(n),Mt)try{return Ut(e,t,n)}catch(e){}if("get"in n||"set"in n)throw Ft("Accessors not supported");return"value"in n&&(e[t]=n.value),e};var Wt=Pt,$t=g,Kt=o?function(e,t,n){return Wt.f(e,t,$t(1,n))}:function(e,t,n){return e[t]=n,e},Gt={exports:{}},zt=o,Ht=Function.prototype,Jt=zt&&Object.getOwnPropertyDescriptor,qt=Ue(Ht,"name"),Yt={EXISTS:qt,PROPER:qt&&!1,CONFIGURABLE:qt&&(!zt||zt&&Jt(Ht,"name").configurable)},Qt=K,Xt=Le,Zt=P(Function.toString);Qt(Xt.inspectSource)||(Xt.inspectSource=function(e){return Zt(e)});var en,tn,nn,rn=Xt.inspectSource,on=K,an=n.WeakMap,sn=on(an)&&/native code/.test(an+""),cn=Pe.exports,un=Ge,ln=cn("keys"),dn=function(e){return ln[e]||(ln[e]=un(e))},fn={},pn=sn,hn=n,vn=H,gn=Kt,mn=Ue,yn=Le,bn=dn,wn=fn,Sn=hn.TypeError,kn=hn.WeakMap;if(pn||yn.state){var _n=yn.state||(yn.state=new kn);_n.get=_n.get,_n.has=_n.has,_n.set=_n.set,en=function(e,t){if(_n.has(e))throw Sn("Object already initialized");return t.facade=e,_n.set(e,t),t},tn=function(e){return _n.get(e)||{}},nn=function(e){return _n.has(e)}}else{var xn=bn("state");wn[xn]=!0,en=function(e,t){if(mn(e,xn))throw Sn("Object already initialized");return t.facade=e,gn(e,xn,t),t},tn=function(e){return mn(e,xn)?e[xn]:{}},nn=function(e){return mn(e,xn)}}var On={set:en,get:tn,has:nn,enforce:function(e){return nn(e)?tn(e):en(e,{})},getterFor:function(e){return function(t){var n;if(!vn(t)||(n=tn(t)).type!==e)throw Sn("Incompatible receiver, "+e+" required");return n}}},En=K,An=Ue,Pn=o,Tn=Yt.CONFIGURABLE,Cn=rn,In=On.enforce,jn=On.get,Ln=Object.defineProperty,Rn=Pn&&!i((function(){return 8!==Ln((function(){}),"length",{value:8}).length})),Mn=(String+"").split("String"),Nn=Gt.exports=function(e,t,n){"Symbol("===(t+"").slice(0,7)&&(t="["+(t+"").replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!An(e,"name")||Tn&&e.name!==t)&&(Pn?Ln(e,"name",{value:t,configurable:!0}):e.name=t),Rn&&n&&An(n,"arity")&&e.length!==n.arity&&Ln(e,"length",{value:n.arity});try{n&&An(n,"constructor")&&n.constructor?Pn&&Ln(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var r=In(e);return An(r,"source")||(r.source=Mn.join("string"==typeof t?t:"")),e};Function.prototype.toString=Nn((function(){return En(this)&&jn(this).source||Cn(this)}),"toString");var Dn=K,Bn=Pt,Fn=Gt.exports,Un=Ie,Vn=function(e,t,n,r){r||(r={});var i=r.enumerable,o=void 0!==r.name?r.name:t;if(Dn(n)&&Fn(n,o,r),r.global)i?e[t]=n:Un(t,n);else{try{r.unsafe?e[t]&&(i=!0):delete e[t]}catch(e){}i?e[t]=n:Bn.f(e,t,{value:n,enumerable:!1,configurable:!r.nonConfigurable,writable:!r.nonWritable})}return e},Wn={},$n=Math.ceil,Kn=Math.floor,Gn=Math.trunc||function(e){var t=+e;return(t>0?Kn:$n)(t)},zn=function(e){var t=+e;return t!=t||0===t?0:Gn(t)},Hn=zn,Jn=Math.max,qn=Math.min,Yn=zn,Qn=Math.min,Xn=function(e){return e>0?Qn(Yn(e),9007199254740991):0},Zn=Xn,er=function(e){return Zn(e.length)},tr=U,nr=function(e,t){var n=Hn(e);return n<0?Jn(n+t,0):qn(n,t)},rr=er,ir=function(e){return function(t,n,r){var i,o=tr(t),a=rr(o),s=nr(r,a);if(e&&n!=n){for(;a>s;)if((i=o[s++])!=i)return!0}else for(;a>s;s++)if((e||s in o)&&o[s]===n)return e||s||0;return!e&&-1}},or={includes:ir(!0),indexOf:ir(!1)},ar=Ue,sr=U,cr=or.indexOf,ur=fn,lr=P([].push),dr=function(e,t){var n,r=sr(e),i=0,o=[];for(n in r)!ar(ur,n)&&ar(r,n)&&lr(o,n);for(;t.length>i;)ar(r,n=t[i++])&&(~cr(o,n)||lr(o,n));return o},fr=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],pr=dr,hr=fr.concat("length","prototype");Wn.f=Object.getOwnPropertyNames||function(e){return pr(e,hr)};var vr={};vr.f=Object.getOwnPropertySymbols;var gr=Q,mr=Wn,yr=vr,br=Lt,wr=P([].concat),Sr=gr("Reflect","ownKeys")||function(e){var t=mr.f(br(e)),n=yr.f;return n?wr(t,n(e)):t},kr=Ue,_r=Sr,xr=r,Or=Pt,Er=i,Ar=K,Pr=/#|\.prototype\./,Tr=function(e,t){var n=Ir[Cr(e)];return n==Lr||n!=jr&&(Ar(t)?Er(t):!!t)},Cr=Tr.normalize=function(e){return(e+"").replace(Pr,".").toLowerCase()},Ir=Tr.data={},jr=Tr.NATIVE="N",Lr=Tr.POLYFILL="P",Rr=Tr,Mr=n,Nr=r.f,Dr=Kt,Br=Vn,Fr=Ie,Ur=function(e,t,n){for(var r=_r(t),i=Or.f,o=xr.f,a=0;a<r.length;a++){var s=r[a];kr(e,s)||n&&kr(n,s)||i(e,s,o(t,s))}},Vr=Rr,Wr=function(e,t){var n,r,i,o,a,s=e.target,c=e.global,u=e.stat;if(n=c?Mr:u?Mr[s]||Fr(s,{}):(Mr[s]||{}).prototype)for(r in t){if(o=t[r],i=e.dontCallGetSet?(a=Nr(n,r))&&a.value:n[r],!Vr(c?r:s+(u?".":"#")+r,e.forced)&&void 0!==i){if(typeof o==typeof i)continue;Ur(o,i)}(e.sham||i&&i.sham)&&Dr(o,"sham",!0),Br(n,r,o,e)}},$r="process"==O(n.process),Kr=K,Gr=String,zr=TypeError,Hr=P,Jr=Lt,qr=function(e){if("object"==typeof e||Kr(e))return e;throw zr("Can't set "+Gr(e)+" as a prototype")},Yr=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Hr(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return Jr(n),qr(r),t?e(n,r):n.__proto__=r,n}}():void 0),Qr=Pt.f,Xr=Ue,Zr=nt("toStringTag"),ei=function(e,t,n){e&&!n&&(e=e.prototype),e&&!Xr(e,Zr)&&Qr(e,Zr,{configurable:!0,value:t})},ti=Q,ni=Pt,ri=o,ii=nt("species"),oi=function(e){var t=ti(e),n=ni.f;ri&&t&&!t[ii]&&n(t,ii,{configurable:!0,get:function(){return this}})},ai=X,si=TypeError,ci={};ci[nt("toStringTag")]="z";var ui=ci+""=="[object z]",li=K,di=O,fi=nt("toStringTag"),pi=Object,hi="Arguments"==di(function(){return arguments}()),vi=ui?di:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=pi(e),fi))?n:hi?di(t):"Object"==(r=di(t))&&li(t.callee)?"Arguments":r},gi=P,mi=i,yi=K,bi=vi,wi=rn,Si=function(){},ki=[],_i=Q("Reflect","construct"),xi=/^\s*(?:class|function)\b/,Oi=gi(xi.exec),Ei=!xi.exec(Si),Ai=function(e){if(!yi(e))return!1;try{return _i(Si,ki,e),!0}catch(e){return!1}},Pi=function(e){if(!yi(e))return!1;switch(bi(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Ei||!!Oi(xi,wi(e))}catch(e){return!0}};Pi.sham=!0;var Ti,Ci,Ii,ji,Li=!_i||mi((function(){var e;return Ai(Ai.call)||!Ai(Object)||!Ai((function(){e=!0}))||e}))?Pi:Ai,Ri=Li,Mi=ge,Ni=TypeError,Di=Lt,Bi=function(e){if(Ri(e))return e;throw Ni(Mi(e)+" is not a constructor")},Fi=R,Ui=nt("species"),Vi=a,Wi=Function.prototype,$i=Wi.apply,Ki=Wi.call,Gi="object"==typeof Reflect&&Reflect.apply||(Vi?Ki.bind($i):function(){return Ki.apply($i,arguments)}),zi=we,Hi=a,Ji=P(P.bind),qi=function(e,t){return zi(e),void 0===t?e:Hi?Ji(e,t):function(){return e.apply(t,arguments)}},Yi=Q("document","documentElement"),Qi=P([].slice),Xi=TypeError,Zi=/(?:ipad|iphone|ipod).*applewebkit/i.test(Z),eo=n,to=Gi,no=qi,ro=K,io=Ue,oo=i,ao=Yi,so=Qi,co=gt,uo=function(e,t){if(e<t)throw Xi("Not enough arguments");return e},lo=Zi,fo=$r,po=eo.setImmediate,ho=eo.clearImmediate,vo=eo.process,go=eo.Dispatch,mo=eo.Function,yo=eo.MessageChannel,bo=eo.String,wo=0,So={};try{Ti=eo.location}catch(e){}var ko=function(e){if(io(So,e)){var t=So[e];delete So[e],t()}},_o=function(e){return function(){ko(e)}},xo=function(e){ko(e.data)},Oo=function(e){eo.postMessage(bo(e),Ti.protocol+"//"+Ti.host)};po&&ho||(po=function(e){uo(arguments.length,1);var t=ro(e)?e:mo(e),n=so(arguments,1);return So[++wo]=function(){to(t,void 0,n)},Ci(wo),wo},ho=function(e){delete So[e]},fo?Ci=function(e){vo.nextTick(_o(e))}:go&&go.now?Ci=function(e){go.now(_o(e))}:yo&&!lo?(ji=(Ii=new yo).port2,Ii.port1.onmessage=xo,Ci=no(ji.postMessage,ji)):eo.addEventListener&&ro(eo.postMessage)&&!eo.importScripts&&Ti&&"file:"!==Ti.protocol&&!oo(Oo)?(Ci=Oo,eo.addEventListener("message",xo,!1)):Ci="onreadystatechange"in co("script")?function(e){ao.appendChild(co("script")).onreadystatechange=function(){ao.removeChild(this),ko(e)}}:function(e){setTimeout(_o(e),0)});var Eo,Ao,Po,To,Co,Io,jo,Lo,Ro={set:po,clear:ho},Mo=n,No=/ipad|iphone|ipod/i.test(Z)&&void 0!==Mo.Pebble,Do=/web0s(?!.*chrome)/i.test(Z),Bo=n,Fo=qi,Uo=r.f,Vo=Ro.set,Wo=Zi,$o=No,Ko=Do,Go=$r,zo=Bo.MutationObserver||Bo.WebKitMutationObserver,Ho=Bo.document,Jo=Bo.process,qo=Bo.Promise,Yo=Uo(Bo,"queueMicrotask"),Qo=Yo&&Yo.value;Qo||(Eo=function(){var e,t;for(Go&&(e=Jo.domain)&&e.exit();Ao;){t=Ao.fn,Ao=Ao.next;try{t()}catch(e){throw Ao?To():Po=void 0,e}}Po=void 0,e&&e.enter()},Wo||Go||Ko||!zo||!Ho?!$o&&qo&&qo.resolve?((jo=qo.resolve(void 0)).constructor=qo,Lo=Fo(jo.then,jo),To=function(){Lo(Eo)}):Go?To=function(){Jo.nextTick(Eo)}:(Vo=Fo(Vo,Bo),To=function(){Vo(Eo)}):(Co=!0,Io=Ho.createTextNode(""),new zo(Eo).observe(Io,{characterData:!0}),To=function(){Io.data=Co=!Co}));var Xo=Qo||function(e){var t={fn:e,next:void 0};Po&&(Po.next=t),Ao||(Ao=t,To()),Po=t},Zo=n,ea=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}},ta=function(){this.head=null,this.tail=null};ta.prototype={add:function(e){var t={item:e,next:null};this.head?this.tail.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return this.head=e.next,this.tail===e&&(this.tail=null),e.item}};var na=ta,ra=n.Promise,ia="object"==typeof Deno&&Deno&&"object"==typeof Deno.version,oa=!ia&&!$r&&"object"==typeof window&&"object"==typeof document,aa=n,sa=ra,ca=K,ua=Rr,la=rn,da=nt,fa=oa,pa=ia,ha=ae;sa&&sa.prototype;var va=da("species"),ga=!1,ma=ca(aa.PromiseRejectionEvent),ya=ua("Promise",(function(){var e=la(sa),t=e!==sa+"";if(!t&&66===ha)return!0;if(!ha||ha<51||!/native code/.test(e)){var n=new sa((function(e){e(1)})),r=function(e){e((function(){}),(function(){}))};if((n.constructor={})[va]=r,!(ga=n.then((function(){}))instanceof r))return!0}return!t&&(fa||pa)&&!ma})),ba={CONSTRUCTOR:ya,REJECTION_EVENT:ma,SUBCLASSING:ga},wa={},Sa=we,ka=TypeError,_a=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw ka("Bad Promise constructor");t=e,n=r})),this.resolve=Sa(t),this.reject=Sa(n)};wa.f=function(e){return new _a(e)};var xa,Oa,Ea,Aa=Wr,Pa=$r,Ta=n,Ca=u,Ia=Vn,ja=Yr,La=ei,Ra=oi,Ma=we,Na=K,Da=H,Ba=function(e,t){if(ai(t,e))return e;throw si("Incorrect invocation")},Fa=function(e,t){var n,r=Di(e).constructor;return void 0===r||Fi(n=Di(r)[Ui])?t:Bi(n)},Ua=Ro.set,Va=Xo,Wa=function(e,t){var n=Zo.console;n&&n.error&&(1==arguments.length?n.error(e):n.error(e,t))},$a=ea,Ka=na,Ga=On,za=ra,Ha=wa,Ja=ba.CONSTRUCTOR,qa=ba.REJECTION_EVENT,Ya=ba.SUBCLASSING,Qa=Ga.getterFor("Promise"),Xa=Ga.set,Za=za&&za.prototype,es=za,ts=Za,ns=Ta.TypeError,rs=Ta.document,is=Ta.process,os=Ha.f,as=os,ss=!!(rs&&rs.createEvent&&Ta.dispatchEvent),cs=function(e){var t;return!(!Da(e)||!Na(t=e.then))&&t},us=function(e,t){var n,r,i,o=t.value,a=1==t.state,s=a?e.ok:e.fail,c=e.resolve,u=e.reject,l=e.domain;try{s?(a||(2===t.rejection&&hs(t),t.rejection=1),!0===s?n=o:(l&&l.enter(),n=s(o),l&&(l.exit(),i=!0)),n===e.promise?u(ns("Promise-chain cycle")):(r=cs(n))?Ca(r,n,c,u):c(n)):u(o)}catch(e){l&&!i&&l.exit(),u(e)}},ls=function(e,t){e.notified||(e.notified=!0,Va((function(){for(var n,r=e.reactions;n=r.get();)us(n,e);e.notified=!1,t&&!e.rejection&&fs(e)})))},ds=function(e,t,n){var r,i;ss?((r=rs.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),Ta.dispatchEvent(r)):r={promise:t,reason:n},!qa&&(i=Ta["on"+e])?i(r):"unhandledrejection"===e&&Wa("Unhandled promise rejection",n)},fs=function(e){Ca(Ua,Ta,(function(){var t,n=e.facade,r=e.value;if(ps(e)&&(t=$a((function(){Pa?is.emit("unhandledRejection",r,n):ds("unhandledrejection",n,r)})),e.rejection=Pa||ps(e)?2:1,t.error))throw t.value}))},ps=function(e){return 1!==e.rejection&&!e.parent},hs=function(e){Ca(Ua,Ta,(function(){var t=e.facade;Pa?is.emit("rejectionHandled",t):ds("rejectionhandled",t,e.value)}))},vs=function(e,t,n){return function(r){e(t,r,n)}},gs=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,ls(e,!0))},ms=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw ns("Promise can't be resolved itself");var r=cs(t);r?Va((function(){var n={done:!1};try{Ca(r,t,vs(ms,n,e),vs(gs,n,e))}catch(t){gs(n,t,e)}})):(e.value=t,e.state=1,ls(e,!1))}catch(t){gs({done:!1},t,e)}}};if(Ja&&(ts=(es=function(e){Ba(this,ts),Ma(e),Ca(xa,this);var t=Qa(this);try{e(vs(ms,t),vs(gs,t))}catch(e){gs(t,e)}}).prototype,(xa=function(e){Xa(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:new Ka,rejection:!1,state:0,value:void 0})}).prototype=Ia(ts,"then",(function(e,t){var n=Qa(this),r=os(Fa(this,es));return n.parent=!0,r.ok=!Na(e)||e,r.fail=Na(t)&&t,r.domain=Pa?is.domain:void 0,0==n.state?n.reactions.add(r):Va((function(){us(r,n)})),r.promise})),Oa=function(){var e=new xa,t=Qa(e);this.promise=e,this.resolve=vs(ms,t),this.reject=vs(gs,t)},Ha.f=os=function(e){return e===es||undefined===e?new Oa(e):as(e)},Na(za)&&Za!==Object.prototype)){Ea=Za.then,Ya||Ia(Za,"then",(function(e,t){var n=this;return new es((function(e,t){Ca(Ea,n,e,t)})).then(e,t)}),{unsafe:!0});try{delete Za.constructor}catch(e){}ja&&ja(Za,ts)}Aa({global:!0,constructor:!0,wrap:!0,forced:Ja},{Promise:es}),La(es,"Promise",!1),Ra("Promise");var ys={},bs=ys,ws=nt("iterator"),Ss=Array.prototype,ks=vi,_s=_e,xs=R,Os=ys,Es=nt("iterator"),As=function(e){if(!xs(e))return _s(e,Es)||_s(e,"@@iterator")||Os[ks(e)]},Ps=u,Ts=we,Cs=Lt,Is=ge,js=As,Ls=TypeError,Rs=u,Ms=Lt,Ns=_e,Ds=qi,Bs=u,Fs=Lt,Us=ge,Vs=function(e){return void 0!==e&&(bs.Array===e||Ss[ws]===e)},Ws=er,$s=X,Ks=function(e,t){var n=arguments.length<2?js(e):t;if(Ts(n))return Cs(Ps(n,e));throw Ls(Is(e)+" is not iterable")},Gs=As,zs=function(e,t,n){var r,i;Ms(e);try{if(!(r=Ns(e,"return"))){if("throw"===t)throw n;return n}r=Rs(r,e)}catch(e){i=!0,r=e}if("throw"===t)throw n;if(i)throw r;return Ms(r),n},Hs=TypeError,Js=function(e,t){this.stopped=e,this.result=t},qs=Js.prototype,Ys=function(e,t,n){var r,i,o,a,s,c,u,l=n&&n.that,d=!(!n||!n.AS_ENTRIES),f=!(!n||!n.IS_RECORD),p=!(!n||!n.IS_ITERATOR),h=!(!n||!n.INTERRUPTED),v=Ds(t,l),g=function(e){return r&&zs(r,"normal",e),new Js(!0,e)},m=function(e){return d?(Fs(e),h?v(e[0],e[1],g):v(e[0],e[1])):h?v(e,g):v(e)};if(f)r=e.iterator;else if(p)r=e;else{if(!(i=Gs(e)))throw Hs(Us(e)+" is not iterable");if(Vs(i)){for(o=0,a=Ws(e);a>o;o++)if((s=m(e[o]))&&$s(qs,s))return s;return new Js(!1)}r=Ks(e,i)}for(c=f?e.next:r.next;!(u=Bs(c,r)).done;){try{s=m(u.value)}catch(e){zs(r,"throw",e)}if("object"==typeof s&&s&&$s(qs,s))return s}return new Js(!1)},Qs=nt("iterator"),Xs=!1;try{var Zs=0,ec={next:function(){return{done:!!Zs++}},return:function(){Xs=!0}};ec[Qs]=function(){return this},Array.from(ec,(function(){throw 2}))}catch(e){}var tc=ra,nc=function(e,t){if(!t&&!Xs)return!1;var n=!1;try{var r={};r[Qs]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(e){}return n},rc=ba.CONSTRUCTOR||!nc((function(e){tc.all(e).then(void 0,(function(){}))})),ic=u,oc=we,ac=wa,sc=ea,cc=Ys;Wr({target:"Promise",stat:!0,forced:rc},{all:function(e){var t=this,n=ac.f(t),r=n.resolve,i=n.reject,o=sc((function(){var n=oc(t.resolve),o=[],a=0,s=1;cc(e,(function(e){var c=a++,u=!1;s++,ic(n,t,e).then((function(e){u||(u=!0,o[c]=e,--s||r(o))}),i)})),--s||r(o)}));return o.error&&i(o.value),n.promise}});var uc=Wr,lc=ba.CONSTRUCTOR,dc=ra,fc=Q,pc=K,hc=Vn,vc=dc&&dc.prototype;if(uc({target:"Promise",proto:!0,forced:lc,real:!0},{catch:function(e){return this.then(void 0,e)}}),pc(dc)){var gc=fc("Promise").prototype.catch;vc.catch!==gc&&hc(vc,"catch",gc,{unsafe:!0})}var mc=u,yc=we,bc=wa,wc=ea,Sc=Ys;Wr({target:"Promise",stat:!0,forced:rc},{race:function(e){var t=this,n=bc.f(t),r=n.reject,i=wc((function(){var i=yc(t.resolve);Sc(e,(function(e){mc(i,t,e).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}});var kc=u,_c=wa;Wr({target:"Promise",stat:!0,forced:ba.CONSTRUCTOR},{reject:function(e){var t=_c.f(this);return kc(t.reject,void 0,e),t.promise}});var xc=Lt,Oc=H,Ec=wa,Ac=Wr,Pc=ba.CONSTRUCTOR,Tc=function(e,t){if(xc(e),Oc(t)&&t.constructor===e)return t;var n=Ec.f(e);return(0,n.resolve)(t),n.promise};Q("Promise"),Ac({target:"Promise",stat:!0,forced:Pc},{resolve:function(e){return Tc(this,e)}});class Cc{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}var Ic=vi,jc=String,Lc=function(e){if("Symbol"===Ic(e))throw TypeError("Cannot convert a Symbol value to a string");return jc(e)},Rc=Lt,Mc=function(){var e=Rc(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t},Nc=i,Dc=n.RegExp,Bc=Nc((function(){var e=Dc("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),Fc=Bc||Nc((function(){return!Dc("a","y").sticky})),Uc={BROKEN_CARET:Bc||Nc((function(){var e=Dc("^r","gy");return e.lastIndex=2,null!=e.exec("str")})),MISSED_STICKY:Fc,UNSUPPORTED_Y:Bc},Vc={},Wc=dr,$c=fr,Kc=Object.keys||function(e){return Wc(e,$c)},Gc=o,zc=Tt,Hc=Pt,Jc=Lt,qc=U,Yc=Kc;Vc.f=Gc&&!zc?Object.defineProperties:function(e,t){Jc(e);for(var n,r=qc(t),i=Yc(t),o=i.length,a=0;o>a;)Hc.f(e,n=i[a++],r[n]);return e};var Qc,Xc=Lt,Zc=Vc,eu=fr,tu=fn,nu=Yi,ru=gt,iu=dn("IE_PROTO"),ou=function(){},au=function(e){return"<script>"+e+"<\/script>"},su=function(e){e.write(au("")),e.close();var t=e.parentWindow.Object;return e=null,t},cu=function(){try{Qc=new ActiveXObject("htmlfile")}catch(e){}var e,t;cu="undefined"!=typeof document?document.domain&&Qc?su(Qc):((t=ru("iframe")).style.display="none",nu.appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write(au("document.F=Object")),e.close(),e.F):su(Qc);for(var n=eu.length;n--;)delete cu.prototype[eu[n]];return cu()};tu[iu]=!0;var uu=Object.create||function(e,t){var n;return null!==e?(ou.prototype=Xc(e),n=new ou,ou.prototype=null,n[iu]=e):n=cu(),void 0===t?n:Zc.f(n,t)},lu=i,du=n.RegExp,fu=lu((function(){var e=du(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)})),pu=i,hu=n.RegExp,vu=pu((function(){var e=hu("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")})),gu=u,mu=P,yu=Lc,bu=Mc,wu=Uc,Su=Pe.exports,ku=uu,_u=On.get,xu=fu,Ou=vu,Eu=Su("native-string-replace",String.prototype.replace),Au=RegExp.prototype.exec,Pu=Au,Tu=mu("".charAt),Cu=mu("".indexOf),Iu=mu("".replace),ju=mu("".slice),Lu=function(){var e=/a/,t=/b*/g;return gu(Au,e,"a"),gu(Au,t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),Ru=wu.BROKEN_CARET,Mu=void 0!==/()??/.exec("")[1];(Lu||Mu||Ru||xu||Ou)&&(Pu=function(e){var t,n,r,i,o,a,s,c=this,u=_u(c),l=yu(e),d=u.raw;if(d)return d.lastIndex=c.lastIndex,t=gu(Pu,d,l),c.lastIndex=d.lastIndex,t;var f=u.groups,p=Ru&&c.sticky,h=gu(bu,c),v=c.source,g=0,m=l;if(p&&(h=Iu(h,"y",""),-1===Cu(h,"g")&&(h+="g"),m=ju(l,c.lastIndex),c.lastIndex>0&&(!c.multiline||c.multiline&&"\n"!==Tu(l,c.lastIndex-1))&&(v="(?: "+v+")",m=" "+m,g++),n=RegExp("^(?:"+v+")",h)),Mu&&(n=RegExp("^"+v+"$(?!\\s)",h)),Lu&&(r=c.lastIndex),i=gu(Au,p?n:c,m),p?i?(i.input=ju(i.input,g),i[0]=ju(i[0],g),i.index=c.lastIndex,c.lastIndex+=i[0].length):c.lastIndex=0:Lu&&i&&(c.lastIndex=c.global?i.index+i[0].length:r),Mu&&i&&i.length>1&&gu(Eu,i[0],n,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(i[o]=void 0)})),i&&f)for(i.groups=a=ku(null),o=0;o<f.length;o++)a[(s=f[o])[0]]=i[s[1]];return i});var Nu=Pu;Wr({target:"RegExp",proto:!0,forced:/./.exec!==Nu},{exec:Nu});var Du=nt,Bu=uu,Fu=Pt.f,Uu=Du("unscopables"),Vu=Array.prototype;null==Vu[Uu]&&Fu(Vu,Uu,{configurable:!0,value:Bu(null)});var Wu=function(e){Vu[Uu][e]=!0},$u=or.includes,Ku=Wu;Wr({target:"Array",proto:!0,forced:i((function(){return![,].includes()}))},{includes:function(e){return $u(this,e,arguments.length>1?arguments[1]:void 0)}}),Ku("includes");var Gu=H,zu=O,Hu=nt("match"),Ju=function(e){var t;return Gu(e)&&(void 0!==(t=e[Hu])?!!t:"RegExp"==zu(e))},qu=Ju,Yu=TypeError,Qu=function(e){if(qu(e))throw Yu("The method doesn't accept regular expressions");return e},Xu=nt("match"),Zu=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[Xu]=!1,"/./"[e](t)}catch(e){}}return!1},el=Wr,tl=Qu,nl=D,rl=Lc,il=Zu,ol=P("".indexOf);el({target:"String",proto:!0,forced:!il("includes")},{includes:function(e){return!!~ol(rl(nl(this)),rl(tl(e)),arguments.length>1?arguments[1]:void 0)}});var al=K,sl=H,cl=Yr,ul=u,ll=Ue,dl=X,fl=Mc,pl=RegExp.prototype,hl=function(e){var t=e.flags;return void 0!==t||"flags"in pl||ll(e,"flags")||!dl(pl,e)?t:ul(fl,e)},vl=Pt.f,gl=o,ml=n,yl=P,bl=Rr,wl=function(e,t,n){var r,i;return cl&&al(r=t.constructor)&&r!==n&&sl(i=r.prototype)&&i!==n.prototype&&cl(e,i),e},Sl=Kt,kl=Wn.f,_l=X,xl=Ju,Ol=Lc,El=hl,Al=Uc,Pl=function(e,t,n){n in e||vl(e,n,{configurable:!0,get:function(){return t[n]},set:function(e){t[n]=e}})},Tl=Vn,Cl=i,Il=Ue,jl=On.enforce,Ll=oi,Rl=fu,Ml=vu,Nl=nt("match"),Dl=ml.RegExp,Bl=Dl.prototype,Fl=ml.SyntaxError,Ul=yl(Bl.exec),Vl=yl("".charAt),Wl=yl("".replace),$l=yl("".indexOf),Kl=yl("".slice),Gl=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,zl=/a/g,Hl=/a/g,Jl=new Dl(zl)!==zl,ql=Al.MISSED_STICKY,Yl=Al.UNSUPPORTED_Y,Ql=gl&&(!Jl||ql||Rl||Ml||Cl((function(){return Hl[Nl]=!1,Dl(zl)!=zl||Dl(Hl)==Hl||"/a/i"!=Dl(zl,"i")})));if(bl("RegExp",Ql)){for(var Xl=function(e,t){var n,r,i,o,a,s,c=_l(Bl,this),u=xl(e),l=void 0===t,d=[],f=e;if(!c&&u&&l&&e.constructor===Xl)return e;if((u||_l(Bl,e))&&(e=e.source,l&&(t=El(f))),e=void 0===e?"":Ol(e),t=void 0===t?"":Ol(t),f=e,Rl&&"dotAll"in zl&&(r=!!t&&$l(t,"s")>-1)&&(t=Wl(t,/s/g,"")),n=t,ql&&"sticky"in zl&&(i=!!t&&$l(t,"y")>-1)&&Yl&&(t=Wl(t,/y/g,"")),Ml&&(o=function(e){for(var t,n=e.length,r=0,i="",o=[],a={},s=!1,c=!1,u=0,l="";r<=n;r++){if("\\"===(t=Vl(e,r)))t+=Vl(e,++r);else if("]"===t)s=!1;else if(!s)switch(!0){case"["===t:s=!0;break;case"("===t:Ul(Gl,Kl(e,r+1))&&(r+=2,c=!0),i+=t,u++;continue;case">"===t&&c:if(""===l||Il(a,l))throw new Fl("Invalid capture group name");a[l]=!0,o[o.length]=[l,u],c=!1,l="";continue}c?l+=t:i+=t}return[i,o]}(e),e=o[0],d=o[1]),a=wl(Dl(e,t),c?this:Bl,Xl),(r||i||d.length)&&(s=jl(a),r&&(s.dotAll=!0,s.raw=Xl(function(e){for(var t,n=e.length,r=0,i="",o=!1;r<=n;r++)"\\"!==(t=Vl(e,r))?o||"."!==t?("["===t?o=!0:"]"===t&&(o=!1),i+=t):i+="[\\s\\S]":i+=t+Vl(e,++r);return i}(e),n)),i&&(s.sticky=!0),d.length&&(s.groups=d)),e!==f)try{Sl(a,"source",""===f?"(?:)":f)}catch(e){}return a},Zl=kl(Dl),ed=0;Zl.length>ed;)Pl(Xl,Dl,Zl[ed++]);Bl.constructor=Xl,Xl.prototype=Bl,Tl(ml,"RegExp",Xl,{constructor:!0})}Ll("RegExp");var td=Yt.PROPER,nd=Vn,rd=Lt,id=Lc,od=i,ad=hl,sd=RegExp.prototype.toString,cd=od((function(){return"/a/b"!=sd.call({source:"a",flags:"b"})})),ud=td&&"toString"!=sd.name;(cd||ud)&&nd(RegExp.prototype,"toString",(function(){var e=rd(this);return"/"+id(e.source)+"/"+id(ad(e))}),{unsafe:!0});var ld,dd,fd,pd=!i((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})),hd=Ue,vd=K,gd=De,md=pd,yd=dn("IE_PROTO"),bd=Object,wd=bd.prototype,Sd=md?bd.getPrototypeOf:function(e){var t=gd(e);if(hd(t,yd))return t[yd];var n=t.constructor;return vd(n)&&t instanceof n?n.prototype:t instanceof bd?wd:null},kd=i,_d=K,xd=H,Od=Sd,Ed=Vn,Ad=nt("iterator"),Pd=!1;[].keys&&("next"in(fd=[].keys())?(dd=Od(Od(fd)))!==Object.prototype&&(ld=dd):Pd=!0);var Td=!xd(ld)||kd((function(){var e={};return ld[Ad].call(e)!==e}));Td&&(ld={}),_d(ld[Ad])||Ed(ld,Ad,(function(){return this}));var Cd={IteratorPrototype:ld,BUGGY_SAFARI_ITERATORS:Pd},Id=Cd.IteratorPrototype,jd=uu,Ld=g,Rd=ei,Md=ys,Nd=function(){return this},Dd=Wr,Bd=u,Fd=K,Ud=function(e,t,n,r){var i=t+" Iterator";return e.prototype=jd(Id,{next:Ld(+!r,n)}),Rd(e,i,!1),Md[i]=Nd,e},Vd=Sd,Wd=Yr,$d=ei,Kd=Kt,Gd=Vn,zd=ys,Hd=Yt.PROPER,Jd=Yt.CONFIGURABLE,qd=Cd.IteratorPrototype,Yd=Cd.BUGGY_SAFARI_ITERATORS,Qd=nt("iterator"),Xd=function(){return this},Zd=U,ef=Wu,tf=ys,nf=On,rf=Pt.f,of=function(e,t,n,r,i,o,a){Ud(n,t,r);var s,c,u,l=function(e){if(e===i&&v)return v;if(!Yd&&e in p)return p[e];switch(e){case"keys":case"values":case"entries":return function(){return new n(this,e)}}return function(){return new n(this)}},d=t+" Iterator",f=!1,p=e.prototype,h=p[Qd]||p["@@iterator"]||i&&p[i],v=!Yd&&h||l(i),g="Array"==t&&p.entries||h;if(g&&(s=Vd(g.call(new e)))!==Object.prototype&&s.next&&(Vd(s)!==qd&&(Wd?Wd(s,qd):Fd(s[Qd])||Gd(s,Qd,Xd)),$d(s,d,!0)),Hd&&"values"==i&&h&&"values"!==h.name&&(Jd?Kd(p,"name","values"):(f=!0,v=function(){return Bd(h,this)})),i)if(c={values:l("values"),keys:o?v:l("keys"),entries:l("entries")},a)for(u in c)(Yd||f||!(u in p))&&Gd(p,u,c[u]);else Dd({target:t,proto:!0,forced:Yd||f},c);return p[Qd]!==v&&Gd(p,Qd,v,{name:i}),zd[t]=v,c},af=function(e,t){return{value:e,done:t}},sf=o,cf=nf.set,uf=nf.getterFor("Array Iterator"),lf=of(Array,"Array",(function(e,t){cf(this,{type:"Array Iterator",target:Zd(e),index:0,kind:t})}),(function(){var e=uf(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,af(void 0,!0)):af("keys"==n?r:"values"==n?t[r]:[r,t[r]],!1)}),"values"),df=tf.Arguments=tf.Array;if(ef("keys"),ef("values"),ef("entries"),sf&&"values"!==df.name)try{rf(df,"name",{value:"values"})}catch(e){}var ff=gt("span").classList,pf=ff&&ff.constructor&&ff.constructor.prototype,hf=n,vf={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},gf=pf===Object.prototype?void 0:pf,mf=lf,yf=Kt,bf=nt,wf=bf("iterator"),Sf=bf("toStringTag"),kf=mf.values,_f=function(e,t){if(e){if(e[wf]!==kf)try{yf(e,wf,kf)}catch(t){e[wf]=kf}if(e[Sf]||yf(e,Sf,t),vf[t])for(var n in mf)if(e[n]!==mf[n])try{yf(e,n,mf[n])}catch(t){e[n]=mf[n]}}};for(var xf in vf)_f(hf[xf]&&hf[xf].prototype,xf);_f(gf,"DOMTokenList");const Of=(()=>{const{hasOwnProperty:e}=Object.prototype;return(t,n)=>e.call(t,n)})(),Ef=e=>"function"==typeof e,Af=e=>new Promise((t=>setTimeout(t,e))),Pf=(e,t)=>{if(!e||!t)return NaN;const n=e.split(".").map((e=>+e)),r=t.split(".").map((e=>+e));for(let e=0;e<Math.min(n.length,r.length);e+=1){if(Number.isNaN(n[e])||Number.isNaN(r[e]))return NaN;if(n[e]!==r[e])return n[e]-r[e]}return 0},Tf=((e,t=((...e)=>e[0]))=>{const n=new Map,r=new WeakMap;return(...i)=>{var o;const a=t(...i),s="object"==typeof(c=a)&&null!==c?r:n;var c;const u=null!==(o=s.get(a))&&void 0!==o?o:e(...i);return s.has(a)||s.set(a,u),u}})((e=>{var t,n;return null!==(t=null===(n=RegExp(`(?:${e})\\/([\\d+.]+)`).exec("undefined"==typeof navigator?"":navigator.userAgent))||void 0===n?void 0:n[1])&&void 0!==t?t:""})),Cf=e=>Pf(Tf("Yoda"),e),If=e=>Pf(Tf("Kwai|ksNebula"),e),jf=(()=>{if("undefined"==typeof navigator)return"unknown";const{userAgent:e,maxTouchPoints:t}=navigator;return/android/i.test(e)?"Android":/iPhone|iPad|iPod/.test(e)||e.includes("Mac")&&t>1?"iOS":"unknown"})(),Lf="Android"===jf,Rf="iOS"===jf,Mf=!!Tf("Kwai|ksNebula");const Nf=Number.MAX_SAFE_INTEGER||9007199254740991;let Df=!1,Bf=1,Ff=Uf();function Uf(){const e=""+Nf,t=Number(e.slice(0,3))-100,n=Math.floor(Math.random()*t),r=""+Date.now(),i=r.slice(r.length-9),o=Array(e.length-12).fill(0).join("");return Number(`${n}${i}${o}`)}function Vf(e){const t=function(e){let t=Ff+Bf++;for(;Df||e&&e[t];)t=Ff+Bf++;return t}(e);return t>=Nf?(Df=!0,Bf=1,Ff=Uf(),Vf()):t}function Wf(e){return Vf(e)}function $f(e,t=300){let n=null;return(...r)=>{clearTimeout(n),n=setTimeout((()=>{e.apply(this,r)}),t)}}let Kf=null;function Gf(){return Kf}async function zf(e,t){const n=Gf(),r=await n.bridge("tool","canIUse",{namespace:e,name:t});return"1"==r.result&&r.canUse}var Hf,Jf=Wr,qf=P,Yf=r.f,Qf=Xn,Xf=Lc,Zf=Qu,ep=D,tp=Zu,np=qf("".startsWith),rp=qf("".slice),ip=Math.min,op=tp("startsWith");Jf({target:"String",proto:!0,forced:!!(op||(Hf=Yf(String.prototype,"startsWith"),!Hf||Hf.writable))&&!op},{startsWith:function(e){var t=Xf(ep(this));Zf(e);var n=Qf(ip(arguments.length>1?arguments[1]:void 0,t.length)),r=Xf(e);return np?np(t,r,n):rp(t,n,n+r.length)===r}});var ap=P,sp=Vn,cp=Nu,up=i,lp=nt,dp=Kt,fp=lp("species"),pp=RegExp.prototype,hp=P,vp=zn,gp=Lc,mp=D,yp=hp("".charAt),bp=hp("".charCodeAt),wp=hp("".slice),Sp=function(e){return function(t,n){var r,i,o=gp(mp(t)),a=vp(n),s=o.length;return a<0||a>=s?e?"":void 0:(r=bp(o,a))<55296||r>56319||a+1===s||(i=bp(o,a+1))<56320||i>57343?e?yp(o,a):r:e?wp(o,a,a+2):i-56320+(r-55296<<10)+65536}},kp={codeAt:Sp(!1),charAt:Sp(!0)}.charAt,_p=P,xp=De,Op=Math.floor,Ep=_p("".charAt),Ap=_p("".replace),Pp=_p("".slice),Tp=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,Cp=/\$([$&'`]|\d{1,2})/g,Ip=u,jp=Lt,Lp=K,Rp=O,Mp=Nu,Np=TypeError,Dp=Gi,Bp=u,Fp=P,Up=function(e,t,n,r){var i=lp(e),o=!up((function(){var t={};return t[i]=function(){return 7},7!=""[e](t)})),a=o&&!up((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[fp]=function(){return n},n.flags="",n[i]=/./[i]),n.exec=function(){return t=!0,null},n[i](""),!t}));if(!o||!a||n){var s=ap(/./[i]),c=t(i,""[e],(function(e,t,n,r,i){var a=ap(e),c=t.exec;return c===cp||c===pp.exec?o&&!i?{done:!0,value:s(t,n,r)}:{done:!0,value:a(n,t,r)}:{done:!1}}));sp(String.prototype,e,c[0]),sp(pp,i,c[1])}r&&dp(pp[i],"sham",!0)},Vp=i,Wp=Lt,$p=K,Kp=R,Gp=zn,zp=Xn,Hp=Lc,Jp=D,qp=function(e,t,n){return t+(n?kp(e,t).length:1)},Yp=_e,Qp=function(e,t,n,r,i,o){var a=n+e.length,s=r.length,c=Cp;return void 0!==i&&(i=xp(i),c=Tp),Ap(o,c,(function(o,c){var u;switch(Ep(c,0)){case"$":return"$";case"&":return e;case"`":return Pp(t,0,n);case"'":return Pp(t,a);case"<":u=i[Pp(c,1,-1)];break;default:var l=+c;if(0===l)return o;if(l>s){var d=Op(l/10);return 0===d?o:d<=s?void 0===r[d-1]?Ep(c,1):r[d-1]+Ep(c,1):o}u=r[l-1]}return void 0===u?"":u}))},Xp=function(e,t){var n=e.exec;if(Lp(n)){var r=Ip(n,e,t);return null!==r&&jp(r),r}if("RegExp"===Rp(e))return Ip(Mp,e,t);throw Np("RegExp#exec called on incompatible receiver")},Zp=nt("replace"),eh=Math.max,th=Math.min,nh=Fp([].concat),rh=Fp([].push),ih=Fp("".indexOf),oh=Fp("".slice),ah=!!/./[Zp]&&""===/./[Zp]("a","$0");Up("replace",(function(e,t,n){var r=ah?"$":"$0";return[function(e,n){var r=Jp(this),i=Kp(e)?void 0:Yp(e,Zp);return i?Bp(i,e,r,n):Bp(t,Hp(r),e,n)},function(e,i){var o=Wp(this),a=Hp(e);if("string"==typeof i&&-1===ih(i,r)&&-1===ih(i,"$<")){var s=n(t,o,a,i);if(s.done)return s.value}var c=$p(i);c||(i=Hp(i));var u=o.global;if(u){var l=o.unicode;o.lastIndex=0}for(var d=[];;){var f=Xp(o,a);if(null===f)break;if(rh(d,f),!u)break;""===Hp(f[0])&&(o.lastIndex=qp(a,zp(o.lastIndex),l))}for(var p,h="",v=0,g=0;g<d.length;g++){for(var m=Hp((f=d[g])[0]),y=eh(th(Gp(f.index),a.length),0),b=[],w=1;w<f.length;w++)rh(b,void 0===(p=f[w])?p:p+"");var S=f.groups;if(c){var k=nh([m],b,y,a);void 0!==S&&rh(k,S);var _=Hp(Dp(i,void 0,k))}else _=Qp(m,a,y,b,S,i);y>=v&&(h+=oh(a,v,y)+_,v=y+m.length)}return h+oh(a,v)}]}),!!Vp((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}))||ah);function sh(e){return e.startsWith("event_")}const ch=[];var uh;!function(e){e[e.unload=0]="unload",e[e.open=1]="open",e[e.close=2]="close"}(uh||(uh={}));let lh=uh.unload,dh=null;function fh(){window.__yodaBridge__.invoke("tool","sendPerformanceLog",JSON.stringify({data:ch}),"too_performance_"+Wf()),ch.length=0}const ph=$f((()=>{fh()}),1e3),hh=(e,t)=>{if((e=>["canIUse","getApiList"].includes(e.name))(e))return;const n=Date.now().toString();return(()=>{if(dh)return dh;const{promise:e,resolve:t}=new Cc;var n;if(dh=e,lh==uh.unload)if(null!==(n=window.__yodaCommonDataObject__)&&void 0!==n&&n.sampleData){var r;if("string"==typeof window.__yodaCommonDataObject__.sampleData)try{window.__yodaCommonDataObject__.sampleData=JSON.parse(window.__yodaCommonDataObject__.sampleData)}catch(e){window.__yodaCommonDataObject__.sampleData={}}lh=null!==(r=window.__yodaCommonDataObject__.sampleData)&&void 0!==r&&r.bridgeHit?uh.open:uh.close,t(lh==uh.open)}else Gf().bridge("webview","getPageLoadData",{},(({result:e,sampleData:n})=>{lh=1==e&&null!=n&&n.bridgeHit?uh.open:uh.close,t(lh==uh.open)}));else t(lh==uh.open);return dh})().then((r=>{r&&(ch.push(((e,t,n)=>{var r,i,o,a;const s={key:"bridge",value:{},dimension:{api:e.name,namespace:e.namespace},event_client_timestamp:t,event_trigger_source:"H5",task_identifier:e.callbackId,is_task_event:!0,task_status:""};switch(e.type){case"invoke":s.value.h5_invoke_bridge_time=t,s.task_status="START","function"==typeof(null===(r=window.__yodaBridge__)||void 0===r?void 0:r.invoke)&&"function"==typeof(null===(i=window.webkit)||void 0===i||null===(o=i.messageHandlers)||void 0===o||null===(a=o.KMYYoda)||void 0===a?void 0:a.postMessage)||(s.result=126002,s.error_msg="");break;case"callback":s.value.h5_receive_callback_time=t,s.value.h5_invoke_bridge_time=n,s.dimension.result_type=e.resultCode,s.dimension.result_type&&(s.dimension.result_type=s.dimension.result_type.toString()),s.dimension.error_msg=e.errorMsg,s.task_status="END";break;case"event":s.task_status="SUCCESS",delete s.dimension.api,delete s.dimension.namespace,s.dimension.event=""}return s})(e,n,t)),ch.length>=30?fh():ph())})),n};const vh={},gh={pushMQ(e=!1,t,n=!1){const r=n?"event_"+Wf(i):Wf(vh);var i;const o=e?{isMulti:!0,resolve:t,promise:new Promise((()=>{}))}:function(e){let t=null,n=new Promise((e=>{t=e}));return e&&(n=n.then(e,e)),{isMulti:!1,resolve:t,promise:n}}(t);return o.traceId=r+"",vh[r]=o,o},removeMQ(e){vh[e]=void 0},create(e,t,n=!1,r){const i=this.pushMQ(n,r);i.namespace=e,i.name=t;const o=hh({namespace:e,name:t,type:"invoke",callbackId:i.traceId});return vh[i.traceId].startTime=o,{id:i.traceId,promise:i.promise}},resolve(e,t){if(e.startsWith("too_performance_"))return;const n=vh[e];n&&(n.resolve(t),n.isMulti||this.removeMQ(e),sh(e)||hh({namespace:n.namespace,name:n.name,type:"callback",callbackId:n.traceId,resultCode:t.result},n.startTime))},reject(e,t){const n=vh[e];n&&(n.resolve(t),n.isMulti||this.removeMQ(e),sh(e)||hh({namespace:n.namespace,name:n.name,type:"callback",callbackId:n.traceId,resultCode:t.result,errorMsg:t.message},n.startTime))}},mh={kwai:"Kwai",kwaiAd:"KwaiAd",kwaiAdThird:"KwaiAdThird",kwaiMerchant:"KwaiMerchant",kwaiLive:"KwaiLive",Kwai:"Kwai",KwaiAd:"KwaiAd",KwaiAdThird:"KwaiAdThird",KwaiMerchant:"KwaiMerchant",KwaiLive:"KwaiLive"};function yh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yh(Object(n),!0).forEach((function(t){wh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function wh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sh(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}const{noCallbackList:kh,onClickList:_h,handlerList:xh}={noCallbackList:["popBack","exitWebView"],onClickList:["setPhysicalBackButton","setTopLeftBtn","setTopLeftSecondBtn","setTopRightBtn","setTopRightSecondBtn"],handlerList:["on","off"]};function Oh(e,t,n){const r=`yoda_kuaishou_plugin_callback_${n}_${function(e=!0){let t=(new Date).getTime();return"undefined"!=typeof performance&&"function"==typeof performance.now&&(t+=performance.now()),(e?"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx":"xxxxxxxx_xxxx_4xxx_yxxx_xxxxxxxxxxxx").replace(/[xy]/g,(e=>{const n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"===e?n:3&n|8).toString(16)}))}(!1)}`;return window[r]=function(n){if("string"==typeof n)try{n=JSON.parse(n)}catch(e){console.warn(e)}Ef(e)?e.call(window,n):"string"==typeof e&&Ef(window[e])&&window[e].call(window,n),t||delete window[r]},r}function Eh(e,t){const n=e;return e&&Array.isArray(e.actions)&&(n.actions=e.actions.map((e=>(e&&e.url&&Ef(e.url)&&(e.url=Oh(e.url,!0,t)),e)))),n}const Ah={};function Ph(e,t,n,r){let i=bh({},n);const o=`${e}_${t}`;if(_h.includes(t))i.onClick=Oh(i.onClick,!0,o);else if(kh.includes(t))i=null;else if(xh.includes(t)){const e=Oh(r,!1,o);i.handler&&Ef(i.handler)&&(i.handler=function(e,t){let n="",r=null;if(Object.keys(Ah).some((t=>{const i=Ah[t];return i===e&&(r=i,n=t,!0)})),r!==e&&e){const r=Oh(e,!0,t);Ah[r]=e,n=r}return n}(i.handler,o)),i.callback=e}else if("showDialog"===t){const{positiveButton:e,negativeButton:t,neutralButton:n}=i;e&&(i.positiveButton=Eh(e,o)),t&&(i.negativeButton=Eh(t,o)),n&&(i.neutralButton=Eh(n,o))}else if(Object.keys(mh).includes(e)){const e=Oh(r,!0,o);i.callback=i.callback||e}return i}const Th=()=>Error("当前环境存在 Yoda 多实例问题，详细请参考 https://docs.corp.kuaishou.com/k/home/VbQx2ulc6v3M/fcADLOKqHyHpSr7hiCKKQVtVM");var Ch=ft,Ih=Pt,jh=g,Lh=Ys,Rh=function(e,t,n){var r=Ch(t);r in e?Ih.f(e,r,jh(0,n)):e[r]=n};Wr({target:"Object",stat:!0},{fromEntries:function(e){var t={};return Lh(e,(function(e,n){Rh(t,e,n)}),{AS_ENTRIES:!0}),t}});let Mh="production";const Nh=()=>Mh,Dh=(Bh=e=>(...t)=>((e,t,...n)=>{"production"!==Nh()&&console[t](`[${e}]`,...n)})("@yoda/bridge",e,...t),Object.fromEntries(["debug","info","log","warn","error"].map((e=>[e,Bh(e)]))));var Bh;const Fh=async e=>{var t;const{namespace:n,name:r,params:i,multiCallback:o,callback:a}=e,s=mh[n],{id:c,promise:u}=gh.create(n,r,o,a),l=s||n;return e.namespace="Kwai"===l&&"undefined"!=typeof navigator&&navigator.userAgent.includes("livemate/")?"livemate":l,e.params=null!==(t=Ph(l,r,i,(e=>{Uh(c,e)})))&&void 0!==t?t:{},Dh.info(`Invoking '${e.namespace}.${e.name}'`,e.params),Rf&&!window.webkit&&Cf("2.10.9.2")<0||window.__yodaBridge__.invoke(e.namespace,e.name,JSON.stringify(e.params),c+""),u},Uh=(e,t)=>{Rf&&Cf("2.3.7")<0&&(e=""+e);const n="string"==typeof t?JSON.parse(t):t;1===(null==n?void 0:n.result)?gh.resolve(e,n):gh.reject(e,n)};"undefined"!=typeof window&&((()=>{let{__yodaBridgeCallback__:e}=window;if("function"==typeof e)throw Th();Object.defineProperty(window,"__yodaBridgeCallback__",{get:()=>e,set(t){if(e)throw Th();e=t}})})(),window.__yodaBridgeCallback__=Uh);const Vh=new Set;let Wh=null;var $h=o,Kh=u,Gh=i,zh=Kc,Hh=vr,Jh=l,qh=De,Yh=L,Qh=Object.assign,Xh=Object.defineProperty,Zh=P([].concat),ev=!Qh||Gh((function(){if($h&&1!==Qh({b:1},Qh(Xh({},"a",{enumerable:!0,get:function(){Xh(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=Qh({},e)[n]||zh(Qh({},t)).join("")!=r}))?function(e,t){for(var n=qh(e),r=arguments.length,i=1,o=Hh.f,a=Jh.f;r>i;)for(var s,c=Yh(arguments[i++]),u=o?Zh(zh(c),o(c)):zh(c),l=u.length,d=0;l>d;)s=u[d++],$h&&!Kh(a,c,s)||(n[s]=c[s]);return n}:Qh;Wr({target:"Object",stat:!0,arity:2,forced:Object.assign!==ev},{assign:ev});class tv extends Error{constructor(e,t,n){super(e),this.name="BridgeError",this.message=e,this.code=t,this.context=(({initialBridge:e,initialParams:t})=>({bridge:e,params:t}))(n)}toJSON(){return{name:this.name,message:this.message,code:this.code,context:this.context}}}const nv=e=>e instanceof tv,rv=["useLastLocationWhileLimited"],iv=["biz","force","statKey","alertScene","updateLocationScene"],ov={getLocation:async e=>{let{useLastLocationWhileLimited:t=!1}=e,n=Sh(e,rv);const{invoke:r}=Wh;if(If("10.1.30")<0){const{biz:e,force:t,statKey:i,alertScene:o,updateLocationScene:a}=n,s=Sh(n,iv),c=void 0===t?2:t?1:3,u=bh(bh({},s),{},{biz_type:e,forced_permission_request:c});try{const{data:{longitude:e,latitude:t}}=await r("kwai.syncLocationWithPermissionCheck",bh(bh({},u),{},{forced_permission_request:3}));return{longitude:e,latitude:t}}catch(e){}await r("kwai.requestLocationPermissionWithPermissionCheck",u);const{data:{longitude:l,latitude:d}}=await r("kwai.syncLocationWithPermissionCheck",u);return{longitude:l,latitude:d}}if(Lf&&If("10.3.30")<0){const{updateLocationScene:e=""}=n;Object.assign(n,{useInterval:!e})}try{const{longitude:e,latitude:t}=await r("system.requestLocation",n);return{longitude:e,latitude:t}}catch(e){if(!nv(e))throw e;if(10014===e.code&&t){const{longitude:e,latitude:t}=await r("system.getLocationCityInfo",{biz:n.biz});if("number"==typeof e&&"number"==typeof t)return{longitude:e,latitude:t}}throw e}}};var av=O,sv=Array.isArray||function(e){return"Array"==av(e)},cv=TypeError,uv=sv,lv=er,dv=function(e){if(e>9007199254740991)throw cv("Maximum allowed index exceeded");return e},fv=qi,pv=function(e,t,n,r,i,o,a,s){for(var c,u,l=i,d=0,f=!!a&&fv(a,s);d<r;)d in n&&(c=f?f(n[d],d,t):n[d],o>0&&uv(c)?(u=lv(c),l=pv(e,t,c,u,l,o-1)-1):(dv(l+1),e[l]=c),l++),d++;return l},hv=pv,vv=sv,gv=Li,mv=H,yv=nt("species"),bv=Array,wv=function(e){var t;return vv(e)&&(t=e.constructor,(gv(t)&&(t===bv||vv(t.prototype))||mv(t)&&null===(t=t[yv]))&&(t=void 0)),void 0===t?bv:t},Sv=hv,kv=we,_v=De,xv=er,Ov=function(e,t){return new(wv(e))(0===t?0:t)};Wr({target:"Array",proto:!0},{flatMap:function(e){var t,n=_v(this),r=xv(n);return kv(e),(t=Ov(n,0)).length=Sv(t,n,n,r,0,1,e,arguments.length>1?arguments[1]:void 0),t}}),Wu("flatMap");const Ev=Object.fromEntries(Object.entries({advertise:["startFansTopLivePlay","startNeoAdVideo"],feed:["authorizationStatusForCalendar","changeEventForCalendar","closeChildLock","getAddressBookAccessStatus","getCoronaTvChasingData","getFeed","openDetailPage","openFansGroup","setSettingEntryForCourse","startPlayLongVideo","updateDeviceBit","updateUserRecoBit","updateWeatherInfo","userIncentivesUpdateTasks"],game:["addShortcutToDesktop","appointGame","changeAppointStatus","gameSendLog","gameTaskSelectImage","getAppointStatus","getWebViewDisplayType","kgPageDidShowed","openNativeGamecenter"],growth:["getDeviceSecretInfo","unionPhoneNumber"],im:["setEnableIMTip"],live:["deleteSubscribe","liveReservationNotification","openLiveQuizLive","showSubscribeEditDialog","showSubscribeSelectPhotoDialog","subscribeLive","unsubscribeLive"],merchant:["closeLiveMerchantFloatingWindow","getLatestImage","getSidToken","loadUrlOnNewMerchantPage","merchantSetPhotoPlayStatus","onItemSelected","popupToFollow","querySessionIsStickyOnTop","reqSessionStickyOnTopWithThread","requestLocationAuthorization"],minigame:["publishSogameVideo"],pay:["authThirdPartyAccount","bindWithdrawType","couponPay","hasImportSdk","nebulaStartGatewayWithdraw","openKspayWebView","sfBindWithdrawType","startDeposit","startGatewayPay","startGatewayWithdraw","startHalfScreenRecharge","startKspayOrderPrepay"],platform:["getDarkMode","openWechatMiniProgram","sendSMS","startFaceRecognition"],post:["cancelJsInjectUpload","captureCertVideo","deleteCacheVideoByPhotoId","editAtlas","editDraft","editSmartAlbum","getEditDraftData","getSmartAlbumData","getVideoUploadStatus","intownShare","postAtlas","postVideo","preloadMagicFace","previewVideo","reUploadShopVideo","reeditPhoto","resumeVideoUpload","retryJsInjectUpload","saveImage","saveTempImages","selectAndUploadMedia","selectImage","selectMixMediasAndUpload","selectVideoAndUpload","startAudioRecord","uploadCertVideo","uploadShopVideo","uploadVideoFromAlbum","verifyLiveUser"],social:["addTokenBlockShareId","bindPhone","bindRiskPreCheck","decryptContactsName","enterGroupChat","followUser","joinGroup","login","logout","mobileQuickAuthInfo","mobileQuickLoginInfo","needUpdateProfile","requestFollowUserV2","selectCountryPhoneCode","sendIMMessage","sendImFriendMessage","setPageFollowRefer","setShareTokenToClipBoard","share","startAuthActivity","verifyAccount","verifySMSCode","verifyThirdPartyLogin","wechatLogin"],system:["collapseKeyboard","getPushPermission","getServerTime","gete2","openPushPermission"],tool:["getClipBoard","getExpTagTransList","loadUrlOnNewPage","openBrowser","scanCode"],ui:["selectCity","showBottomSheet","showPicker"],webview:["clearClipBoard","exitWebView","getABTest","getAppEnvironment","getDeviceInfo","hasInstalledApp","hideNavigationBar","popBack","resetTopButtons","setClipBoard","setPageTitle","setSlideBack","setTopLeftBtn","setTopLeftSecondBtn","setTopRightBtn","setTopRightSecondBtn","submitData"]}).flatMap((([e,t])=>t.map((t=>[`${e}.${t}`,"kwai."+t]))))),Av=["component.download","kwai.download","kwai.downloadThirdPartyAPP","kwai.startNFC","kwaiAd.callAdBridge","kwaiAd.callCardHandler","pay.startHalfScreenRecharge","post.postVideo","post.reUploadShopVideo","post.selectImage","post.uploadShopVideo","post.selectMixMediasAndUpload","kwaiLive.subscribeChannel"],Pv=new Set(Av),Tv=new Set(["social.currentUserInfo","post.draftRecommendPhotos","post.draftRecommendPublishPhotos","kwai.KSVerifyRealNameInfo","kwai.verifyRealNameInfo","component.aliyunVerifyRealNameInfo","component.verifyRealNameInfo",...Av]),Cv="2.0.7",Iv={get mode(){return Nh()},set mode(e){(e=>{Mh=e})(e),Dh.info(`You're currently running version 2.0.7 in ${e} mode.`)}},jv=e=>{Object.assign(Iv,e)};var Lv=Wr,Rv=P,Mv=r.f,Nv=Xn,Dv=Lc,Bv=Qu,Fv=D,Uv=Zu,Vv=Rv("".endsWith),Wv=Rv("".slice),$v=Math.min,Kv=Uv("endsWith"),Gv=!Kv&&!!function(){var e=Mv(String.prototype,"endsWith");return e&&!e.writable}();Lv({target:"String",proto:!0,forced:!Gv&&!Kv},{endsWith:function(e){var t=Dv(Fv(this));Bv(e);var n=arguments.length>1?arguments[1]:void 0,r=t.length,i=void 0===n?r:$v(Nv(n),r),o=Dv(e);return Vv?Vv(t,o,i):Wv(t,i-o.length,i)===o}});var zv=we,Hv=De,Jv=L,qv=er,Yv=TypeError,Qv=function(e){return function(t,n,r,i){zv(n);var o=Hv(t),a=Jv(o),s=qv(o),c=e?s-1:0,u=e?-1:1;if(r<2)for(;;){if(c in a){i=a[c],c+=u;break}if(c+=u,e?c<0:s<=c)throw Yv("Reduce of empty array with no initial value")}for(;e?c>=0:s>c;c+=u)c in a&&(i=n(i,a[c],c,o));return i}},Xv={left:Qv(!1),right:Qv(!0)},Zv=i,eg=Xv.left,tg=function(e,t){var n=[][e];return!!n&&Zv((function(){n.call(null,t||function(){return 1},1)}))},ng=ae,rg=$r;Wr({target:"Array",proto:!0,forced:!tg("reduce")||!rg&&ng>79&&ng<83},{reduce:function(e){var t=arguments.length;return eg(this,e,t,t>1?arguments[1]:void 0)}});const ig=["result"],og=e=>Of(e,"error_msg")&&"string"==typeof e.error_msg?e.error_msg:"",ag=async(...e)=>{try{var t;const n=(e=>{const[t,n={},r]=e,[i,o]="function"==typeof r?[{},r]:[null!=r?r:{}];return{initialBridge:t,initialParams:n,bridge:t,params:n,options:i,callback:o}})(e);if("undefined"==typeof window||"function"!=typeof(null===(r=window.__yodaBridge__)||void 0===r?void 0:r.invoke))throw new tv("Cannot invoke bridge in non-Yoda environment.",125014,n);const i=(e=>{const t=[],n=e=>{t.push((t=>{const n=e[t.bridge];return void 0===n?t:bh(bh({},t),{},{bridge:n})}))},r=e=>{t.push((t=>{const n=e[t.bridge];if(void 0===n)return t;const r=bh(bh({},n),t.params);return bh(bh({},t),{},{params:r})}))};return"tool.checkAppInstalled"===e.bridge&&r({[e.bridge]:{identifier:e.params[Lf?"android":"ios"]}}),Rf&&If("9.10.11")>=0&&n({"hybrid.getHybridStatus":"webview.pageContentStatus","hybrid.getAndUpdateHybridDetail":"webview.pageContentInfo","hybrid.preloadVideoList":"media.pvList","hybrid.isVideoFullyCached":"media.vReady"}),Rf&&If("11.1.40")<0&&n({"advertise.startNeoAdVideo":"kwai.startNeoAdVideo"}),Rf&&If("10.7.20")<0&&n({"merchant.getSidToken":"kwai.getSidToken"}),Lf&&If("10.6.50")<0&&n({"ui.setStatusBarStyle":"kwai.setStatusBarStyle"}),(If("10.4.30")<0||!Mf)&&n(Ev),Rf&&If("10.4.10")<0&&r({"system.startVibrate":{strength:"low",duration:300}}),(If("10.3.20")<0||!Mf)&&n({"webview.exitCurrentWebView":"kwai."+(Rf?"exitCurrentWebview":"exitWebView")}),If("9.6.20")<0&&t.push((e=>{const{bridge:t}=e;return["syncLocationWithPermissionCheck","getLocationWithPermissionCheck","requestLocationPermissionWithPermissionCheck"].some((e=>t.endsWith(e)))?bh(bh({},e),{},{bridge:t.replace("WithPermissionCheck","")}):e})),t.reduce(((e,t)=>t(e)),e)})(n),{options:{timeout:o=(null!==(t=Iv.timeout)&&void 0!==t?t:0)}}=i,a=(e=>e.bridge.startsWith("yoda."))(i)?(e=>{const{bridge:t,params:n}=e,[,r]=t.split(".");return(0,ov[r])(n)})(i):(e=>{const t=Gf(),{initialBridge:n,bridge:r,params:i,callback:o}=e,[a,s]=r.split(".");return Tv.has(n)?(t.bridge(a,s,i,(e=>{Dh.info(`Received a response from '${r}'`,e),null==o||o(e)}),Pv.has(n)),Promise.resolve()):new Promise(((n,o)=>{t.bridge(a,s,i,(t=>{var i;if(Dh.info(`Received a response from '${r}'`,t),1===t.result){const e=Sh(t,ig);return void n(e)}const{message:a=og(t)}=t,s=new tv(a,t.result,e);null===(i=Iv.errorHandler)||void 0===i||i.call(Iv,s),o(s)}))}))})(i);return o>0&&Number.isFinite(o)?await Promise.race([a,Af(o).then((()=>Promise.reject(new tv("Bridge invocation timed out.",125010,i))))]):await a}catch(e){var n;if(nv(e))null===(n=Iv.errorHandler)||void 0===n||n.call(Iv,e);throw e}var r},sg=new Set(["native_visible","native_background","native_foreground","native_will_leave","native_leave","native_reentry","native_loadPage","native_pageFinished","native_userDidLogin","native_userDidLogout","native_networkChanged","native_screenshot_event","native_web_view_display_mode_changed","native_share_dialog_event","native_shake","native_darkModeChange","physical-back-button"]),cg=async(e,t,n)=>{sg.has(e)?await ag("kwai.on",{type:e,handler:t}):await ag("event.addEventListener",{type:void 0===(null==n?void 0:n.data)?e:{type:e,options:n.data},listener:t})},ug=async(e,t)=>{sg.has(e)?await ag("kwai.off",{type:e,handler:t}):await ag("event.removeEventListener",{type:e,listener:t})};var lg=D,dg=Lc,fg=P("".replace),pg="[\t\n\v\f\r                　\u2028\u2029\ufeff]",hg=RegExp("^"+pg+pg+"*"),vg=RegExp(pg+pg+"*$"),gg=function(e){return function(t){var n=dg(lg(t));return 1&e&&(n=fg(n,hg,"")),2&e&&(n=fg(n,vg,"")),n}},mg={start:gg(1),end:gg(2),trim:gg(3)},yg=n,bg=i,wg=P,Sg=Lc,kg=mg.trim,_g=yg.parseInt,xg=yg.Symbol,Og=xg&&xg.iterator,Eg=/^[+-]?0x/i,Ag=wg(Eg.exec),Pg=8!==_g("\t\n\v\f\r                　\u2028\u2029\ufeff08")||22!==_g("\t\n\v\f\r                　\u2028\u2029\ufeff0x16")||Og&&!bg((function(){_g(Object(Og))}))?function(e,t){var n=kg(Sg(e));return _g(n,t>>>0||(Ag(Eg,n)?16:10))}:_g;Wr({global:!0,forced:parseInt!=Pg},{parseInt:Pg});const Tg={};function Cg(e){const t=Tg[e];return Object.keys((null==t?void 0:t.eventRecord)||{}).length>0}var Ig;!function(e){e.x="x",e.y="y",e.z="z"}(Ig||(Ig={}));const jg={level:2,times:3,intervalTime:1300,iOSIntervalTime:500,androidIntervalTime:1300,isEmitImmediately:!0},Lg={1:{basic:13,total:450},2:{basic:16,total:700},3:{basic:20,total:1100}},Rg={1:{basic:9,total:220},2:{basic:12,total:400},3:{basic:14,total:500}};class Mg{constructor(e){this.shakeConfig={},this.shakedArr=[],this.isChecking=!1,this.nowStatus={x:0,y:0,z:0},this.lastStatus={x:0,y:0,z:0},this.stopMark=null,this.checkIsShakeStoped=!1,this.notEmitButShaked=!0,this.isShakeStarted=!1,this.isAndroid=!1,this.isArrivedConfigStandard=!1,this.levelMap=Lg,this.dispatchEvent=null,this.setStillShaking=$f((()=>this.notShaking()),1e3),this.dispatchEvent=e.dispatchEvent,this.isAndroid=e.isAndroid,this.levelMap=this.isAndroid?Lg:Rg}setOptions(e){e?(this.shakeConfig=bh(bh({},jg),e),this.shakeConfig.times=this.isAndroid?this.shakeConfig.times-1:2*(this.shakeConfig.times-1),this.shakeConfig.intervalTime=this.isAndroid?this.shakeConfig.androidIntervalTime:this.shakeConfig.iOSIntervalTime):this.shakeConfig=bh({},jg)}resetShakeStatus(e){this.shakedArr=[],this.isChecking=!1,this.notEmitButShaked=!1,e&&(this.isArrivedConfigStandard=!1,this.isShakeStarted=!1)}checkIsShake(e){if(this.isChecking=!0,Object.keys(this.nowStatus).forEach((t=>this.nowStatus[t]=9.8*e[t])),this.judgeArrivedTerminal())return this.lastStatus={x:0,y:0,z:0},this.handleShakeHappend(),this.setStillShaking(),void(this.isChecking=!1);this.judgeLikelyShake()?this.handleArrivedStandard():this.isChecking=!1}judgeLikelyShake(){const{x:e,y:t,z:n}=this.nowStatus,{basic:r,total:i}=this.levelMap[this.shakeConfig.level];return e>r||t>r||n>r||e*e+t*t+n*n>i}judgeArrivedTerminal(){let e=0,t=0,n=Ig.x;return Object.keys(this.nowStatus).forEach((r=>{t=Math.abs(this.lastStatus[r]-this.nowStatus[r]),e<t&&(n=r,e=t)})),this.lastStatus[n]*this.nowStatus[n]<0}handleArrivedStandard(){this.lastStatus=bh({},this.nowStatus),this.checkIsShakeStoped=!1,this.setStillShaking()}async handleShakeHappend(){this.isShakeStarted||await this.dispatchEvent({type:"shake-start",data:{}}),this.isShakeStarted=!0,this.updateShakedArr((new Date).getTime())}notShaking(){this.checkIsShakeStoped=!0,this.checkDoDelayEmit()}updateShakedArr(e){const{intervalTime:t}=this.shakeConfig;this.shakedArr.length>0?e-this.shakedArr[this.shakedArr.length-1]<=t?this.shakedArr.push(e):(this.shakedArr=[],this.isChecking=!1):this.shakedArr.push(e),this.shakedArr.length>=this.shakeConfig.times?this.handleArrivedEmitStandard():this.isChecking=!1}handleArrivedEmitStandard(){this.isArrivedConfigStandard=!0,this.resetShakeStatus(),this.shakeConfig.isEmitImmediately?this.dispatchEvent({type:"shaked",data:{}}):this.notEmitButShaked=!0}checkDoDelayEmit(){this.notEmitButShaked&&this.checkIsShakeStoped&&!this.shakeConfig.isEmitImmediately&&this.dispatchEvent({type:"shaked",data:{}}),this.isShakeStarted&&this.dispatchEvent({type:"shake-end",data:{isArrivedConfigStandard:this.isArrivedConfigStandard}}),this.resetShakeStatus(!0)}}let Ng=null,Dg=null;const Bg=async()=>{const e=Gf(),t=await e.bridge("system","startAccelerometer",{interval:60});Dg=Ng.checkIsShake.bind(Ng);const n=await e.bridge("event","addEventListener",{type:"accelerometer-change",listener:Dg});if(1===t.result&&1!==n.result&&Fg(),1!==t.result||1!==n.result)throw Error(`摇一摇初始化失败，请稍后重试。AccelerometerRes:${JSON.stringify(t)};eventRes:${JSON.stringify(n)}`)},Fg=async()=>{const e=Gf();if(!await zf("system","stopAccelerometer"))throw Error("当前APP暂不支持摇一摇");Ng=null;const t=await e.bridge("event","removeEventListener",{type:"accelerometer-change",listener:Dg}),n=await e.bridge("system","stopAccelerometer",{});if(1!==t.result||1!==n.result)throw Error(`摇一摇停止监听失败。stopRes:${JSON.stringify(n)};eventRes:${JSON.stringify(t)}`)},Ug="shaked",Vg={[Ug]:async e=>{const t=Gf();if(!await zf("system","startAccelerometer"))throw Error("当前APP暂不支持摇一摇");if(Ng)throw Error("当前存在尚未结束监听的摇一摇");Ng=new Mg({dispatchEvent:async e=>t.bridge("event","dispatchEvent",e),isAndroid:Lf}),(e=>{if(!e)return;const{level:t,times:n,isEmitImmediately:r}=e;if(void 0!==t&&!Lg[t])throw Error("请传入正确的level，可选值为1、2、3");if(void 0!==n){if(!Number.isInteger(n))throw Error("times应为整数");if(n<1)throw Error("times应大于1")}if(void 0!==r&&"boolean"!=typeof r)throw Error("isEmitImmediately应为boolean类型")})(e),Ng.setOptions(e),Ng.resetShakeStatus(),await Bg.bind(t)()}},Wg={[Ug]:Fg},$g=(e,t)=>{var n;const{type:r,listener:i}=e,o="string"==typeof r?r:r.type,a="string"==typeof r?{}:r.options;if(null===(n=Vg[o])||void 0===n||n.call(Vg,a),!i.__yodaCallbackId__&&(i.__yodaCallbackId__={}),i.__yodaCallbackId__[o])throw Error(`addEventListener ${o} 的 listener 已经被绑定过了`);const s=Cg(o);let c=null,u=Promise.resolve();if(s)Ef(t)&&t({result:1});else{const e=gh.pushMQ(!0,function(e){return function(t){const n=Tg[e];Object.keys((null==n?void 0:n.eventRecord)||{}).forEach((e=>n.eventRecord[Number(e)](JSON.parse(JSON.stringify(t)))))}}(o),!0);c=parseInt(e.traceId.replace("event_","")),u=Fh({namespace:"event",name:"addEventListener",params:{type:o,listener:e.traceId+""},callback:t})}return function(e,t,n){const r=Tg[e]||{callbackId:n,eventRecord:{}},i=Wf();t.__yodaCallbackId__[e]=i+"",r.eventRecord[i]=t,Tg[e]=r}(o,i,c),u},Kg=(e,t)=>{var n;const{type:r,listener:i}=e;null===(n=Wg[r])||void 0===n||n.call(Wg);let o=Promise.resolve();if(i.__yodaCallbackId__){const e=function(e){return"event_"+Tg[e].callbackId}(r);!function(e,t){const n=Tg[e],r=t.__yodaCallbackId__[e];delete n.eventRecord[Number(r)],delete t.__yodaCallbackId__[e],Cg(e)||delete Tg[e]}(r,i),Cg(r)||(o=Fh({namespace:"event",name:"removeEventListener",params:{type:r,listener:e},callback:t}),gh.removeMQ(e))}return o};!function(e){Kf=e}({bridge:(e,t,n,r,i=!1)=>{const o={namespace:e,name:t,params:n,multiCallback:i,callback:r};if("event"===e){if("addEventListener"===t)return $g(n,r);if("removeEventListener"===t)return Kg(n,r)}return 0===If("9.9.20")&&Lf?(async e=>{var t;const{namespace:n,name:r,params:i,multiCallback:o,callback:a}=e;if(!Vh.size){const e=await Fh({namespace:"tool",name:"getApiList",params:{}});1===e.result&&Array.isArray(e.apiList)&&e.apiList.forEach((({namespace:e,name:t})=>Vh.add(`${e}.${t}`)))}const s=Vh.has(`${null!==(t=mh[n])&&void 0!==t?t:n}.${r}`);return new Promise((e=>{if(s)Fh({namespace:n,name:r,params:i,multiCallback:o,callback:a}).then(e);else{const t={result:125004};null==a||a(t),e(t)}}))})(o):Fh(o)}}),Wh={invoke:ag,addListener:cg,removeListener:ug};export{cg as addListener,ag as invoke,nv as isBridgeError,ug as removeListener,jv as setGlobalConfig,Cv as version};
