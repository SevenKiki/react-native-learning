const axios = require('axios');

// 定义拦截器
axios.interceptors.request.use(config => {
  config.headers.Accept = 'application/json';
  config.withCredentials = true;
  return config;
});

axios.interceptors.response.use(
  ({ data } = {}) => data,
  error => {
    return Promise.resolve({
      result: (error && error.result) || 404,
      error_msg: error.error_msg || '网络错误',
    });
  }
);

module.exports = axios;
