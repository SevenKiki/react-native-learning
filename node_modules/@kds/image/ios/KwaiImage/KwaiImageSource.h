//
//  KwaiImageSource.h
//  react-native-kwai-image
//
//  Created by jiaozhiyu on 2020/11/12.
//

#import <Foundation/Foundation.h>
#import <UIKit/UIKit.h>
#import <React/RCTDefines.h>

typedef NS_ENUM(NSInteger, KwaiImagePriority) {
    KwaiImagePriorityLow,
    KwaiImagePriorityNormal,
    KwaiImagePriorityHigh
};

typedef NS_ENUM(NSInteger, KwaiImageCacheControl) {
    KwaiImageCacheControlImmutable,
    KwaiImageCacheControlWeb,
    KwaiImageCacheControlCacheOnly
};

RCT_EXTERN void Kwai_RCTEnableSupportPathConvert(BOOL supportPathConvert);

/// Object containing an image uri and metadata.
@interface KwaiImageSource : NSObject

/// uri for image, or base64
@property (nonatomic) NSURL* uri;
/// cdn urls like : [{"url":url1}, {"url":url3}, {"url":url3}, ...]
@property (nonatomic, copy) NSArray* urls;

/// priority for image request
@property (nonatomic) KwaiImagePriority priority;
/// headers for the image request
@property (nonatomic, copy) NSDictionary *headers;
/// cache control mode
@property (nonatomic) KwaiImageCacheControl cacheControl;
/// default NO
@property (nonatomic) BOOL decodeFirstFrameOnly;

- (instancetype)initWithURL:(NSURL *)url
                    cdnURLs:(NSArray *)urls
                   priority:(KwaiImagePriority)priority
                    headers:(NSDictionary *)headers
               cacheControl:(KwaiImageCacheControl)cacheControl
       decodeFirstFrameOnly:(BOOL)decodeFirstFrameOnly;

- (BOOL)isEqualToKwaiImageSource:(id)object;

@end
