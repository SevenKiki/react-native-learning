package com.kwai.kds.image;

import java.util.ArrayList;
import java.util.List;

import com.facebook.react.LazyReactPackage;
import com.facebook.react.bridge.ModuleSpec;
import com.facebook.react.bridge.ReactApplicationContext;
import com.facebook.react.module.model.ReactModuleInfoProvider;
import com.facebook.react.views.nsr.IReactNsrPackage;

public class KwaiImageReactPackage extends LazyReactPackage implements IReactNsrPackage {
  @Override
  protected List<ModuleSpec> getNativeModules(ReactApplicationContext reactContext) {
    List<ModuleSpec> list = new ArrayList<>();
    list.add(
      ModuleSpec.nativeModuleSpec(KwaiImageModule.class, () -> new KwaiImageModule(reactContext)));

    return list;
  }

  @Override
  public List<ModuleSpec> getViewManagers(ReactApplicationContext reactContext) {
    List<ModuleSpec> list = new ArrayList<>();
    list.add(ModuleSpec.viewManagerSpec(ReactImageManager::new));

    return list;
  }

  @Override
  public ReactModuleInfoProvider getReactModuleInfoProvider() {
    return LazyReactPackage.getReactModuleInfoProviderViaReflection(this);
  }
}
