import React, { useState, useEffect } from 'react';
import { UriProps, err, fetchText } from './common';
import SvgXml from './SvgXml'
 
export function SvgUri(props: UriProps) {
    const { onError = err, uri } = props;
    const [xml, setXml] = useState<string | null>(null);
    useEffect(() => {
        uri
            ? fetchText(uri)
                .then(setXml)
                .catch(onError)
            : setXml(null);
    }, [onError, uri]);
    return <SvgXml xml={xml} override={props} />;
}

export default SvgUri;