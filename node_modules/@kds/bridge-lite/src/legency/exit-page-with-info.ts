import { InvocationParams } from './../types';
import { NativeModules } from 'react-native';

export default async (
    params: InvocationParams<'ui.exitPageWithInfo'>,
): Promise<any> => {
    return new Promise((resolve, reject) => {
        try {
            const result = NativeModules.KRNBasic.exitPageWithInfo({
                viewTag: params.rootTag,
                animate: params.animate,
            });
            resolve({
                result: 1,
                data: result,
            });
        } catch (err) {
            reject({ code: -1, message: `failed to exitPageWithInfo: ${err}` });
        }
    });
};
