{"version":3,"names":["getCurrentMode","setCurrentMode","version","defaultSerializer","stringify","params","JSON","parse","rootTag","serializer","globalConfig","mode","console","info","value","newSerializer","isSetSerializer","setGlobalConfig","nextGlobalConfig","Object","assign"],"sources":["global-config.ts"],"sourcesContent":["import { getCurrentMode, setCurrentMode } from './mode';\nimport type { Mode } from './mode';\nimport { version } from './version';\n\nexport interface GlobalConfig {\n    mode: Mode;\n    rootTag?: number;\n    timeout?: number;\n    serializer?: Serializer;\n    isSetSerializer?: boolean;\n}\n\ntype Serializer = {\n    stringify: (params: any) => string;\n    parse: (params: string) => any;\n};\n\nexport const defaultSerializer: Serializer = {\n    stringify: (params: any) => JSON.stringify(params),\n    parse: (params: string) => JSON.parse(params),\n};\n\nlet rootTag: number | null = null;\nlet serializer: Serializer = defaultSerializer;\nexport const globalConfig: GlobalConfig = {\n    get mode() {\n        return getCurrentMode();\n    },\n    set mode(mode: Mode) {\n        setCurrentMode(mode);\n\n        console.info(\n            `You're currently running version ${version} in ${mode} mode`,\n        );\n    },\n    get rootTag() {\n        return rootTag;\n    },\n    set rootTag(value: number) {\n        rootTag = value;\n    },\n    get serializer() {\n        return serializer;\n    },\n    set serializer(newSerializer: Serializer) {\n        serializer = newSerializer;\n    },\n    get isSetSerializer() {\n        return serializer !== defaultSerializer;\n    },\n};\n\nexport const setGlobalConfig = (\n    nextGlobalConfig: Partial<GlobalConfig>,\n): void => {\n    Object.assign(globalConfig, nextGlobalConfig);\n};\n"],"mappings":"AAAA,SAASA,cAAT,EAAyBC,cAAzB,QAA+C,QAA/C;AAEA,SAASC,OAAT,QAAwB,WAAxB;AAeA,OAAO,MAAMC,iBAA6B,GAAG;EACzCC,SAAS,EAAGC,MAAD,IAAiBC,IAAI,CAACF,SAAL,CAAeC,MAAf,CADa;EAEzCE,KAAK,EAAGF,MAAD,IAAoBC,IAAI,CAACC,KAAL,CAAWF,MAAX;AAFc,CAAtC;AAKP,IAAIG,OAAsB,GAAG,IAA7B;AACA,IAAIC,UAAsB,GAAGN,iBAA7B;AACA,OAAO,MAAMO,YAA0B,GAAG;EACtC,IAAIC,IAAJ,GAAW;IACP,OAAOX,cAAc,EAArB;EACH,CAHqC;;EAItC,IAAIW,IAAJ,CAASA,IAAT,EAAqB;IACjBV,cAAc,CAACU,IAAD,CAAd;IAEAC,OAAO,CAACC,IAAR,CACK,oCAAmCX,OAAQ,OAAMS,IAAK,OAD3D;EAGH,CAVqC;;EAWtC,IAAIH,OAAJ,GAAc;IACV,OAAOA,OAAP;EACH,CAbqC;;EActC,IAAIA,OAAJ,CAAYM,KAAZ,EAA2B;IACvBN,OAAO,GAAGM,KAAV;EACH,CAhBqC;;EAiBtC,IAAIL,UAAJ,GAAiB;IACb,OAAOA,UAAP;EACH,CAnBqC;;EAoBtC,IAAIA,UAAJ,CAAeM,aAAf,EAA0C;IACtCN,UAAU,GAAGM,aAAb;EACH,CAtBqC;;EAuBtC,IAAIC,eAAJ,GAAsB;IAClB,OAAOP,UAAU,KAAKN,iBAAtB;EACH;;AAzBqC,CAAnC;AA4BP,OAAO,MAAMc,eAAe,GACxBC,gBAD2B,IAEpB;EACPC,MAAM,CAACC,MAAP,CAAcV,YAAd,EAA4BQ,gBAA5B;AACH,CAJM"}