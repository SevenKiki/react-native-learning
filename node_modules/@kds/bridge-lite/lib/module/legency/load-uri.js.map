{"version":3,"names":["NativeModules","params","Promise","resolve","reject","timer","KRNBasic","open","url","res","clearTimeout","result","success","setTimeout","code","message","err"],"sources":["load-uri.ts"],"sourcesContent":["import type { InvocationParams } from '../types';\nimport { NativeModules } from 'react-native';\n\nexport default (params: InvocationParams<'platform.loadUri'>): any => {\n    return new Promise((resolve, reject) => {\n        try {\n            let timer: any = null!;\n            NativeModules.KRNBasic.open(\n                params?.url,\n                (res: { result: number }) => {\n                    clearTimeout(timer);\n                    resolve({\n                        result: res?.result ?? 0,\n                        success: res?.result === 1,\n                    });\n                },\n            );\n            timer = setTimeout(() => {\n                reject({\n                    code: -1,\n                    message: 'timeout',\n                    success: false,\n                });\n            }, 5000);\n        } catch (err) {\n            reject({\n                success: false,\n                code: -1,\n                message: `failed to loadUri: ${err}`,\n            });\n        }\n    });\n};\n"],"mappings":"AACA,SAASA,aAAT,QAA8B,cAA9B;AAEA,gBAAgBC,MAAD,IAAuD;EAClE,OAAO,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;IACpC,IAAI;MACA,IAAIC,KAAU,GAAG,IAAjB;MACAL,aAAa,CAACM,QAAd,CAAuBC,IAAvB,CACIN,MADJ,aACIA,MADJ,uBACIA,MAAM,CAAEO,GADZ,EAEKC,GAAD,IAA6B;QAAA;;QACzBC,YAAY,CAACL,KAAD,CAAZ;QACAF,OAAO,CAAC;UACJQ,MAAM,iBAAEF,GAAF,aAAEA,GAAF,uBAAEA,GAAG,CAAEE,MAAP,qDAAiB,CADnB;UAEJC,OAAO,EAAE,CAAAH,GAAG,SAAH,IAAAA,GAAG,WAAH,YAAAA,GAAG,CAAEE,MAAL,MAAgB;QAFrB,CAAD,CAAP;MAIH,CARL;MAUAN,KAAK,GAAGQ,UAAU,CAAC,MAAM;QACrBT,MAAM,CAAC;UACHU,IAAI,EAAE,CAAC,CADJ;UAEHC,OAAO,EAAE,SAFN;UAGHH,OAAO,EAAE;QAHN,CAAD,CAAN;MAKH,CANiB,EAMf,IANe,CAAlB;IAOH,CAnBD,CAmBE,OAAOI,GAAP,EAAY;MACVZ,MAAM,CAAC;QACHQ,OAAO,EAAE,KADN;QAEHE,IAAI,EAAE,CAAC,CAFJ;QAGHC,OAAO,EAAG,sBAAqBC,GAAI;MAHhC,CAAD,CAAN;IAKH;EACJ,CA3BM,CAAP;AA4BH,CA7BD"}