{"version":3,"names":["NativeEventEmitter","NativeModules","krnAppStateEventSet","appStateEventEmitter","KRNAppState","customEventEmitter","KdsEvent","addListener","type","listener","Promise","res","eventEmitter","has","removeListener"],"sources":["event.ts"],"sourcesContent":["import { NativeEventEmitter, NativeModules } from 'react-native';\nimport { krnAppStateEventSet } from './constants';\nimport type { YodaEvents } from './types';\n\nexport interface AddListenerOptions {\n    data: unknown;\n}\n\nconst appStateEventEmitter = new NativeEventEmitter(NativeModules.KRNAppState);\nconst customEventEmitter = new NativeEventEmitter(NativeModules.KdsEvent);\n\nexport const addListener = async <T extends keyof YodaEvents>(\n    type: T,\n    listener: (event: YodaEvents[T]) => void,\n): Promise<void> => {\n    return new Promise((res) => {\n        const eventEmitter = krnAppStateEventSet.has(type)\n            ? appStateEventEmitter\n            : customEventEmitter;\n        eventEmitter.addListener(type, listener);\n        res();\n    });\n};\n\nexport const removeListener = async <T extends keyof YodaEvents>(\n    type: T,\n    listener?: ((event: YodaEvents[T]) => void) | undefined,\n): Promise<void> => {\n    return new Promise((res) => {\n        const eventEmitter = krnAppStateEventSet.has(type)\n            ? appStateEventEmitter\n            : customEventEmitter;\n        eventEmitter.removeListener(type, listener);\n        res();\n    });\n};\n"],"mappings":"AAAA,SAASA,kBAAT,EAA6BC,aAA7B,QAAkD,cAAlD;AACA,SAASC,mBAAT,QAAoC,aAApC;AAOA,MAAMC,oBAAoB,GAAG,IAAIH,kBAAJ,CAAuBC,aAAa,CAACG,WAArC,CAA7B;AACA,MAAMC,kBAAkB,GAAG,IAAIL,kBAAJ,CAAuBC,aAAa,CAACK,QAArC,CAA3B;AAEA,OAAO,MAAMC,WAAW,GAAG,OACvBC,IADuB,EAEvBC,QAFuB,KAGP;EAChB,OAAO,IAAIC,OAAJ,CAAaC,GAAD,IAAS;IACxB,MAAMC,YAAY,GAAGV,mBAAmB,CAACW,GAApB,CAAwBL,IAAxB,IACfL,oBADe,GAEfE,kBAFN;IAGAO,YAAY,CAACL,WAAb,CAAyBC,IAAzB,EAA+BC,QAA/B;IACAE,GAAG;EACN,CANM,CAAP;AAOH,CAXM;AAaP,OAAO,MAAMG,cAAc,GAAG,OAC1BN,IAD0B,EAE1BC,QAF0B,KAGV;EAChB,OAAO,IAAIC,OAAJ,CAAaC,GAAD,IAAS;IACxB,MAAMC,YAAY,GAAGV,mBAAmB,CAACW,GAApB,CAAwBL,IAAxB,IACfL,oBADe,GAEfE,kBAFN;IAGAO,YAAY,CAACE,cAAb,CAA4BN,IAA5B,EAAkCC,QAAlC;IACAE,GAAG;EACN,CANM,CAAP;AAOH,CAXM"}