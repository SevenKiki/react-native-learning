{"version":3,"names":["defaultSerializer","stringify","params","JSON","parse","rootTag","serializer","globalConfig","mode","console","info","version","value","newSerializer","isSetSerializer","setGlobalConfig","nextGlobalConfig","Object","assign"],"sources":["global-config.ts"],"sourcesContent":["import { getCurrentMode, setCurrentMode } from './mode';\nimport type { Mode } from './mode';\nimport { version } from './version';\n\nexport interface GlobalConfig {\n    mode: Mode;\n    rootTag?: number;\n    timeout?: number;\n    serializer?: Serializer;\n    isSetSerializer?: boolean;\n}\n\ntype Serializer = {\n    stringify: (params: any) => string;\n    parse: (params: string) => any;\n};\n\nexport const defaultSerializer: Serializer = {\n    stringify: (params: any) => JSON.stringify(params),\n    parse: (params: string) => JSON.parse(params),\n};\n\nlet rootTag: number | null = null;\nlet serializer: Serializer = defaultSerializer;\nexport const globalConfig: GlobalConfig = {\n    get mode() {\n        return getCurrentMode();\n    },\n    set mode(mode: Mode) {\n        setCurrentMode(mode);\n\n        console.info(\n            `You're currently running version ${version} in ${mode} mode`,\n        );\n    },\n    get rootTag() {\n        return rootTag;\n    },\n    set rootTag(value: number) {\n        rootTag = value;\n    },\n    get serializer() {\n        return serializer;\n    },\n    set serializer(newSerializer: Serializer) {\n        serializer = newSerializer;\n    },\n    get isSetSerializer() {\n        return serializer !== defaultSerializer;\n    },\n};\n\nexport const setGlobalConfig = (\n    nextGlobalConfig: Partial<GlobalConfig>,\n): void => {\n    Object.assign(globalConfig, nextGlobalConfig);\n};\n"],"mappings":";;;;;;;AAAA;;AAEA;;AAeO,MAAMA,iBAA6B,GAAG;EACzCC,SAAS,EAAGC,MAAD,IAAiBC,IAAI,CAACF,SAAL,CAAeC,MAAf,CADa;EAEzCE,KAAK,EAAGF,MAAD,IAAoBC,IAAI,CAACC,KAAL,CAAWF,MAAX;AAFc,CAAtC;;AAKP,IAAIG,OAAsB,GAAG,IAA7B;AACA,IAAIC,UAAsB,GAAGN,iBAA7B;AACO,MAAMO,YAA0B,GAAG;EACtC,IAAIC,IAAJ,GAAW;IACP,OAAO,2BAAP;EACH,CAHqC;;EAItC,IAAIA,IAAJ,CAASA,IAAT,EAAqB;IACjB,0BAAeA,IAAf;IAEAC,OAAO,CAACC,IAAR,CACK,oCAAmCC,gBAAQ,OAAMH,IAAK,OAD3D;EAGH,CAVqC;;EAWtC,IAAIH,OAAJ,GAAc;IACV,OAAOA,OAAP;EACH,CAbqC;;EActC,IAAIA,OAAJ,CAAYO,KAAZ,EAA2B;IACvBP,OAAO,GAAGO,KAAV;EACH,CAhBqC;;EAiBtC,IAAIN,UAAJ,GAAiB;IACb,OAAOA,UAAP;EACH,CAnBqC;;EAoBtC,IAAIA,UAAJ,CAAeO,aAAf,EAA0C;IACtCP,UAAU,GAAGO,aAAb;EACH,CAtBqC;;EAuBtC,IAAIC,eAAJ,GAAsB;IAClB,OAAOR,UAAU,KAAKN,iBAAtB;EACH;;AAzBqC,CAAnC;;;AA4BA,MAAMe,eAAe,GACxBC,gBAD2B,IAEpB;EACPC,MAAM,CAACC,MAAP,CAAcX,YAAd,EAA4BS,gBAA5B;AACH,CAJM"}