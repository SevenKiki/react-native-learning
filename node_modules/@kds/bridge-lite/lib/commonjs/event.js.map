{"version":3,"names":["appStateEventEmitter","NativeEventEmitter","NativeModules","KRNAppState","customEventEmitter","KdsEvent","addListener","type","listener","Promise","res","eventEmitter","krnAppStateEventSet","has","removeListener"],"sources":["event.ts"],"sourcesContent":["import { NativeEventEmitter, NativeModules } from 'react-native';\nimport { krnAppStateEventSet } from './constants';\nimport type { YodaEvents } from './types';\n\nexport interface AddListenerOptions {\n    data: unknown;\n}\n\nconst appStateEventEmitter = new NativeEventEmitter(NativeModules.KRNAppState);\nconst customEventEmitter = new NativeEventEmitter(NativeModules.KdsEvent);\n\nexport const addListener = async <T extends keyof YodaEvents>(\n    type: T,\n    listener: (event: YodaEvents[T]) => void,\n): Promise<void> => {\n    return new Promise((res) => {\n        const eventEmitter = krnAppStateEventSet.has(type)\n            ? appStateEventEmitter\n            : customEventEmitter;\n        eventEmitter.addListener(type, listener);\n        res();\n    });\n};\n\nexport const removeListener = async <T extends keyof YodaEvents>(\n    type: T,\n    listener?: ((event: YodaEvents[T]) => void) | undefined,\n): Promise<void> => {\n    return new Promise((res) => {\n        const eventEmitter = krnAppStateEventSet.has(type)\n            ? appStateEventEmitter\n            : customEventEmitter;\n        eventEmitter.removeListener(type, listener);\n        res();\n    });\n};\n"],"mappings":";;;;;;;AAAA;;AACA;;AAOA,MAAMA,oBAAoB,GAAG,IAAIC,+BAAJ,CAAuBC,2BAAcC,WAArC,CAA7B;AACA,MAAMC,kBAAkB,GAAG,IAAIH,+BAAJ,CAAuBC,2BAAcG,QAArC,CAA3B;;AAEO,MAAMC,WAAW,GAAG,OACvBC,IADuB,EAEvBC,QAFuB,KAGP;EAChB,OAAO,IAAIC,OAAJ,CAAaC,GAAD,IAAS;IACxB,MAAMC,YAAY,GAAGC,+BAAoBC,GAApB,CAAwBN,IAAxB,IACfP,oBADe,GAEfI,kBAFN;IAGAO,YAAY,CAACL,WAAb,CAAyBC,IAAzB,EAA+BC,QAA/B;IACAE,GAAG;EACN,CANM,CAAP;AAOH,CAXM;;;;AAaA,MAAMI,cAAc,GAAG,OAC1BP,IAD0B,EAE1BC,QAF0B,KAGV;EAChB,OAAO,IAAIC,OAAJ,CAAaC,GAAD,IAAS;IACxB,MAAMC,YAAY,GAAGC,+BAAoBC,GAApB,CAAwBN,IAAxB,IACfP,oBADe,GAEfI,kBAFN;IAGAO,YAAY,CAACG,cAAb,CAA4BP,IAA5B,EAAkCC,QAAlC;IACAE,GAAG;EACN,CANM,CAAP;AAOH,CAXM"}