{"version":3,"names":["NativeModules","Platform","AppVersion","LocalLifeCustomLogger","LocalLifeInitLogger","VersionUtil","inValidVersion","OS","currentGreaterThanEqualVersion","VERSION_11_2_10","VERSION_11_3_10","LocalLifeUrlLogger","logUrl","tag","url","desc","rootTag","getRootTag","Kds","invoke","JSON","stringify","logCustomEvent","console","log","e","error"],"sources":["LocalLifeUrlLogger.ts"],"sourcesContent":["import { NativeModules, Platform } from 'react-native';\nimport AppVersion from './AppVersion';\nimport LocalLifeCustomLogger from './LocalLifeCustomLogger';\nimport LocalLifeInitLogger from './LocalLifeInitLogger';\nimport { VersionUtil } from './VersionUtil';\n\nfunction inValidVersion(): boolean {\n    if (Platform.OS === 'android') {\n        return VersionUtil.currentGreaterThanEqualVersion(\n            AppVersion.VERSION_11_2_10,\n        );\n    } else if (Platform.OS === 'ios') {\n        return VersionUtil.currentGreaterThanEqualVersion(\n            AppVersion.VERSION_11_3_10,\n        );\n    }\n    return false;\n}\n\nexport default class LocalLifeUrlLogger {\n    static async logUrl(tag: string, url: string, desc?: string) {\n        try {\n            let rootTag = LocalLifeInitLogger.getRootTag();\n            if (inValidVersion()) {\n                NativeModules.Kds.invoke(\n                    'poi',\n                    'reportKwaiUrlLog',\n                    JSON.stringify({\n                        tag,\n                        url,\n                        desc,\n                        rootTag,\n                    }),\n                );\n            } else {\n                LocalLifeCustomLogger.logCustomEvent(\n                    'LOCAL_LIFE_LOG_KWAI_URL',\n                    {\n                        tag,\n                        url,\n                        desc,\n                    },\n                );\n            }\n            console.log(\n                '[customEventKey: LOCAL_LIFE_LOG_KWAI_URL]' +\n                    '[tag:' +\n                    tag +\n                    '][url:' +\n                    url +\n                    ']' +\n                    '[desc:' +\n                    (desc || {}) +\n                    ']',\n            );\n        } catch (e) {\n            console.error(`LocalLifeUrlLogger error:${e || ''}`);\n        }\n    }\n}\n"],"mappings":"AAAA,SAASA,aAAT,EAAwBC,QAAxB,QAAwC,cAAxC;AACA,OAAOC,UAAP,MAAuB,cAAvB;AACA,OAAOC,qBAAP,MAAkC,yBAAlC;AACA,OAAOC,mBAAP,MAAgC,uBAAhC;AACA,SAASC,WAAT,QAA4B,eAA5B;;AAEA,SAASC,cAAT,GAAmC;EAC/B,IAAIL,QAAQ,CAACM,EAAT,KAAgB,SAApB,EAA+B;IAC3B,OAAOF,WAAW,CAACG,8BAAZ,CACHN,UAAU,CAACO,eADR,CAAP;EAGH,CAJD,MAIO,IAAIR,QAAQ,CAACM,EAAT,KAAgB,KAApB,EAA2B;IAC9B,OAAOF,WAAW,CAACG,8BAAZ,CACHN,UAAU,CAACQ,eADR,CAAP;EAGH;;EACD,OAAO,KAAP;AACH;;AAED,eAAe,MAAMC,kBAAN,CAAyB;EACjB,aAANC,MAAM,CAACC,GAAD,EAAcC,GAAd,EAA2BC,IAA3B,EAA0C;IACzD,IAAI;MACA,IAAIC,OAAO,GAAGZ,mBAAmB,CAACa,UAApB,EAAd;;MACA,IAAIX,cAAc,EAAlB,EAAsB;QAClBN,aAAa,CAACkB,GAAd,CAAkBC,MAAlB,CACI,KADJ,EAEI,kBAFJ,EAGIC,IAAI,CAACC,SAAL,CAAe;UACXR,GADW;UAEXC,GAFW;UAGXC,IAHW;UAIXC;QAJW,CAAf,CAHJ;MAUH,CAXD,MAWO;QACHb,qBAAqB,CAACmB,cAAtB,CACI,yBADJ,EAEI;UACIT,GADJ;UAEIC,GAFJ;UAGIC;QAHJ,CAFJ;MAQH;;MACDQ,OAAO,CAACC,GAAR,CACI,8CACI,OADJ,GAEIX,GAFJ,GAGI,QAHJ,GAIIC,GAJJ,GAKI,GALJ,GAMI,QANJ,IAOKC,IAAI,IAAI,EAPb,IAQI,GATR;IAWH,CAlCD,CAkCE,OAAOU,CAAP,EAAU;MACRF,OAAO,CAACG,KAAR,CAAe,4BAA2BD,CAAC,IAAI,EAAG,EAAlD;IACH;EACJ;;AAvCmC"}