{"version":3,"names":["inValidVersion","Platform","OS","VersionUtil","currentGreaterThanEqualVersion","AppVersion","VERSION_11_2_10","VERSION_11_3_10","LocalLifeUrlLogger","logUrl","tag","url","desc","rootTag","LocalLifeInitLogger","getRootTag","NativeModules","Kds","invoke","JSON","stringify","LocalLifeCustomLogger","logCustomEvent","console","log","e","error"],"sources":["LocalLifeUrlLogger.ts"],"sourcesContent":["import { NativeModules, Platform } from 'react-native';\nimport AppVersion from './AppVersion';\nimport LocalLifeCustomLogger from './LocalLifeCustomLogger';\nimport LocalLifeInitLogger from './LocalLifeInitLogger';\nimport { VersionUtil } from './VersionUtil';\n\nfunction inValidVersion(): boolean {\n    if (Platform.OS === 'android') {\n        return VersionUtil.currentGreaterThanEqualVersion(\n            AppVersion.VERSION_11_2_10,\n        );\n    } else if (Platform.OS === 'ios') {\n        return VersionUtil.currentGreaterThanEqualVersion(\n            AppVersion.VERSION_11_3_10,\n        );\n    }\n    return false;\n}\n\nexport default class LocalLifeUrlLogger {\n    static async logUrl(tag: string, url: string, desc?: string) {\n        try {\n            let rootTag = LocalLifeInitLogger.getRootTag();\n            if (inValidVersion()) {\n                NativeModules.Kds.invoke(\n                    'poi',\n                    'reportKwaiUrlLog',\n                    JSON.stringify({\n                        tag,\n                        url,\n                        desc,\n                        rootTag,\n                    }),\n                );\n            } else {\n                LocalLifeCustomLogger.logCustomEvent(\n                    'LOCAL_LIFE_LOG_KWAI_URL',\n                    {\n                        tag,\n                        url,\n                        desc,\n                    },\n                );\n            }\n            console.log(\n                '[customEventKey: LOCAL_LIFE_LOG_KWAI_URL]' +\n                    '[tag:' +\n                    tag +\n                    '][url:' +\n                    url +\n                    ']' +\n                    '[desc:' +\n                    (desc || {}) +\n                    ']',\n            );\n        } catch (e) {\n            console.error(`LocalLifeUrlLogger error:${e || ''}`);\n        }\n    }\n}\n"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;;;AAEA,SAASA,cAAT,GAAmC;EAC/B,IAAIC,sBAASC,EAAT,KAAgB,SAApB,EAA+B;IAC3B,OAAOC,yBAAYC,8BAAZ,CACHC,oBAAWC,eADR,CAAP;EAGH,CAJD,MAIO,IAAIL,sBAASC,EAAT,KAAgB,KAApB,EAA2B;IAC9B,OAAOC,yBAAYC,8BAAZ,CACHC,oBAAWE,eADR,CAAP;EAGH;;EACD,OAAO,KAAP;AACH;;AAEc,MAAMC,kBAAN,CAAyB;EACjB,aAANC,MAAM,CAACC,GAAD,EAAcC,GAAd,EAA2BC,IAA3B,EAA0C;IACzD,IAAI;MACA,IAAIC,OAAO,GAAGC,6BAAoBC,UAApB,EAAd;;MACA,IAAIf,cAAc,EAAlB,EAAsB;QAClBgB,2BAAcC,GAAd,CAAkBC,MAAlB,CACI,KADJ,EAEI,kBAFJ,EAGIC,IAAI,CAACC,SAAL,CAAe;UACXV,GADW;UAEXC,GAFW;UAGXC,IAHW;UAIXC;QAJW,CAAf,CAHJ;MAUH,CAXD,MAWO;QACHQ,+BAAsBC,cAAtB,CACI,yBADJ,EAEI;UACIZ,GADJ;UAEIC,GAFJ;UAGIC;QAHJ,CAFJ;MAQH;;MACDW,OAAO,CAACC,GAAR,CACI,8CACI,OADJ,GAEId,GAFJ,GAGI,QAHJ,GAIIC,GAJJ,GAKI,GALJ,GAMI,QANJ,IAOKC,IAAI,IAAI,EAPb,IAQI,GATR;IAWH,CAlCD,CAkCE,OAAOa,CAAP,EAAU;MACRF,OAAO,CAACG,KAAR,CAAe,4BAA2BD,CAAC,IAAI,EAAG,EAAlD;IACH;EACJ;;AAvCmC"}