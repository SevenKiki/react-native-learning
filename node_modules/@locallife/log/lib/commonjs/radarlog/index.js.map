{"version":3,"names":["LocalLifeRadarLogger","constructor","appModel","LocalLifeInitLogger","getAppModel","weblog","getWeblog","radarKrnLog","RadarKrn","sessionId","bundleId","bundleVersionCode","BundleVersionCode","bundleVersion","componentName","rootPropsRadar","radarEvent","name","params","event","extra_info","extraInfo","rootProps","error","console","logRadar","localLifeRadarLogger"],"sources":["index.ts"],"sourcesContent":["import RadarKrn from '@ks-radar/radar/krn';\nimport { RadarExtraInfo } from './radartypes';\nimport { LocalLifeInitLogger } from '..';\n\nclass LocalLifeRadarLogger {\n    private radarKrnLog: RadarKrn;\n    private rootPropsRadar: object;\n\n    constructor() {\n        const appModel = LocalLifeInitLogger.getAppModel();\n        const weblog = LocalLifeInitLogger.getWeblog();\n        this.radarKrnLog = new RadarKrn({\n            weblog: weblog,\n            sessionId: `${appModel.sessionId}`,\n            bundleId: appModel.bundleId,\n            bundleVersionCode: `${appModel.BundleVersionCode}`,\n            bundleVersion: `${appModel.bundleVersion}`,\n            componentName: appModel.componentName,\n        });\n        this.rootPropsRadar = appModel;\n    }\n\n    radarEvent(name: string, params?: { [key: string]: any }) {\n        try {\n            this.radarKrnLog.event({\n                name, // 必填\n                params,\n                // eslint-disable-next-line camelcase\n                extra_info: {\n                    ...params.extraInfo,\n                    rootProps: this.rootPropsRadar,\n                },\n            });\n        } catch (error) {\n            console.error('LocalLifeRadarLogger.radarEvent Error: ', error);\n        }\n    }\n\n    logRadar(name: string, extraInfo: RadarExtraInfo) {\n        this.radarEvent(name, { extraInfo: extraInfo });\n    }\n}\n\nexport const localLifeRadarLogger = new LocalLifeRadarLogger();\n"],"mappings":";;;;;;;AAAA;;AAEA;;;;;;AAEA,MAAMA,oBAAN,CAA2B;EAIvBC,WAAW,GAAG;IAAA;;IAAA;;IACV,MAAMC,QAAQ,GAAGC,sBAAoBC,WAApB,EAAjB;;IACA,MAAMC,MAAM,GAAGF,sBAAoBG,SAApB,EAAf;;IACA,KAAKC,WAAL,GAAmB,IAAIC,YAAJ,CAAa;MAC5BH,MAAM,EAAEA,MADoB;MAE5BI,SAAS,EAAG,GAAEP,QAAQ,CAACO,SAAU,EAFL;MAG5BC,QAAQ,EAAER,QAAQ,CAACQ,QAHS;MAI5BC,iBAAiB,EAAG,GAAET,QAAQ,CAACU,iBAAkB,EAJrB;MAK5BC,aAAa,EAAG,GAAEX,QAAQ,CAACW,aAAc,EALb;MAM5BC,aAAa,EAAEZ,QAAQ,CAACY;IANI,CAAb,CAAnB;IAQA,KAAKC,cAAL,GAAsBb,QAAtB;EACH;;EAEDc,UAAU,CAACC,IAAD,EAAeC,MAAf,EAAgD;IACtD,IAAI;MACA,KAAKX,WAAL,CAAiBY,KAAjB,CAAuB;QACnBF,IADmB;QACb;QACNC,MAFmB;QAGnB;QACAE,UAAU,EAAE,EACR,GAAGF,MAAM,CAACG,SADF;UAERC,SAAS,EAAE,KAAKP;QAFR;MAJO,CAAvB;IASH,CAVD,CAUE,OAAOQ,KAAP,EAAc;MACZC,OAAO,CAACD,KAAR,CAAc,yCAAd,EAAyDA,KAAzD;IACH;EACJ;;EAEDE,QAAQ,CAACR,IAAD,EAAeI,SAAf,EAA0C;IAC9C,KAAKL,UAAL,CAAgBC,IAAhB,EAAsB;MAAEI,SAAS,EAAEA;IAAb,CAAtB;EACH;;AApCsB;;AAuCpB,MAAMK,oBAAoB,GAAG,IAAI1B,oBAAJ,EAA7B"}