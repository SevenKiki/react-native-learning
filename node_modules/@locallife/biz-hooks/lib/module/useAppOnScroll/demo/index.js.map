{"version":3,"names":["React","useEffect","useState","Text","StyleSheet","Animated","SafeAreaView","useAppOnScroll","styles","create","container","flex","text","width","height","textAlign","lineHeight","color","fontSize","blue","backgroundColor","orange","purple","green","bottom","transY","onScroll","transYValue","setTransYValue","addListener","value","data","Array","fill","map","_","index","backgroundArray","renderItem","length"],"sources":["index.tsx"],"sourcesContent":["/* eslint-disable react/jsx-no-bind */\nimport React, { useEffect, useState } from 'react';\nimport { Text, StyleSheet, Animated, SafeAreaView } from 'react-native';\nimport useAppOnScroll from '..';\n\n// 本Demo展示了useAppOnScroll的使用，通过该hook监听列表的滑动，实时获取滑动的距离\nconst styles = StyleSheet.create({\n    container: {\n        flex: 1,\n    },\n    text: {\n        width: '100%',\n        height: 100,\n        textAlign: 'center',\n        lineHeight: 100,\n        color: '#ffffff',\n        fontSize: 22,\n    },\n    blue: {\n        backgroundColor: 'blue',\n    },\n    orange: {\n        backgroundColor: 'orange',\n    },\n    purple: {\n        backgroundColor: 'purple',\n    },\n    green: {\n        backgroundColor: 'green',\n    },\n    bottom: {\n        backgroundColor: 'black',\n        color: '#ffffff',\n        textAlign: 'center',\n        height: 50,\n        lineHeight: 50,\n    },\n});\n\nexport default () => {\n    const [transY, onScroll] = useAppOnScroll();\n    const [transYValue, setTransYValue] = useState(0);\n    useEffect(() => {\n        transY.addListener(({ value }) => {\n            setTransYValue(value);\n        });\n    }, [transY]);\n    const data = Array(100)\n        .fill(0)\n        .map((_, index) => `第${index + 1}个文本`);\n\n    const backgroundArray = [\n        styles.blue,\n        styles.orange,\n        styles.purple,\n        styles.green,\n    ];\n\n    const renderItem = ({ index }) => {\n        return (\n            <Text\n                style={[\n                    styles.text,\n                    backgroundArray[index % backgroundArray.length],\n                ]}\n            >\n                {data[index]}\n            </Text>\n        );\n    };\n\n    return (\n        <SafeAreaView style={styles.container}>\n            <Animated.FlatList\n                data={data}\n                renderItem={renderItem}\n                keyExtractor={(index) => `${index}`}\n                onScroll={onScroll()}\n            />\n            <Text style={styles.bottom}>滑动距离{transYValue}</Text>\n        </SafeAreaView>\n    );\n};\n"],"mappings":"AAAA;AACA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,IAAT,EAAeC,UAAf,EAA2BC,QAA3B,EAAqCC,YAArC,QAAyD,cAAzD;AACA,OAAOC,cAAP,MAA2B,IAA3B,C,CAEA;;AACA,MAAMC,MAAM,GAAGJ,UAAU,CAACK,MAAX,CAAkB;EAC7BC,SAAS,EAAE;IACPC,IAAI,EAAE;EADC,CADkB;EAI7BC,IAAI,EAAE;IACFC,KAAK,EAAE,MADL;IAEFC,MAAM,EAAE,GAFN;IAGFC,SAAS,EAAE,QAHT;IAIFC,UAAU,EAAE,GAJV;IAKFC,KAAK,EAAE,SALL;IAMFC,QAAQ,EAAE;EANR,CAJuB;EAY7BC,IAAI,EAAE;IACFC,eAAe,EAAE;EADf,CAZuB;EAe7BC,MAAM,EAAE;IACJD,eAAe,EAAE;EADb,CAfqB;EAkB7BE,MAAM,EAAE;IACJF,eAAe,EAAE;EADb,CAlBqB;EAqB7BG,KAAK,EAAE;IACHH,eAAe,EAAE;EADd,CArBsB;EAwB7BI,MAAM,EAAE;IACJJ,eAAe,EAAE,OADb;IAEJH,KAAK,EAAE,SAFH;IAGJF,SAAS,EAAE,QAHP;IAIJD,MAAM,EAAE,EAJJ;IAKJE,UAAU,EAAE;EALR;AAxBqB,CAAlB,CAAf;AAiCA,gBAAe,MAAM;EACjB,MAAM,CAACS,MAAD,EAASC,QAAT,IAAqBnB,cAAc,EAAzC;EACA,MAAM,CAACoB,WAAD,EAAcC,cAAd,IAAgC1B,QAAQ,CAAC,CAAD,CAA9C;EACAD,SAAS,CAAC,MAAM;IACZwB,MAAM,CAACI,WAAP,CAAmB,QAAe;MAAA,IAAd;QAAEC;MAAF,CAAc;MAC9BF,cAAc,CAACE,KAAD,CAAd;IACH,CAFD;EAGH,CAJQ,EAIN,CAACL,MAAD,CAJM,CAAT;EAKA,MAAMM,IAAI,GAAGC,KAAK,CAAC,GAAD,CAAL,CACRC,IADQ,CACH,CADG,EAERC,GAFQ,CAEJ,CAACC,CAAD,EAAIC,KAAJ,KAAe,IAAGA,KAAK,GAAG,CAAE,KAFxB,CAAb;EAIA,MAAMC,eAAe,GAAG,CACpB7B,MAAM,CAACW,IADa,EAEpBX,MAAM,CAACa,MAFa,EAGpBb,MAAM,CAACc,MAHa,EAIpBd,MAAM,CAACe,KAJa,CAAxB;;EAOA,MAAMe,UAAU,GAAG,SAAe;IAAA,IAAd;MAAEF;IAAF,CAAc;IAC9B,oBACI,oBAAC,IAAD;MACI,KAAK,EAAE,CACH5B,MAAM,CAACI,IADJ,EAEHyB,eAAe,CAACD,KAAK,GAAGC,eAAe,CAACE,MAAzB,CAFZ;IADX,GAMKR,IAAI,CAACK,KAAD,CANT,CADJ;EAUH,CAXD;;EAaA,oBACI,oBAAC,YAAD;IAAc,KAAK,EAAE5B,MAAM,CAACE;EAA5B,gBACI,oBAAC,QAAD,CAAU,QAAV;IACI,IAAI,EAAEqB,IADV;IAEI,UAAU,EAAEO,UAFhB;IAGI,YAAY,EAAGF,KAAD,IAAY,GAAEA,KAAM,EAHtC;IAII,QAAQ,EAAEV,QAAQ;EAJtB,EADJ,eAOI,oBAAC,IAAD;IAAM,KAAK,EAAElB,MAAM,CAACgB;EAApB,+BAAiCG,WAAjC,CAPJ,CADJ;AAWH,CA3CD"}