{"version":3,"names":["useMemo","useRef","Animated","useAppOnScroll","transY","Value","current","useOnScroll","callBack","event","nativeEvent","contentOffset","y","listener","useNativeDriver"],"sources":["index.tsx"],"sourcesContent":["import { useMemo, useRef } from 'react';\nimport { Animated } from 'react-native';\n\ntype animatedEventCallback = (e?: any) => void;\n\n/**\n * 监听App滚动\n *\n * @returns [transY, useOnScroll] [滑动的距离(Animated.Value类型), 滑动的回调]\n */\nexport default function useAppOnScroll(): [\n    Animated.Value,\n    (e?: (event) => void) => animatedEventCallback,\n] {\n    const transY = useRef(new Animated.Value(0)).current;\n    const useOnScroll = (callBack?: (event) => void): animatedEventCallback => {\n        return useMemo(() => {\n            return Animated.event(\n                [\n                    {\n                        nativeEvent: {\n                            contentOffset: {\n                                y: transY,\n                            },\n                        },\n                    },\n                ],\n                {\n                    listener: (event) => {\n                        if (callBack) {\n                            callBack(event);\n                        }\n                    },\n                    useNativeDriver: false,\n                },\n            );\n        }, [callBack]);\n    };\n    return [transY, useOnScroll];\n}\n"],"mappings":"AAAA,SAASA,OAAT,EAAkBC,MAAlB,QAAgC,OAAhC;AACA,SAASC,QAAT,QAAyB,cAAzB;;AAIA;AACA;AACA;AACA;AACA;AACA,eAAe,SAASC,cAAT,GAGb;EACE,MAAMC,MAAM,GAAGH,MAAM,CAAC,IAAIC,QAAQ,CAACG,KAAb,CAAmB,CAAnB,CAAD,CAAN,CAA8BC,OAA7C;;EACA,MAAMC,WAAW,GAAIC,QAAD,IAAuD;IACvE,OAAOR,OAAO,CAAC,MAAM;MACjB,OAAOE,QAAQ,CAACO,KAAT,CACH,CACI;QACIC,WAAW,EAAE;UACTC,aAAa,EAAE;YACXC,CAAC,EAAER;UADQ;QADN;MADjB,CADJ,CADG,EAUH;QACIS,QAAQ,EAAGJ,KAAD,IAAW;UACjB,IAAID,QAAJ,EAAc;YACVA,QAAQ,CAACC,KAAD,CAAR;UACH;QACJ,CALL;QAMIK,eAAe,EAAE;MANrB,CAVG,CAAP;IAmBH,CApBa,EAoBX,CAACN,QAAD,CApBW,CAAd;EAqBH,CAtBD;;EAuBA,OAAO,CAACJ,MAAD,EAASG,WAAT,CAAP;AACH"}