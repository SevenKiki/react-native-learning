{"version":3,"names":["useRef","useFeedMount","idProvider","func","itemShowedMap","Map","current","item","index","id","get","set"],"sources":["index.tsx"],"sourcesContent":["import { useRef } from 'react';\n\n/**\n * 处理列表item被加载的逻辑，一般用于item展现的打点上报，只会上报一次\n *\n * @param idProvider    获取id的方法\n * @param func          执行的方法\n * @returns             列表item被加载的回调引用\n */\nexport default function useFeedMount<T>(\n    idProvider: (item: T) => string,\n    func: (feed: T, index: number) => void,\n) {\n    const itemShowedMap = useRef(new Map<string, boolean>()).current;\n    return useRef((item: T, index: number) => {\n        const id = idProvider(item);\n        if (!itemShowedMap.get(id)) {\n            itemShowedMap.set(id, true);\n            func(item, index);\n        }\n    }).current;\n}\n"],"mappings":"AAAA,SAASA,MAAT,QAAuB,OAAvB;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,eAAe,SAASC,YAAT,CACXC,UADW,EAEXC,IAFW,EAGb;EACE,MAAMC,aAAa,GAAGJ,MAAM,CAAC,IAAIK,GAAJ,EAAD,CAAN,CAAmCC,OAAzD;EACA,OAAON,MAAM,CAAC,CAACO,IAAD,EAAUC,KAAV,KAA4B;IACtC,MAAMC,EAAE,GAAGP,UAAU,CAACK,IAAD,CAArB;;IACA,IAAI,CAACH,aAAa,CAACM,GAAd,CAAkBD,EAAlB,CAAL,EAA4B;MACxBL,aAAa,CAACO,GAAd,CAAkBF,EAAlB,EAAsB,IAAtB;MACAN,IAAI,CAACI,IAAD,EAAOC,KAAP,CAAJ;IACH;EACJ,CANY,CAAN,CAMJF,OANH;AAOH"}