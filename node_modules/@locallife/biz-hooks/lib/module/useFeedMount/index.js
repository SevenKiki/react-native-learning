import { useRef } from 'react';
/**
 * 处理列表item被加载的逻辑，一般用于item展现的打点上报，只会上报一次
 *
 * @param idProvider    获取id的方法
 * @param func          执行的方法
 * @returns             列表item被加载的回调引用
 */

export default function useFeedMount(idProvider, func) {
  const itemShowedMap = useRef(new Map()).current;
  return useRef((item, index) => {
    const id = idProvider(item);

    if (!itemShowedMap.get(id)) {
      itemShowedMap.set(id, true);
      func(item, index);
    }
  }).current;
}
//# sourceMappingURL=index.js.map