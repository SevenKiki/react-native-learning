{"version":3,"names":["styles","StyleSheet","create","container","flex","justifyContent","alignItems","noop","Boundary","props","isLoading","isError","isEmpty","refetch","children","containerStyle","EmptyComponent","LoadingComponent","ErrorComponent","bgColor","_style","backgroundColor","defaultProps","undefined","React","memo"],"sources":["index.tsx"],"sourcesContent":["import React, { ReactNode } from 'react';\nimport { KidIcon, KidLoading, KidNetError, useThemeValue } from '@kid-ui/krn';\nimport { View, ViewStyle, StyleSheet } from 'react-native';\n\nconst styles = StyleSheet.create({\n    container: {\n        flex: 1,\n        justifyContent: 'center',\n        alignItems: 'center',\n    },\n});\ntype IProp = {\n    isLoading: boolean;\n    isError?: boolean;\n    isEmpty?: boolean;\n    refetch?: () => void;\n    children: ReactNode | any;\n    ErrorComponent?: ReactNode;\n    LoadingComponent?: ReactNode;\n    EmptyComponent?: ReactNode;\n    containerStyle?: ViewStyle;\n};\n\nconst noop = () => {};\n\n/**\n * 这个组件不建议放到页面的最外层使用，这会导致页面加载时无法创建子节点，影响秒开\n * @param props\n * @constructor\n */\nfunction Boundary(props: IProp) {\n    const {\n        isLoading,\n        isError,\n        isEmpty,\n        refetch = noop,\n        children,\n        containerStyle,\n        EmptyComponent,\n        LoadingComponent,\n        ErrorComponent,\n    } = props;\n    const bgColor = useThemeValue('cs_common_background_secondary');\n    const _style = [\n        styles.container,\n        { backgroundColor: bgColor },\n        containerStyle,\n    ];\n    if (isLoading) {\n        // 正在请求返回loading\n        if (LoadingComponent) {\n            return LoadingComponent;\n        }\n        return (\n            <View style={_style}>\n                <KidLoading />\n            </View>\n        );\n    }\n    if (isError) {\n        if (ErrorComponent) {\n            return ErrorComponent;\n        }\n        // 请求失败返回错误展位图，点击refetch重试\n        return (\n            <View style={_style}>\n                <KidNetError\n                    buttonBgColor={'cs_common_background_primary'}\n                    onPress={refetch}\n                />\n            </View>\n        );\n    }\n    if (isEmpty) {\n        if (EmptyComponent) {\n            return EmptyComponent;\n        }\n        return (\n            <View style={_style}>\n                <KidIcon\n                    kid={'local_server_emptystate_nocontent_96'}\n                    size={84}\n                />\n            </View>\n        );\n    }\n    // 返回子组件\n    return children;\n}\n\nBoundary.defaultProps = {\n    containerStyle: undefined,\n    isEmpty: false,\n};\n\nexport default React.memo(Boundary);\n"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;;;AAEA,MAAMA,MAAM,GAAGC,wBAAWC,MAAX,CAAkB;EAC7BC,SAAS,EAAE;IACPC,IAAI,EAAE,CADC;IAEPC,cAAc,EAAE,QAFT;IAGPC,UAAU,EAAE;EAHL;AADkB,CAAlB,CAAf;;AAmBA,MAAMC,IAAI,GAAG,MAAM,CAAE,CAArB;AAEA;AACA;AACA;AACA;AACA;;;AACA,SAASC,QAAT,CAAkBC,KAAlB,EAAgC;EAC5B,MAAM;IACFC,SADE;IAEFC,OAFE;IAGFC,OAHE;IAIFC,OAAO,GAAGN,IAJR;IAKFO,QALE;IAMFC,cANE;IAOFC,cAPE;IAQFC,gBARE;IASFC;EATE,IAUFT,KAVJ;EAWA,MAAMU,OAAO,GAAG,wBAAc,gCAAd,CAAhB;EACA,MAAMC,MAAM,GAAG,CACXpB,MAAM,CAACG,SADI,EAEX;IAAEkB,eAAe,EAAEF;EAAnB,CAFW,EAGXJ,cAHW,CAAf;;EAKA,IAAIL,SAAJ,EAAe;IACX;IACA,IAAIO,gBAAJ,EAAsB;MAClB,OAAOA,gBAAP;IACH;;IACD,oBACI,6BAAC,iBAAD;MAAM,KAAK,EAAEG;IAAb,gBACI,6BAAC,eAAD,OADJ,CADJ;EAKH;;EACD,IAAIT,OAAJ,EAAa;IACT,IAAIO,cAAJ,EAAoB;MAChB,OAAOA,cAAP;IACH,CAHQ,CAIT;;;IACA,oBACI,6BAAC,iBAAD;MAAM,KAAK,EAAEE;IAAb,gBACI,6BAAC,gBAAD;MACI,aAAa,EAAE,8BADnB;MAEI,OAAO,EAAEP;IAFb,EADJ,CADJ;EAQH;;EACD,IAAID,OAAJ,EAAa;IACT,IAAII,cAAJ,EAAoB;MAChB,OAAOA,cAAP;IACH;;IACD,oBACI,6BAAC,iBAAD;MAAM,KAAK,EAAEI;IAAb,gBACI,6BAAC,YAAD;MACI,GAAG,EAAE,sCADT;MAEI,IAAI,EAAE;IAFV,EADJ,CADJ;EAQH,CAvD2B,CAwD5B;;;EACA,OAAON,QAAP;AACH;;AAEDN,QAAQ,CAACc,YAAT,GAAwB;EACpBP,cAAc,EAAEQ,SADI;EAEpBX,OAAO,EAAE;AAFW,CAAxB;;4BAKeY,eAAMC,IAAN,CAAWjB,QAAX,C"}