{"version":3,"names":["PREVENT_DISTANCE","FixScrollTouchComponent","props","children","activeOpacity","onPress","fixDistance","_touchActivatePositionRef","pageX","pageY","TouchComponent","undefined","TouchableWithoutFeedback","TouchableOpacity","_onPressIn","e","nativeEvent","current","_onPress","absX","Math","abs","absY","isDragging"],"sources":["index.tsx"],"sourcesContent":["import {\n    TouchableOpacity,\n    TouchableOpacityProps,\n    TouchableWithoutFeedback,\n} from 'react-native';\nimport React, { ElementType, useCallback, useRef } from 'react';\n\nconst PREVENT_DISTANCE = 10;\n\ntype IProps = {\n    fixDistance?: number;\n    children?: ElementType | any;\n} & TouchableOpacityProps;\n\nexport const FixScrollTouchComponent = (props: IProps) => {\n    const {\n        children,\n        activeOpacity,\n        onPress,\n        fixDistance = PREVENT_DISTANCE,\n    } = props;\n\n    const _touchActivatePositionRef = useRef<{\n        pageX: number;\n        pageY: number;\n    }>({ pageX: 0, pageY: 0 });\n\n    const TouchComponent =\n        activeOpacity === undefined\n            ? TouchableWithoutFeedback\n            : TouchableOpacity;\n    const _onPressIn = useCallback((e: any) => {\n        const { pageX, pageY } = e.nativeEvent;\n        _touchActivatePositionRef.current = {\n            pageX,\n            pageY,\n        };\n    }, []);\n\n    const _onPress = useCallback(\n        (e: any) => {\n            const { pageX, pageY } = e.nativeEvent;\n            const absX = Math.abs(\n                _touchActivatePositionRef.current.pageX - pageX,\n            );\n            const absY = Math.abs(\n                _touchActivatePositionRef.current.pageY - pageY,\n            );\n            const isDragging = absX >= fixDistance || absY >= fixDistance;\n\n            if (!isDragging) {\n                onPress?.(e);\n            }\n        },\n        [fixDistance, onPress],\n    );\n\n    return (\n        <TouchComponent {...props} onPressIn={_onPressIn} onPress={_onPress}>\n            {children}\n        </TouchComponent>\n    );\n};\n"],"mappings":";;;;;;;AAAA;;AAKA;;;;;;;;AAEA,MAAMA,gBAAgB,GAAG,EAAzB;;AAOO,MAAMC,uBAAuB,GAAIC,KAAD,IAAmB;EACtD,MAAM;IACFC,QADE;IAEFC,aAFE;IAGFC,OAHE;IAIFC,WAAW,GAAGN;EAJZ,IAKFE,KALJ;;EAOA,MAAMK,yBAAyB,GAAG,mBAG/B;IAAEC,KAAK,EAAE,CAAT;IAAYC,KAAK,EAAE;EAAnB,CAH+B,CAAlC;;EAKA,MAAMC,cAAc,GAChBN,aAAa,KAAKO,SAAlB,GACMC,qCADN,GAEMC,6BAHV;;EAIA,MAAMC,UAAU,GAAG,wBAAaC,CAAD,IAAY;IACvC,MAAM;MAAEP,KAAF;MAASC;IAAT,IAAmBM,CAAC,CAACC,WAA3B;IACAT,yBAAyB,CAACU,OAA1B,GAAoC;MAChCT,KADgC;MAEhCC;IAFgC,CAApC;EAIH,CANkB,EAMhB,EANgB,CAAnB;;EAQA,MAAMS,QAAQ,GAAG,wBACZH,CAAD,IAAY;IACR,MAAM;MAAEP,KAAF;MAASC;IAAT,IAAmBM,CAAC,CAACC,WAA3B;IACA,MAAMG,IAAI,GAAGC,IAAI,CAACC,GAAL,CACTd,yBAAyB,CAACU,OAA1B,CAAkCT,KAAlC,GAA0CA,KADjC,CAAb;IAGA,MAAMc,IAAI,GAAGF,IAAI,CAACC,GAAL,CACTd,yBAAyB,CAACU,OAA1B,CAAkCR,KAAlC,GAA0CA,KADjC,CAAb;IAGA,MAAMc,UAAU,GAAGJ,IAAI,IAAIb,WAAR,IAAuBgB,IAAI,IAAIhB,WAAlD;;IAEA,IAAI,CAACiB,UAAL,EAAiB;MACblB,OAAO,SAAP,IAAAA,OAAO,WAAP,YAAAA,OAAO,CAAGU,CAAH,CAAP;IACH;EACJ,CAdY,EAeb,CAACT,WAAD,EAAcD,OAAd,CAfa,CAAjB;;EAkBA,oBACI,6BAAC,cAAD,eAAoBH,KAApB;IAA2B,SAAS,EAAEY,UAAtC;IAAkD,OAAO,EAAEI;EAA3D,IACKf,QADL,CADJ;AAKH,CAhDM"}