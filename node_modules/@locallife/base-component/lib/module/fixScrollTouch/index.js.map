{"version":3,"names":["TouchableOpacity","TouchableWithoutFeedback","React","useCallback","useRef","PREVENT_DISTANCE","FixScrollTouchComponent","props","children","activeOpacity","onPress","fixDistance","_touchActivatePositionRef","pageX","pageY","TouchComponent","undefined","_onPressIn","e","nativeEvent","current","_onPress","absX","Math","abs","absY","isDragging"],"sources":["index.tsx"],"sourcesContent":["import {\n    TouchableOpacity,\n    TouchableOpacityProps,\n    TouchableWithoutFeedback,\n} from 'react-native';\nimport React, { ElementType, useCallback, useRef } from 'react';\n\nconst PREVENT_DISTANCE = 10;\n\ntype IProps = {\n    fixDistance?: number;\n    children?: ElementType | any;\n} & TouchableOpacityProps;\n\nexport const FixScrollTouchComponent = (props: IProps) => {\n    const {\n        children,\n        activeOpacity,\n        onPress,\n        fixDistance = PREVENT_DISTANCE,\n    } = props;\n\n    const _touchActivatePositionRef = useRef<{\n        pageX: number;\n        pageY: number;\n    }>({ pageX: 0, pageY: 0 });\n\n    const TouchComponent =\n        activeOpacity === undefined\n            ? TouchableWithoutFeedback\n            : TouchableOpacity;\n    const _onPressIn = useCallback((e: any) => {\n        const { pageX, pageY } = e.nativeEvent;\n        _touchActivatePositionRef.current = {\n            pageX,\n            pageY,\n        };\n    }, []);\n\n    const _onPress = useCallback(\n        (e: any) => {\n            const { pageX, pageY } = e.nativeEvent;\n            const absX = Math.abs(\n                _touchActivatePositionRef.current.pageX - pageX,\n            );\n            const absY = Math.abs(\n                _touchActivatePositionRef.current.pageY - pageY,\n            );\n            const isDragging = absX >= fixDistance || absY >= fixDistance;\n\n            if (!isDragging) {\n                onPress?.(e);\n            }\n        },\n        [fixDistance, onPress],\n    );\n\n    return (\n        <TouchComponent {...props} onPressIn={_onPressIn} onPress={_onPress}>\n            {children}\n        </TouchComponent>\n    );\n};\n"],"mappings":";;AAAA,SACIA,gBADJ,EAGIC,wBAHJ,QAIO,cAJP;AAKA,OAAOC,KAAP,IAA6BC,WAA7B,EAA0CC,MAA1C,QAAwD,OAAxD;AAEA,MAAMC,gBAAgB,GAAG,EAAzB;AAOA,OAAO,MAAMC,uBAAuB,GAAIC,KAAD,IAAmB;EACtD,MAAM;IACFC,QADE;IAEFC,aAFE;IAGFC,OAHE;IAIFC,WAAW,GAAGN;EAJZ,IAKFE,KALJ;;EAOA,MAAMK,yBAAyB,GAAGR,MAAM,CAGrC;IAAES,KAAK,EAAE,CAAT;IAAYC,KAAK,EAAE;EAAnB,CAHqC,CAAxC;;EAKA,MAAMC,cAAc,GAChBN,aAAa,KAAKO,SAAlB,GACMf,wBADN,GAEMD,gBAHV;;EAIA,MAAMiB,UAAU,GAAGd,WAAW,CAAEe,CAAD,IAAY;IACvC,MAAM;MAAEL,KAAF;MAASC;IAAT,IAAmBI,CAAC,CAACC,WAA3B;IACAP,yBAAyB,CAACQ,OAA1B,GAAoC;MAChCP,KADgC;MAEhCC;IAFgC,CAApC;EAIH,CAN6B,EAM3B,EAN2B,CAA9B;;EAQA,MAAMO,QAAQ,GAAGlB,WAAW,CACvBe,CAAD,IAAY;IACR,MAAM;MAAEL,KAAF;MAASC;IAAT,IAAmBI,CAAC,CAACC,WAA3B;IACA,MAAMG,IAAI,GAAGC,IAAI,CAACC,GAAL,CACTZ,yBAAyB,CAACQ,OAA1B,CAAkCP,KAAlC,GAA0CA,KADjC,CAAb;IAGA,MAAMY,IAAI,GAAGF,IAAI,CAACC,GAAL,CACTZ,yBAAyB,CAACQ,OAA1B,CAAkCN,KAAlC,GAA0CA,KADjC,CAAb;IAGA,MAAMY,UAAU,GAAGJ,IAAI,IAAIX,WAAR,IAAuBc,IAAI,IAAId,WAAlD;;IAEA,IAAI,CAACe,UAAL,EAAiB;MACbhB,OAAO,SAAP,IAAAA,OAAO,WAAP,YAAAA,OAAO,CAAGQ,CAAH,CAAP;IACH;EACJ,CAduB,EAexB,CAACP,WAAD,EAAcD,OAAd,CAfwB,CAA5B;;EAkBA,oBACI,oBAAC,cAAD,eAAoBH,KAApB;IAA2B,SAAS,EAAEU,UAAtC;IAAkD,OAAO,EAAEI;EAA3D,IACKb,QADL,CADJ;AAKH,CAhDM"}