{"version":3,"names":["_decimal","_interopRequireDefault","require","obj","__esModule","default","getDecimal","price","Decimal","exports","getDistance","distance","distanceStr","div","toFixed","length","substring","e","console","error"],"sources":["decimal.ts"],"sourcesContent":["import Decimal from 'decimal.js-light';\n// 数字转成decimal格式\nexport const getDecimal = (price: number) => {\n    return new Decimal(price);\n};\n\n// 距离格式化\n// 距离> 1km，展示实际距离x.x km，四舍五入，保留一位小数，若最后小数后最后一位为0，不显示，如99.0km，应展示为99km\n// 距离在(0, 1km)内，展示 xxx m，保留整数，如 698m\nexport function getDistance(distance: number): string {\n    try {\n        if (distance <= 0) {\n            return '';\n        }\n        if (distance > 1000) {\n            const distanceStr = new Decimal(distance).div(1000).toFixed(1);\n            if (distanceStr[distanceStr.length - 1] === '0') {\n                return distanceStr.substring(0, distanceStr.length - 2) + 'km';\n            }\n            return distanceStr + 'km';\n        }\n        return new Decimal(distance).toFixed(0) + 'm';\n    } catch (e) {\n        console.error(e);\n        return '';\n    }\n}\n"],"mappings":";;;;;;;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAuC,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AACvC;AACO,MAAMG,UAAU,GAAIC,KAAa,IAAK;EACzC,OAAO,IAAIC,gBAAO,CAACD,KAAK,CAAC;AAC7B,CAAC;;AAED;AACA;AACA;AAAAE,OAAA,CAAAH,UAAA,GAAAA,UAAA;AACO,SAASI,WAAWA,CAACC,QAAgB,EAAU;EAClD,IAAI;IACA,IAAIA,QAAQ,IAAI,CAAC,EAAE;MACf,OAAO,EAAE;IACb;IACA,IAAIA,QAAQ,GAAG,IAAI,EAAE;MACjB,MAAMC,WAAW,GAAG,IAAIJ,gBAAO,CAACG,QAAQ,CAAC,CAACE,GAAG,CAAC,IAAI,CAAC,CAACC,OAAO,CAAC,CAAC,CAAC;MAC9D,IAAIF,WAAW,CAACA,WAAW,CAACG,MAAM,GAAG,CAAC,CAAC,KAAK,GAAG,EAAE;QAC7C,OAAOH,WAAW,CAACI,SAAS,CAAC,CAAC,EAAEJ,WAAW,CAACG,MAAM,GAAG,CAAC,CAAC,GAAG,IAAI;MAClE;MACA,OAAOH,WAAW,GAAG,IAAI;IAC7B;IACA,OAAO,IAAIJ,gBAAO,CAACG,QAAQ,CAAC,CAACG,OAAO,CAAC,CAAC,CAAC,GAAG,GAAG;EACjD,CAAC,CAAC,OAAOG,CAAC,EAAE;IACRC,OAAO,CAACC,KAAK,CAACF,CAAC,CAAC;IAChB,OAAO,EAAE;EACb;AACJ"}