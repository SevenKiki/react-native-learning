{"version":3,"names":["_log","require","_react","useParseBizHook","bizTags","showBizTags","setShowBizTags","useState","useMemo","newBiz","map","item","contentModel","JSON","parse","content","error","LocalLifeJinJingLogger","reportLog2JinJing","stringify","undefined","ReportType","CUSTOM_STAT_EVENT","exports"],"sources":["useParseBizHook.tsx"],"sourcesContent":["import { LocalLifeJinJingLogger, ReportType } from '@locallife/log';\nimport { BizTags, TagContent } from '../Models';\nimport { Dispatch, SetStateAction, useMemo, useState } from 'react';\n\nexport const useParseBizHook = (\n    bizTags: Array<BizTags>,\n): [BizTags[], Dispatch<SetStateAction<BizTags[]>>] => {\n    const [showBizTags, setShowBizTags] = useState<BizTags[]>([]);\n\n    // 遍历解析数据源\n    useMemo(() => {\n        const newBiz = bizTags.map((item) => {\n            let contentModel = {};\n            try {\n                contentModel = JSON.parse(item.content) as TagContent;\n            } catch (error) {\n                LocalLifeJinJingLogger.reportLog2JinJing(\n                    'LOCAL_LIFE_LOG_STAT_EVENT',\n                    true,\n                    'commonLabels',\n                    '标签解析出错',\n                    { error: JSON.stringify(error) },\n                    undefined,\n                    ReportType.CUSTOM_STAT_EVENT,\n                );\n            }\n            return {\n                ...item,\n                contentModel: contentModel,\n            };\n        });\n        setShowBizTags(newBiz);\n    }, [bizTags]);\n\n    return [showBizTags, setShowBizTags];\n};\n"],"mappings":";;;;;;AAAA,IAAAA,IAAA,GAAAC,OAAA;AAEA,IAAAC,MAAA,GAAAD,OAAA;AAEO,MAAME,eAAe,GACxBC,OAAuB,IAC4B;EACnD,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAG,IAAAC,eAAQ,EAAY,EAAE,CAAC;;EAE7D;EACA,IAAAC,cAAO,EAAC,MAAM;IACV,MAAMC,MAAM,GAAGL,OAAO,CAACM,GAAG,CAAEC,IAAI,IAAK;MACjC,IAAIC,YAAY,GAAG,CAAC,CAAC;MACrB,IAAI;QACAA,YAAY,GAAGC,IAAI,CAACC,KAAK,CAACH,IAAI,CAACI,OAAO,CAAe;MACzD,CAAC,CAAC,OAAOC,KAAK,EAAE;QACZC,2BAAsB,CAACC,iBAAiB,CACpC,2BAA2B,EAC3B,IAAI,EACJ,cAAc,EACd,QAAQ,EACR;UAAEF,KAAK,EAAEH,IAAI,CAACM,SAAS,CAACH,KAAK;QAAE,CAAC,EAChCI,SAAS,EACTC,eAAU,CAACC,iBACf,CAAC;MACL;MACA,OAAO;QACH,GAAGX,IAAI;QACPC,YAAY,EAAEA;MAClB,CAAC;IACL,CAAC,CAAC;IACFN,cAAc,CAACG,MAAM,CAAC;EAC1B,CAAC,EAAE,CAACL,OAAO,CAAC,CAAC;EAEb,OAAO,CAACC,WAAW,EAAEC,cAAc,CAAC;AACxC,CAAC;AAACiB,OAAA,CAAApB,eAAA,GAAAA,eAAA"}