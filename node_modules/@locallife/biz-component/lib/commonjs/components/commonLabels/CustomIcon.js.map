{"version":3,"names":["_react","_interopRequireWildcard","require","_image","_interopRequireDefault","_transAdaptScreenSize","_useAdaptThemeValueHook","obj","__esModule","default","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","CustomIcon","React","memo","props","iconModel","adaptScreen","adaptDark","iconStyle","width","height","useMemo","transAdaptScreenSize","Number","iconWidth","iconHeight","iconUrls","useAdaptThemeValueHook","light","dark","darkIconUrls","createElement","resizeMode","style","marginLeft","marginRight","imageWarningThreshold","imageSizeWarningThreshold","imageMemoryWarningThreshold","source","uris","cropSize","exports"],"sources":["CustomIcon.tsx"],"sourcesContent":["// 单个icon\nimport React, { useMemo } from 'react';\nimport { TagIconInfo } from './Models';\nimport KwaiImage from '@kds/image';\nimport { transAdaptScreenSize } from './utils/transAdaptScreenSize';\nimport { useAdaptThemeValueHook } from './hooks/useAdaptThemeValueHook';\n\ninterface CustomIconProps {\n    iconModel: TagIconInfo;\n    adaptScreen?: boolean;\n    adaptDark?: boolean; // 是否适配暗黑\n}\n\n// 单图片icon\nexport const CustomIcon = React.memo((props: CustomIconProps) => {\n    const { iconModel, adaptScreen, adaptDark = true } = props;\n    const { iconStyle } = iconModel;\n    const { width, height } = useMemo(() => {\n        return {\n            width: transAdaptScreenSize(\n                Number(iconStyle?.iconWidth),\n                adaptScreen,\n            ),\n            height: transAdaptScreenSize(\n                Number(iconStyle?.iconHeight),\n                adaptScreen,\n            ),\n        };\n    }, [adaptScreen, iconStyle?.iconHeight, iconStyle?.iconWidth]);\n\n    const iconUrls = useAdaptThemeValueHook(\n        {\n            light: iconModel.iconUrls ?? [],\n            dark: iconModel.darkIconUrls ?? iconModel.iconUrls ?? [],\n        },\n        adaptDark,\n    );\n\n    return (\n        <KwaiImage\n            resizeMode=\"cover\"\n            style={[\n                {\n                    width: width,\n                    height: height,\n                    marginLeft: transAdaptScreenSize(\n                        iconStyle?.marginLeft,\n                        adaptScreen,\n                    ),\n                    marginRight: transAdaptScreenSize(\n                        iconStyle?.marginRight,\n                        adaptScreen,\n                    ),\n                },\n            ]}\n            imageWarningThreshold={{\n                imageSizeWarningThreshold: -1, // no image size warning\n                imageMemoryWarningThreshold: -1, // no memory warning\n            }}\n            source={{ uris: iconUrls }}\n            cropSize={{ width: width * 3, height: height * 3 }}\n        />\n    );\n});\n"],"mappings":";;;;;;AACA,IAAAA,MAAA,GAAAC,uBAAA,CAAAC,OAAA;AAEA,IAAAC,MAAA,GAAAC,sBAAA,CAAAF,OAAA;AACA,IAAAG,qBAAA,GAAAH,OAAA;AACA,IAAAI,uBAAA,GAAAJ,OAAA;AAAwE,SAAAE,uBAAAG,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAAA,SAAAG,yBAAAC,WAAA,eAAAC,OAAA,kCAAAC,iBAAA,OAAAD,OAAA,QAAAE,gBAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,WAAA,WAAAA,WAAA,GAAAG,gBAAA,GAAAD,iBAAA,KAAAF,WAAA;AAAA,SAAAV,wBAAAM,GAAA,EAAAI,WAAA,SAAAA,WAAA,IAAAJ,GAAA,IAAAA,GAAA,CAAAC,UAAA,WAAAD,GAAA,QAAAA,GAAA,oBAAAA,GAAA,wBAAAA,GAAA,4BAAAE,OAAA,EAAAF,GAAA,UAAAQ,KAAA,GAAAL,wBAAA,CAAAC,WAAA,OAAAI,KAAA,IAAAA,KAAA,CAAAC,GAAA,CAAAT,GAAA,YAAAQ,KAAA,CAAAE,GAAA,CAAAV,GAAA,SAAAW,MAAA,WAAAC,qBAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,GAAA,IAAAhB,GAAA,QAAAgB,GAAA,kBAAAH,MAAA,CAAAI,SAAA,CAAAC,cAAA,CAAAC,IAAA,CAAAnB,GAAA,EAAAgB,GAAA,SAAAI,IAAA,GAAAR,qBAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAf,GAAA,EAAAgB,GAAA,cAAAI,IAAA,KAAAA,IAAA,CAAAV,GAAA,IAAAU,IAAA,CAAAC,GAAA,KAAAR,MAAA,CAAAC,cAAA,CAAAH,MAAA,EAAAK,GAAA,EAAAI,IAAA,YAAAT,MAAA,CAAAK,GAAA,IAAAhB,GAAA,CAAAgB,GAAA,SAAAL,MAAA,CAAAT,OAAA,GAAAF,GAAA,MAAAQ,KAAA,IAAAA,KAAA,CAAAa,GAAA,CAAArB,GAAA,EAAAW,MAAA,YAAAA,MAAA;AALxE;;AAaA;AACO,MAAMW,UAAU,gBAAGC,cAAK,CAACC,IAAI,CAAEC,KAAsB,IAAK;EAC7D,MAAM;IAAEC,SAAS;IAAEC,WAAW;IAAEC,SAAS,GAAG;EAAK,CAAC,GAAGH,KAAK;EAC1D,MAAM;IAAEI;EAAU,CAAC,GAAGH,SAAS;EAC/B,MAAM;IAAEI,KAAK;IAAEC;EAAO,CAAC,GAAG,IAAAC,cAAO,EAAC,MAAM;IACpC,OAAO;MACHF,KAAK,EAAE,IAAAG,0CAAoB,EACvBC,MAAM,CAACL,SAAS,aAATA,SAAS,uBAATA,SAAS,CAAEM,SAAS,CAAC,EAC5BR,WACJ,CAAC;MACDI,MAAM,EAAE,IAAAE,0CAAoB,EACxBC,MAAM,CAACL,SAAS,aAATA,SAAS,uBAATA,SAAS,CAAEO,UAAU,CAAC,EAC7BT,WACJ;IACJ,CAAC;EACL,CAAC,EAAE,CAACA,WAAW,EAAEE,SAAS,aAATA,SAAS,uBAATA,SAAS,CAAEO,UAAU,EAAEP,SAAS,aAATA,SAAS,uBAATA,SAAS,CAAEM,SAAS,CAAC,CAAC;EAE9D,MAAME,QAAQ,GAAG,IAAAC,8CAAsB,EACnC;IACIC,KAAK,EAAEb,SAAS,CAACW,QAAQ,IAAI,EAAE;IAC/BG,IAAI,EAAEd,SAAS,CAACe,YAAY,IAAIf,SAAS,CAACW,QAAQ,IAAI;EAC1D,CAAC,EACDT,SACJ,CAAC;EAED,oBACInC,MAAA,CAAAS,OAAA,CAAAwC,aAAA,CAAC9C,MAAA,CAAAM,OAAS;IACNyC,UAAU,EAAC,OAAO;IAClBC,KAAK,EAAE,CACH;MACId,KAAK,EAAEA,KAAK;MACZC,MAAM,EAAEA,MAAM;MACdc,UAAU,EAAE,IAAAZ,0CAAoB,EAC5BJ,SAAS,aAATA,SAAS,uBAATA,SAAS,CAAEgB,UAAU,EACrBlB,WACJ,CAAC;MACDmB,WAAW,EAAE,IAAAb,0CAAoB,EAC7BJ,SAAS,aAATA,SAAS,uBAATA,SAAS,CAAEiB,WAAW,EACtBnB,WACJ;IACJ,CAAC,CACH;IACFoB,qBAAqB,EAAE;MACnBC,yBAAyB,EAAE,CAAC,CAAC;MAAE;MAC/BC,2BAA2B,EAAE,CAAC,CAAC,CAAE;IACrC,CAAE;;IACFC,MAAM,EAAE;MAAEC,IAAI,EAAEd;IAAS,CAAE;IAC3Be,QAAQ,EAAE;MAAEtB,KAAK,EAAEA,KAAK,GAAG,CAAC;MAAEC,MAAM,EAAEA,MAAM,GAAG;IAAE;EAAE,CACtD,CAAC;AAEV,CAAC,CAAC;AAACsB,OAAA,CAAA/B,UAAA,GAAAA,UAAA"}