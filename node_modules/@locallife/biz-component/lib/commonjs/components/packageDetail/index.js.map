{"version":3,"names":["_react","_interopRequireWildcard","require","_reactNative","_styles","_interopRequireDefault","_index","_decimal","obj","__esModule","default","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","PackageDetail","_ref","packageData","highestPeopleNum","lowestPeopleNum","remark","recommendText","useMemo","recommendNum","createElement","View","style","styles","container","Text","title","groups","map","group","index","showPackageSelect","Boolean","fromNum","selectNum","packageDetailItemWrapper","customizationUlPoint","subtitle","ellipsizeMode","numberOfLines","setMealContents","item","packageDetailItemDistance","packageDetailItemRow","packageDetailTitle","packageDetailRowTitle","rowFlexAlignCenter","packageDetailRowNum","count","packageDetailRowPriceAll","packageDetailRowPrice","getDecimal","Math","floor","price","mul","div","length","subGroupsLine","subContentLine","exports"],"sources":["index.tsx"],"sourcesContent":["import React, { useMemo } from 'react';\nimport { View, Text } from 'react-native';\nimport styles from './styles';\nimport CommonText from '../commonText/index';\nimport { getDecimal } from '../../utils/decimal';\n\n/**\n * 套餐详情\n */\nexport const PackageDetail = ({ packageData }) => {\n    const { highestPeopleNum, lowestPeopleNum, remark = '' } = packageData;\n    /**\n     * 建议人数\n     */\n    const recommendText = useMemo(() => {\n        if (highestPeopleNum > 0 && lowestPeopleNum > 0) {\n            const recommendNum =\n                highestPeopleNum === lowestPeopleNum\n                    ? highestPeopleNum\n                    : `${lowestPeopleNum} - ${highestPeopleNum}`;\n            return `建议${recommendNum}人使用`;\n        }\n        return '';\n    }, [highestPeopleNum, lowestPeopleNum]);\n\n    return (\n        <View style={styles.container}>\n            <Text style={styles.title}>套餐详情</Text>\n            {/* 套餐信息 */}\n            {packageData &&\n                packageData.groups &&\n                packageData.groups.map((group, index) => {\n                    const showPackageSelect = Boolean(\n                        group.fromNum &&\n                            group.selectNum &&\n                            group.fromNum > group.selectNum,\n                    );\n                    return (\n                        <View\n                            key={group.title}\n                            style={styles.packageDetailItemWrapper}\n                        >\n                            <CommonText\n                                customizationUlPoint={\n                                    styles.customizationUlPoint\n                                }\n                            >\n                                <Text\n                                    style={styles.subtitle}\n                                    ellipsizeMode=\"tail\"\n                                    numberOfLines={1}\n                                >{`${group.title}${\n                                    showPackageSelect\n                                        ? ` ${group.fromNum} 选 ${group.selectNum}`\n                                        : ''\n                                }`}</Text>\n                            </CommonText>\n                            {(group.setMealContents || []).map((item) => {\n                                return (\n                                    <View\n                                        key={item.title}\n                                        style={styles.packageDetailItemDistance}\n                                    >\n                                        <View\n                                            style={styles.packageDetailItemRow}\n                                        >\n                                            <View\n                                                style={\n                                                    styles.packageDetailTitle\n                                                }\n                                            >\n                                                <Text\n                                                    style={\n                                                        styles.packageDetailRowTitle\n                                                    }\n                                                >\n                                                    {item.title}\n                                                </Text>\n                                            </View>\n                                            <View\n                                                style={\n                                                    styles.rowFlexAlignCenter\n                                                }\n                                            >\n                                                <Text\n                                                    style={\n                                                        styles.packageDetailRowNum\n                                                    }\n                                                >{`（${item.count}份）`}</Text>\n                                                <View\n                                                    style={[\n                                                        styles.rowFlexAlignCenter,\n                                                        styles.packageDetailRowPriceAll,\n                                                    ]}\n                                                >\n                                                    <Text\n                                                        style={\n                                                            styles.packageDetailRowPrice\n                                                        }\n                                                        numberOfLines={1}\n                                                        ellipsizeMode={'tail'}\n                                                    >\n                                                        ¥\n                                                        {`${getDecimal(\n                                                            Math.floor(\n                                                                getDecimal(\n                                                                    item.price,\n                                                                ).mul(\n                                                                    item.count,\n                                                                ) as unknown as number,\n                                                            ),\n                                                        ).div(100)}`}\n                                                    </Text>\n                                                </View>\n                                            </View>\n                                        </View>\n                                    </View>\n                                );\n                            })}\n                            {index === packageData.groups.length - 1 &&\n                            !recommendText ? null : (\n                                <Text style={styles.subGroupsLine} />\n                            )}\n                        </View>\n                    );\n                })}\n\n            {/* 用餐人数 */}\n            {!!recommendText && (\n                <View style={styles.packageDetailItemWrapper}>\n                    <CommonText\n                        customizationUlPoint={styles.customizationUlPoint}\n                    >\n                        <Text style={styles.subtitle}>用餐人数</Text>\n                    </CommonText>\n                    <View\n                        style={[\n                            styles.packageDetailItemRow,\n                            styles.packageDetailItemDistance,\n                            !!remark && styles.subContentLine,\n                        ]}\n                    >\n                        <Text style={styles.packageDetailRowTitle}>\n                            {recommendText}\n                        </Text>\n                    </View>\n                </View>\n            )}\n            {/* 备注 */}\n            {!!remark && (\n                <View style={styles.packageDetailItemWrapper}>\n                    <CommonText\n                        customizationUlPoint={styles.customizationUlPoint}\n                    >\n                        <Text style={styles.subtitle}>备注</Text>\n                    </CommonText>\n                    <View\n                        style={[\n                            styles.packageDetailItemRow,\n                            styles.packageDetailItemDistance,\n                        ]}\n                    >\n                        <Text style={styles.packageDetailRowTitle}>\n                            {remark}\n                        </Text>\n                    </View>\n                </View>\n            )}\n        </View>\n    );\n};\n"],"mappings":"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"}