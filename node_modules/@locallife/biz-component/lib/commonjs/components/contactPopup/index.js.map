{"version":3,"names":["_react","_interopRequireDefault","require","_reactNative","_krn","_styles","_tsLbsKrnUtils","obj","__esModule","default","screenSize","screenUnit","makePhoneCall","bridge","ContactPopup","_ref","phoneList","callSeller","phone","isOnlyPhone","item","handlePress","_item$custom","custom","customPress","_item$custom2","_item$custom3","_item$custom3$phonePr","phonePress","call","createElement","View","style","styles","popupContent","map","index","_item$custom4","TouchableOpacity","key","activeOpacity","onPress","dividingLine","popupItem","popupItemContent","title","Text","popupItemDesc","popupItemIcon","KidIcon","kid","icon","kidColor","size","exports"],"sources":["index.tsx"],"sourcesContent":["import React from 'react';\nimport { View, Text, TouchableOpacity } from 'react-native';\nimport { KidIcon } from '@kid-ui/krn';\nimport styles from './styles';\nimport { screenUnit, bridge } from '@lux/ts-lbs-krn-utils';\n\nconst { screenSize } = screenUnit;\nexport interface phoneListItem {\n    // 手机号\n    phone?: string | number;\n    // 标题\n    title?: string;\n    // 自定义配置\n    custom?: {\n        // 自定义点击事件\n        customPress?: () => void;\n        // 自定义右侧icon\n        icon?: string;\n        // 点击电话后自定义触发事件\n        phonePress?: () => void;\n    };\n}\nexport interface PopupParams {\n    phoneList: phoneListItem[] | Array<string | number>;\n}\nconst { makePhoneCall } = bridge;\n\nexport const ContactPopup = ({ phoneList }: PopupParams) => {\n    /**\n     * 拨打商家电话\n     */\n    const callSeller = (phone) => {\n        makePhoneCall([phone]);\n    };\n    /**\n     * @param item 当前这条信息\n     * @returns 是否只有一条电话数据\n     */\n    const isOnlyPhone = (item) => {\n        return typeof item === 'string' || typeof item === 'number';\n    };\n    /**\n     * 处理点击\n     * @param item 当前这条信息\n     */\n    const handlePress = (item) => {\n        if (item?.custom?.customPress) {\n            item?.custom?.customPress();\n        } else {\n            callSeller(isOnlyPhone(item) ? item : item.phone);\n            item?.custom?.phonePress?.();\n        }\n    };\n\n    return (\n        <View style={styles.popupContent}>\n            {phoneList.map((item, index) => (\n                <TouchableOpacity\n                    key={index}\n                    activeOpacity={1}\n                    onPress={() => handlePress(item)}\n                >\n                    {index !== 0 && <View style={styles.dividingLine} />}\n                    <View style={styles.popupItem}>\n                        <View style={styles.popupItemContent}>\n                            {!isOnlyPhone(item) && !!item?.title && (\n                                <Text style={styles.popupItemDesc}>\n                                    {item?.title}{' '}\n                                </Text>\n                            )}\n                            <Text style={styles.popupItemDesc}>\n                                {isOnlyPhone(item) ? item : item?.phone}\n                            </Text>\n                        </View>\n\n                        <View style={styles.popupItemIcon}>\n                            <KidIcon\n                                kid={\n                                    item?.custom?.icon ||\n                                    'common_baseflat_telephone_24'\n                                }\n                                kidColor={'color_base_black_8'}\n                                size={screenSize(24)}\n                            />\n                        </View>\n                    </View>\n                </TouchableOpacity>\n            ))}\n        </View>\n    );\n};\n"],"mappings":"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"}