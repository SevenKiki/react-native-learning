{"version":3,"names":["_react","_interopRequireDefault","require","_reactNative","_krn","_styles","_tsLbsKrnUtils","_decimal","obj","__esModule","default","screenSize","screenUnit","PoiInfo","_ref","productData","poiData","isShowPhoneIcon","isShowMinDistance","toPOIList","toPOIDetail","toGuide","isShowPopupVisible","handlePhoneIcon","createElement","View","style","styles","container","header","Text","title","poiSize","TouchableOpacity","activeOpacity","onPress","rowFlexAlignCenter","moreStoreLink","KidIcon","kid","kidColor","size","content","Image","poiImage","source","uri","image","poiDescWrapper","poiNameWrap","numberOfLines","poiName","poiNameWithMinDistance","minDistance","minDistanceText","poiCategoryContainer","subCategory","tag","subCate","avgPrice","subCategoryDistance","Math","floor","formatHotPeople","visitCount","poiPhoneWrapper","poiPhoneText","dividingLine","positionWrapper","distance","Fragment","getDistance","divide","address","ellipsizeMode","exports"],"sources":["index.tsx"],"sourcesContent":["import React from 'react';\nimport { View, Text, Image, TouchableOpacity } from 'react-native';\nimport { KidIcon } from '@kid-ui/krn';\nimport styles from './styles';\nimport { IPoiData } from './types';\nimport { screenUnit } from '@lux/ts-lbs-krn-utils';\nimport { getDistance } from '../../utils/decimal';\nimport { formatHotPeople } from '@lux/ts-lbs-krn-utils';\n\nconst { screenSize } = screenUnit;\n\ninterface IpoiData {\n    productData: any;\n    poiData: IPoiData;\n    isShowPhoneIcon: boolean;\n    isShowMinDistance: boolean;\n    toPOIList: () => void;\n    toPOIDetail: () => void;\n    toGuide: () => void;\n    isShowPopupVisible: () => void;\n}\n\nexport const PoiInfo = ({\n    productData,\n    poiData,\n    isShowPhoneIcon,\n    isShowMinDistance,\n    toPOIList,\n    toPOIDetail,\n    toGuide,\n    isShowPopupVisible,\n}: IpoiData) => {\n    // 点击电话弹窗\n    const handlePhoneIcon = () => {\n        isShowPopupVisible && isShowPopupVisible();\n    };\n    return (\n        <View style={styles.container}>\n            {/* 只有多于一个才展示门店列表跳转和(N)家 */}\n            <View style={styles.header}>\n                <Text style={styles.title}>\n                    适用门店\n                    {productData?.poiSize > 1 && (\n                        <Text>（{productData?.poiSize} 家）</Text>\n                    )}\n                </Text>\n                {productData?.poiSize > 1 && (\n                    <TouchableOpacity activeOpacity={1} onPress={toPOIList}>\n                        <View style={styles.rowFlexAlignCenter}>\n                            <Text style={styles.moreStoreLink}>查看全部</Text>\n                            <KidIcon\n                                kid={'common_base_next_24'}\n                                kidColor={'color_base_black_6'}\n                                size={screenSize(14)}\n                            />\n                        </View>\n                    </TouchableOpacity>\n                )}\n            </View>\n            <TouchableOpacity activeOpacity={1} onPress={toPOIDetail}>\n                <View style={[styles.content, styles.rowFlexAlignCenter]}>\n                    <Image\n                        style={styles.poiImage}\n                        source={{ uri: poiData.image }}\n                    />\n                    <View style={styles.poiDescWrapper}>\n                        <View style={styles.poiNameWrap}>\n                            <Text\n                                numberOfLines={1}\n                                style={[\n                                    styles.poiName,\n                                    isShowMinDistance &&\n                                        styles.poiNameWithMinDistance,\n                                ]}\n                            >\n                                {poiData.poiName}\n                            </Text>\n                            {isShowMinDistance && (\n                                <View style={styles.minDistance}>\n                                    <Text style={styles.minDistanceText}>\n                                        离我最近\n                                    </Text>\n                                </View>\n                            )}\n                        </View>\n                        <View style={styles.poiCategoryContainer}>\n                            <View style={styles.subCategory}>\n                                <Text style={styles.tag}>\n                                    {poiData.subCate}\n                                </Text>\n                            </View>\n                            {!!poiData.avgPrice && (\n                                <View\n                                    style={[\n                                        styles.subCategory,\n                                        styles.subCategoryDistance,\n                                    ]}\n                                >\n                                    <Text style={styles.tag}>\n                                        ￥{Math.floor(+poiData.avgPrice / 100)}\n                                        /人\n                                    </Text>\n                                </View>\n                            )}\n                            {!!formatHotPeople(poiData.visitCount) && (\n                                <View\n                                    style={[\n                                        styles.subCategory,\n                                        styles.subCategoryDistance,\n                                    ]}\n                                >\n                                    <Text style={styles.tag}>\n                                        {formatHotPeople(poiData.visitCount)}\n                                        人想去\n                                    </Text>\n                                </View>\n                            )}\n                        </View>\n                    </View>\n                    {isShowPhoneIcon && (\n                        <TouchableOpacity\n                            activeOpacity={1}\n                            onPress={handlePhoneIcon}\n                        >\n                            <View style={styles.poiPhoneWrapper}>\n                                <KidIcon\n                                    kid={'common_baseflat_telephone_24'}\n                                    kidColor={'color_base_black_8'}\n                                    size={screenSize(24)}\n                                />\n                                <Text style={styles.poiPhoneText}>电话</Text>\n                            </View>\n                        </TouchableOpacity>\n                    )}\n                </View>\n            </TouchableOpacity>\n            <View style={styles.dividingLine} />\n            <TouchableOpacity activeOpacity={1} onPress={toGuide}>\n                <View\n                    style={[styles.positionWrapper, styles.rowFlexAlignCenter]}\n                >\n                    {!!poiData.distance && (\n                        <>\n                            <KidIcon\n                                kid={'common_list_location_grey'}\n                                kidColor={'color_base_black_11'}\n                                size={screenSize(14)}\n                            />\n                            <Text style={styles.distance}>\n                                {getDistance(poiData.distance)}\n                            </Text>\n                            <Text style={styles.divide}>|</Text>\n                        </>\n                    )}\n                    <Text\n                        style={styles.address}\n                        ellipsizeMode=\"tail\"\n                        numberOfLines={1}\n                    >\n                        {poiData.address}\n                    </Text>\n                    <KidIcon\n                        kid={'common_base_next_24'}\n                        kidColor={'color_base_black_6'}\n                        size={screenSize(14)}\n                    />\n                </View>\n            </TouchableOpacity>\n        </View>\n    );\n};\n"],"mappings":"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"}