{"version":3,"names":["React","useMemo","View","Text","styles","CommonText","getDecimal","PackageDetail","_ref","packageData","highestPeopleNum","lowestPeopleNum","remark","recommendText","recommendNum","createElement","style","container","title","groups","map","group","index","showPackageSelect","Boolean","fromNum","selectNum","key","packageDetailItemWrapper","customizationUlPoint","subtitle","ellipsizeMode","numberOfLines","setMealContents","item","packageDetailItemDistance","packageDetailItemRow","packageDetailTitle","packageDetailRowTitle","rowFlexAlignCenter","packageDetailRowNum","count","packageDetailRowPriceAll","packageDetailRowPrice","Math","floor","price","mul","div","length","subGroupsLine","subContentLine"],"sources":["index.tsx"],"sourcesContent":["import React, { useMemo } from 'react';\nimport { View, Text } from 'react-native';\nimport styles from './styles';\nimport CommonText from '../commonText/index';\nimport { getDecimal } from '../../utils/decimal';\n\n/**\n * 套餐详情\n */\nexport const PackageDetail = ({ packageData }) => {\n    const { highestPeopleNum, lowestPeopleNum, remark = '' } = packageData;\n    /**\n     * 建议人数\n     */\n    const recommendText = useMemo(() => {\n        if (highestPeopleNum > 0 && lowestPeopleNum > 0) {\n            const recommendNum =\n                highestPeopleNum === lowestPeopleNum\n                    ? highestPeopleNum\n                    : `${lowestPeopleNum} - ${highestPeopleNum}`;\n            return `建议${recommendNum}人使用`;\n        }\n        return '';\n    }, [highestPeopleNum, lowestPeopleNum]);\n\n    return (\n        <View style={styles.container}>\n            <Text style={styles.title}>套餐详情</Text>\n            {/* 套餐信息 */}\n            {packageData &&\n                packageData.groups &&\n                packageData.groups.map((group, index) => {\n                    const showPackageSelect = Boolean(\n                        group.fromNum &&\n                            group.selectNum &&\n                            group.fromNum > group.selectNum,\n                    );\n                    return (\n                        <View\n                            key={group.title}\n                            style={styles.packageDetailItemWrapper}\n                        >\n                            <CommonText\n                                customizationUlPoint={\n                                    styles.customizationUlPoint\n                                }\n                            >\n                                <Text\n                                    style={styles.subtitle}\n                                    ellipsizeMode=\"tail\"\n                                    numberOfLines={1}\n                                >{`${group.title}${\n                                    showPackageSelect\n                                        ? ` ${group.fromNum} 选 ${group.selectNum}`\n                                        : ''\n                                }`}</Text>\n                            </CommonText>\n                            {(group.setMealContents || []).map((item) => {\n                                return (\n                                    <View\n                                        key={item.title}\n                                        style={styles.packageDetailItemDistance}\n                                    >\n                                        <View\n                                            style={styles.packageDetailItemRow}\n                                        >\n                                            <View\n                                                style={\n                                                    styles.packageDetailTitle\n                                                }\n                                            >\n                                                <Text\n                                                    style={\n                                                        styles.packageDetailRowTitle\n                                                    }\n                                                >\n                                                    {item.title}\n                                                </Text>\n                                            </View>\n                                            <View\n                                                style={\n                                                    styles.rowFlexAlignCenter\n                                                }\n                                            >\n                                                <Text\n                                                    style={\n                                                        styles.packageDetailRowNum\n                                                    }\n                                                >{`（${item.count}份）`}</Text>\n                                                <View\n                                                    style={[\n                                                        styles.rowFlexAlignCenter,\n                                                        styles.packageDetailRowPriceAll,\n                                                    ]}\n                                                >\n                                                    <Text\n                                                        style={\n                                                            styles.packageDetailRowPrice\n                                                        }\n                                                        numberOfLines={1}\n                                                        ellipsizeMode={'tail'}\n                                                    >\n                                                        ¥\n                                                        {`${getDecimal(\n                                                            Math.floor(\n                                                                getDecimal(\n                                                                    item.price,\n                                                                ).mul(\n                                                                    item.count,\n                                                                ) as unknown as number,\n                                                            ),\n                                                        ).div(100)}`}\n                                                    </Text>\n                                                </View>\n                                            </View>\n                                        </View>\n                                    </View>\n                                );\n                            })}\n                            {index === packageData.groups.length - 1 &&\n                            !recommendText ? null : (\n                                <Text style={styles.subGroupsLine} />\n                            )}\n                        </View>\n                    );\n                })}\n\n            {/* 用餐人数 */}\n            {!!recommendText && (\n                <View style={styles.packageDetailItemWrapper}>\n                    <CommonText\n                        customizationUlPoint={styles.customizationUlPoint}\n                    >\n                        <Text style={styles.subtitle}>用餐人数</Text>\n                    </CommonText>\n                    <View\n                        style={[\n                            styles.packageDetailItemRow,\n                            styles.packageDetailItemDistance,\n                            !!remark && styles.subContentLine,\n                        ]}\n                    >\n                        <Text style={styles.packageDetailRowTitle}>\n                            {recommendText}\n                        </Text>\n                    </View>\n                </View>\n            )}\n            {/* 备注 */}\n            {!!remark && (\n                <View style={styles.packageDetailItemWrapper}>\n                    <CommonText\n                        customizationUlPoint={styles.customizationUlPoint}\n                    >\n                        <Text style={styles.subtitle}>备注</Text>\n                    </CommonText>\n                    <View\n                        style={[\n                            styles.packageDetailItemRow,\n                            styles.packageDetailItemDistance,\n                        ]}\n                    >\n                        <Text style={styles.packageDetailRowTitle}>\n                            {remark}\n                        </Text>\n                    </View>\n                </View>\n            )}\n        </View>\n    );\n};\n"],"mappings":"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"}