{"version":3,"names":["React","View","Text","Image","TouchableOpacity","KidIcon","styles","screenUnit","getDistance","formatHotPeople","screenSize","PoiInfo","_ref","productData","poiData","isShowPhoneIcon","isShowMinDistance","toPOIList","toPOIDetail","toGuide","isShowPopupVisible","handlePhoneIcon","createElement","style","container","header","title","poiSize","activeOpacity","onPress","rowFlexAlignCenter","moreStoreLink","kid","kidColor","size","content","poiImage","source","uri","image","poiDescWrapper","poiNameWrap","numberOfLines","poiName","poiNameWithMinDistance","minDistance","minDistanceText","poiCategoryContainer","subCategory","tag","subCate","avgPrice","subCategoryDistance","Math","floor","visitCount","poiPhoneWrapper","poiPhoneText","dividingLine","positionWrapper","distance","Fragment","divide","address","ellipsizeMode"],"sources":["index.tsx"],"sourcesContent":["import React from 'react';\nimport { View, Text, Image, TouchableOpacity } from 'react-native';\nimport { KidIcon } from '@kid-ui/krn';\nimport styles from './styles';\nimport { IPoiData } from './types';\nimport { screenUnit } from '@lux/ts-lbs-krn-utils';\nimport { getDistance } from '../../utils/decimal';\nimport { formatHotPeople } from '@lux/ts-lbs-krn-utils';\n\nconst { screenSize } = screenUnit;\n\ninterface IpoiData {\n    productData: any;\n    poiData: IPoiData;\n    isShowPhoneIcon: boolean;\n    isShowMinDistance: boolean;\n    toPOIList: () => void;\n    toPOIDetail: () => void;\n    toGuide: () => void;\n    isShowPopupVisible: () => void;\n}\n\nexport const PoiInfo = ({\n    productData,\n    poiData,\n    isShowPhoneIcon,\n    isShowMinDistance,\n    toPOIList,\n    toPOIDetail,\n    toGuide,\n    isShowPopupVisible,\n}: IpoiData) => {\n    // 点击电话弹窗\n    const handlePhoneIcon = () => {\n        isShowPopupVisible && isShowPopupVisible();\n    };\n    return (\n        <View style={styles.container}>\n            {/* 只有多于一个才展示门店列表跳转和(N)家 */}\n            <View style={styles.header}>\n                <Text style={styles.title}>\n                    适用门店\n                    {productData?.poiSize > 1 && (\n                        <Text>（{productData?.poiSize} 家）</Text>\n                    )}\n                </Text>\n                {productData?.poiSize > 1 && (\n                    <TouchableOpacity activeOpacity={1} onPress={toPOIList}>\n                        <View style={styles.rowFlexAlignCenter}>\n                            <Text style={styles.moreStoreLink}>查看全部</Text>\n                            <KidIcon\n                                kid={'common_base_next_24'}\n                                kidColor={'color_base_black_6'}\n                                size={screenSize(14)}\n                            />\n                        </View>\n                    </TouchableOpacity>\n                )}\n            </View>\n            <TouchableOpacity activeOpacity={1} onPress={toPOIDetail}>\n                <View style={[styles.content, styles.rowFlexAlignCenter]}>\n                    <Image\n                        style={styles.poiImage}\n                        source={{ uri: poiData.image }}\n                    />\n                    <View style={styles.poiDescWrapper}>\n                        <View style={styles.poiNameWrap}>\n                            <Text\n                                numberOfLines={1}\n                                style={[\n                                    styles.poiName,\n                                    isShowMinDistance &&\n                                        styles.poiNameWithMinDistance,\n                                ]}\n                            >\n                                {poiData.poiName}\n                            </Text>\n                            {isShowMinDistance && (\n                                <View style={styles.minDistance}>\n                                    <Text style={styles.minDistanceText}>\n                                        离我最近\n                                    </Text>\n                                </View>\n                            )}\n                        </View>\n                        <View style={styles.poiCategoryContainer}>\n                            <View style={styles.subCategory}>\n                                <Text style={styles.tag}>\n                                    {poiData.subCate}\n                                </Text>\n                            </View>\n                            {!!poiData.avgPrice && (\n                                <View\n                                    style={[\n                                        styles.subCategory,\n                                        styles.subCategoryDistance,\n                                    ]}\n                                >\n                                    <Text style={styles.tag}>\n                                        ￥{Math.floor(+poiData.avgPrice / 100)}\n                                        /人\n                                    </Text>\n                                </View>\n                            )}\n                            {!!formatHotPeople(poiData.visitCount) && (\n                                <View\n                                    style={[\n                                        styles.subCategory,\n                                        styles.subCategoryDistance,\n                                    ]}\n                                >\n                                    <Text style={styles.tag}>\n                                        {formatHotPeople(poiData.visitCount)}\n                                        人想去\n                                    </Text>\n                                </View>\n                            )}\n                        </View>\n                    </View>\n                    {isShowPhoneIcon && (\n                        <TouchableOpacity\n                            activeOpacity={1}\n                            onPress={handlePhoneIcon}\n                        >\n                            <View style={styles.poiPhoneWrapper}>\n                                <KidIcon\n                                    kid={'common_baseflat_telephone_24'}\n                                    kidColor={'color_base_black_8'}\n                                    size={screenSize(24)}\n                                />\n                                <Text style={styles.poiPhoneText}>电话</Text>\n                            </View>\n                        </TouchableOpacity>\n                    )}\n                </View>\n            </TouchableOpacity>\n            <View style={styles.dividingLine} />\n            <TouchableOpacity activeOpacity={1} onPress={toGuide}>\n                <View\n                    style={[styles.positionWrapper, styles.rowFlexAlignCenter]}\n                >\n                    {!!poiData.distance && (\n                        <>\n                            <KidIcon\n                                kid={'common_list_location_grey'}\n                                kidColor={'color_base_black_11'}\n                                size={screenSize(14)}\n                            />\n                            <Text style={styles.distance}>\n                                {getDistance(poiData.distance)}\n                            </Text>\n                            <Text style={styles.divide}>|</Text>\n                        </>\n                    )}\n                    <Text\n                        style={styles.address}\n                        ellipsizeMode=\"tail\"\n                        numberOfLines={1}\n                    >\n                        {poiData.address}\n                    </Text>\n                    <KidIcon\n                        kid={'common_base_next_24'}\n                        kidColor={'color_base_black_6'}\n                        size={screenSize(14)}\n                    />\n                </View>\n            </TouchableOpacity>\n        </View>\n    );\n};\n"],"mappings":"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"}