{"version":3,"names":["React","View","Text","TouchableOpacity","KidIcon","styles","screenUnit","bridge","screenSize","makePhoneCall","ContactPopup","_ref","phoneList","callSeller","phone","isOnlyPhone","item","handlePress","_item$custom","custom","customPress","_item$custom2","_item$custom3","_item$custom3$phonePr","phonePress","call","createElement","style","popupContent","map","index","_item$custom4","key","activeOpacity","onPress","dividingLine","popupItem","popupItemContent","title","popupItemDesc","popupItemIcon","kid","icon","kidColor","size"],"sources":["index.tsx"],"sourcesContent":["import React from 'react';\nimport { View, Text, TouchableOpacity } from 'react-native';\nimport { KidIcon } from '@kid-ui/krn';\nimport styles from './styles';\nimport { screenUnit, bridge } from '@lux/ts-lbs-krn-utils';\n\nconst { screenSize } = screenUnit;\nexport interface phoneListItem {\n    // 手机号\n    phone?: string | number;\n    // 标题\n    title?: string;\n    // 自定义配置\n    custom?: {\n        // 自定义点击事件\n        customPress?: () => void;\n        // 自定义右侧icon\n        icon?: string;\n        // 点击电话后自定义触发事件\n        phonePress?: () => void;\n    };\n}\nexport interface PopupParams {\n    phoneList: phoneListItem[] | Array<string | number>;\n}\nconst { makePhoneCall } = bridge;\n\nexport const ContactPopup = ({ phoneList }: PopupParams) => {\n    /**\n     * 拨打商家电话\n     */\n    const callSeller = (phone) => {\n        makePhoneCall([phone]);\n    };\n    /**\n     * @param item 当前这条信息\n     * @returns 是否只有一条电话数据\n     */\n    const isOnlyPhone = (item) => {\n        return typeof item === 'string' || typeof item === 'number';\n    };\n    /**\n     * 处理点击\n     * @param item 当前这条信息\n     */\n    const handlePress = (item) => {\n        if (item?.custom?.customPress) {\n            item?.custom?.customPress();\n        } else {\n            callSeller(isOnlyPhone(item) ? item : item.phone);\n            item?.custom?.phonePress?.();\n        }\n    };\n\n    return (\n        <View style={styles.popupContent}>\n            {phoneList.map((item, index) => (\n                <TouchableOpacity\n                    key={index}\n                    activeOpacity={1}\n                    onPress={() => handlePress(item)}\n                >\n                    {index !== 0 && <View style={styles.dividingLine} />}\n                    <View style={styles.popupItem}>\n                        <View style={styles.popupItemContent}>\n                            {!isOnlyPhone(item) && !!item?.title && (\n                                <Text style={styles.popupItemDesc}>\n                                    {item?.title}{' '}\n                                </Text>\n                            )}\n                            <Text style={styles.popupItemDesc}>\n                                {isOnlyPhone(item) ? item : item?.phone}\n                            </Text>\n                        </View>\n\n                        <View style={styles.popupItemIcon}>\n                            <KidIcon\n                                kid={\n                                    item?.custom?.icon ||\n                                    'common_baseflat_telephone_24'\n                                }\n                                kidColor={'color_base_black_8'}\n                                size={screenSize(24)}\n                            />\n                        </View>\n                    </View>\n                </TouchableOpacity>\n            ))}\n        </View>\n    );\n};\n"],"mappings":"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"}