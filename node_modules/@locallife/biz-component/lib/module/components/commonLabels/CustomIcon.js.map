{"version":3,"names":["React","useMemo","KwaiImage","transAdaptScreenSize","useAdaptThemeValueHook","CustomIcon","memo","props","iconModel","adaptScreen","adaptDark","iconStyle","width","height","Number","iconWidth","iconHeight","iconUrls","light","dark","darkIconUrls","createElement","resizeMode","style","marginLeft","marginRight","imageWarningThreshold","imageSizeWarningThreshold","imageMemoryWarningThreshold","source","uris","cropSize"],"sources":["CustomIcon.tsx"],"sourcesContent":["// 单个icon\nimport React, { useMemo } from 'react';\nimport { TagIconInfo } from './Models';\nimport KwaiImage from '@kds/image';\nimport { transAdaptScreenSize } from './utils/transAdaptScreenSize';\nimport { useAdaptThemeValueHook } from './hooks/useAdaptThemeValueHook';\n\ninterface CustomIconProps {\n    iconModel: TagIconInfo;\n    adaptScreen?: boolean;\n    adaptDark?: boolean; // 是否适配暗黑\n}\n\n// 单图片icon\nexport const CustomIcon = React.memo((props: CustomIconProps) => {\n    const { iconModel, adaptScreen, adaptDark = true } = props;\n    const { iconStyle } = iconModel;\n    const { width, height } = useMemo(() => {\n        return {\n            width: transAdaptScreenSize(\n                Number(iconStyle?.iconWidth),\n                adaptScreen,\n            ),\n            height: transAdaptScreenSize(\n                Number(iconStyle?.iconHeight),\n                adaptScreen,\n            ),\n        };\n    }, [adaptScreen, iconStyle?.iconHeight, iconStyle?.iconWidth]);\n\n    const iconUrls = useAdaptThemeValueHook(\n        {\n            light: iconModel.iconUrls ?? [],\n            dark: iconModel.darkIconUrls ?? iconModel.iconUrls ?? [],\n        },\n        adaptDark,\n    );\n\n    return (\n        <KwaiImage\n            resizeMode=\"cover\"\n            style={[\n                {\n                    width: width,\n                    height: height,\n                    marginLeft: transAdaptScreenSize(\n                        iconStyle?.marginLeft,\n                        adaptScreen,\n                    ),\n                    marginRight: transAdaptScreenSize(\n                        iconStyle?.marginRight,\n                        adaptScreen,\n                    ),\n                },\n            ]}\n            imageWarningThreshold={{\n                imageSizeWarningThreshold: -1, // no image size warning\n                imageMemoryWarningThreshold: -1, // no memory warning\n            }}\n            source={{ uris: iconUrls }}\n            cropSize={{ width: width * 3, height: height * 3 }}\n        />\n    );\n});\n"],"mappings":"AAAA;AACA,OAAOA,KAAK,IAAIC,OAAO,QAAQ,OAAO;AAEtC,OAAOC,SAAS,MAAM,YAAY;AAClC,SAASC,oBAAoB,QAAQ,8BAA8B;AACnE,SAASC,sBAAsB,QAAQ,gCAAgC;AAQvE;AACA,OAAO,MAAMC,UAAU,gBAAGL,KAAK,CAACM,IAAI,CAAEC,KAAsB,IAAK;EAC7D,MAAM;IAAEC,SAAS;IAAEC,WAAW;IAAEC,SAAS,GAAG;EAAK,CAAC,GAAGH,KAAK;EAC1D,MAAM;IAAEI;EAAU,CAAC,GAAGH,SAAS;EAC/B,MAAM;IAAEI,KAAK;IAAEC;EAAO,CAAC,GAAGZ,OAAO,CAAC,MAAM;IACpC,OAAO;MACHW,KAAK,EAAET,oBAAoB,CACvBW,MAAM,CAACH,SAAS,aAATA,SAAS,uBAATA,SAAS,CAAEI,SAAS,CAAC,EAC5BN,WACJ,CAAC;MACDI,MAAM,EAAEV,oBAAoB,CACxBW,MAAM,CAACH,SAAS,aAATA,SAAS,uBAATA,SAAS,CAAEK,UAAU,CAAC,EAC7BP,WACJ;IACJ,CAAC;EACL,CAAC,EAAE,CAACA,WAAW,EAAEE,SAAS,aAATA,SAAS,uBAATA,SAAS,CAAEK,UAAU,EAAEL,SAAS,aAATA,SAAS,uBAATA,SAAS,CAAEI,SAAS,CAAC,CAAC;EAE9D,MAAME,QAAQ,GAAGb,sBAAsB,CACnC;IACIc,KAAK,EAAEV,SAAS,CAACS,QAAQ,IAAI,EAAE;IAC/BE,IAAI,EAAEX,SAAS,CAACY,YAAY,IAAIZ,SAAS,CAACS,QAAQ,IAAI;EAC1D,CAAC,EACDP,SACJ,CAAC;EAED,oBACIV,KAAA,CAAAqB,aAAA,CAACnB,SAAS;IACNoB,UAAU,EAAC,OAAO;IAClBC,KAAK,EAAE,CACH;MACIX,KAAK,EAAEA,KAAK;MACZC,MAAM,EAAEA,MAAM;MACdW,UAAU,EAAErB,oBAAoB,CAC5BQ,SAAS,aAATA,SAAS,uBAATA,SAAS,CAAEa,UAAU,EACrBf,WACJ,CAAC;MACDgB,WAAW,EAAEtB,oBAAoB,CAC7BQ,SAAS,aAATA,SAAS,uBAATA,SAAS,CAAEc,WAAW,EACtBhB,WACJ;IACJ,CAAC,CACH;IACFiB,qBAAqB,EAAE;MACnBC,yBAAyB,EAAE,CAAC,CAAC;MAAE;MAC/BC,2BAA2B,EAAE,CAAC,CAAC,CAAE;IACrC,CAAE;;IACFC,MAAM,EAAE;MAAEC,IAAI,EAAEb;IAAS,CAAE;IAC3Bc,QAAQ,EAAE;MAAEnB,KAAK,EAAEA,KAAK,GAAG,CAAC;MAAEC,MAAM,EAAEA,MAAM,GAAG;IAAE;EAAE,CACtD,CAAC;AAEV,CAAC,CAAC"}