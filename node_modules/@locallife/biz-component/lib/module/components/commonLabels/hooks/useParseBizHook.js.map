{"version":3,"names":["LocalLifeJinJingLogger","ReportType","useMemo","useState","useParseBizHook","bizTags","showBizTags","setShowBizTags","newBiz","map","item","contentModel","JSON","parse","content","error","reportLog2JinJing","stringify","undefined","CUSTOM_STAT_EVENT"],"sources":["useParseBizHook.tsx"],"sourcesContent":["import { LocalLifeJinJingLogger, ReportType } from '@locallife/log';\nimport { BizTags, TagContent } from '../Models';\nimport { Dispatch, SetStateAction, useMemo, useState } from 'react';\n\nexport const useParseBizHook = (\n    bizTags: Array<BizTags>,\n): [BizTags[], Dispatch<SetStateAction<BizTags[]>>] => {\n    const [showBizTags, setShowBizTags] = useState<BizTags[]>([]);\n\n    // 遍历解析数据源\n    useMemo(() => {\n        const newBiz = bizTags.map((item) => {\n            let contentModel = {};\n            try {\n                contentModel = JSON.parse(item.content) as TagContent;\n            } catch (error) {\n                LocalLifeJinJingLogger.reportLog2JinJing(\n                    'LOCAL_LIFE_LOG_STAT_EVENT',\n                    true,\n                    'commonLabels',\n                    '标签解析出错',\n                    { error: JSON.stringify(error) },\n                    undefined,\n                    ReportType.CUSTOM_STAT_EVENT,\n                );\n            }\n            return {\n                ...item,\n                contentModel: contentModel,\n            };\n        });\n        setShowBizTags(newBiz);\n    }, [bizTags]);\n\n    return [showBizTags, setShowBizTags];\n};\n"],"mappings":"AAAA,SAASA,sBAAsB,EAAEC,UAAU,QAAQ,gBAAgB;AAEnE,SAAmCC,OAAO,EAAEC,QAAQ,QAAQ,OAAO;AAEnE,OAAO,MAAMC,eAAe,GACxBC,OAAuB,IAC4B;EACnD,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGJ,QAAQ,CAAY,EAAE,CAAC;;EAE7D;EACAD,OAAO,CAAC,MAAM;IACV,MAAMM,MAAM,GAAGH,OAAO,CAACI,GAAG,CAAEC,IAAI,IAAK;MACjC,IAAIC,YAAY,GAAG,CAAC,CAAC;MACrB,IAAI;QACAA,YAAY,GAAGC,IAAI,CAACC,KAAK,CAACH,IAAI,CAACI,OAAO,CAAe;MACzD,CAAC,CAAC,OAAOC,KAAK,EAAE;QACZf,sBAAsB,CAACgB,iBAAiB,CACpC,2BAA2B,EAC3B,IAAI,EACJ,cAAc,EACd,QAAQ,EACR;UAAED,KAAK,EAAEH,IAAI,CAACK,SAAS,CAACF,KAAK;QAAE,CAAC,EAChCG,SAAS,EACTjB,UAAU,CAACkB,iBACf,CAAC;MACL;MACA,OAAO;QACH,GAAGT,IAAI;QACPC,YAAY,EAAEA;MAClB,CAAC;IACL,CAAC,CAAC;IACFJ,cAAc,CAACC,MAAM,CAAC;EAC1B,CAAC,EAAE,CAACH,OAAO,CAAC,CAAC;EAEb,OAAO,CAACC,WAAW,EAAEC,cAAc,CAAC;AACxC,CAAC"}