import { NativeModules } from 'react-native';

export interface CheckDataResult {
    newUser: boolean;
}

export interface CheckIsNewUserResp {
    newUser: boolean;
    status: number;
    message: string;
    data: CheckDataResult;
}

export const createCommonHeader = () => {
    return {
        'X-Client-Type': 1,
    };
};

export const isEligibility = (params): Promise<CheckIsNewUserResp> => {
    const reqParams = {
        url: '/rest/op/vc/poi/detail/app/new/user',
        method: 'GET',
        params: {
            ...params,
        },
        headers: {
            ...createCommonHeader(),
        },
    };
    try {
        return NativeModules.KSURCTNetworkInterface.request(reqParams);
    } catch (e) {
        throw new Error('请求失败: 没有数据');
    }
};
