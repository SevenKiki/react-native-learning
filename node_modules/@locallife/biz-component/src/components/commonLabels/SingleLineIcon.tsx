// 一排图标
import React, { useCallback } from 'react';
import { View, StyleSheet, TouchableWithoutFeedback } from 'react-native';
import { BizTags, TagIconInfo } from './Models';
import { CustomIcon } from './CustomIcon';

const styles = StyleSheet.create({
    container: {
        overflow: 'hidden',
        flexDirection: 'row',
        alignItems: 'center',
    },
});

interface SingleLineIconProps {
    data: TagIconInfo[] | undefined;
    onPress?: (bizTags?: BizTags) => void;
    bizTags?: BizTags;
    adaptScreen?: boolean;
    adaptDark?: boolean; // 是否适配暗黑
}

// 一排图标
export const SingleLineIcon = (props: SingleLineIconProps) => {
    const { data, adaptDark = true } = props;

    const onPressCard = useCallback(() => {
        if (props.onPress) {
            props.onPress(props.bizTags);
        }
    }, [props]);

    return data && data?.length > 0 ? (
        <TouchableWithoutFeedback onPress={onPressCard}>
            <View style={[styles.container]}>
                {data?.map((item, index) => {
                    return (
                        <CustomIcon
                            iconModel={item}
                            key={index}
                            adaptDark={adaptDark}
                            adaptScreen={props.adaptScreen}
                        />
                    );
                })}
            </View>
        </TouchableWithoutFeedback>
    ) : null;
};
