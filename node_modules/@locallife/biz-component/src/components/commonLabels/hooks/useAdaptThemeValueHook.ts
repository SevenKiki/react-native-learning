import { useThemeValue } from '@kid-ui/krn';
import { ThemeValue } from '@kid-ui/krn/src/theme/useThemeValue';
import { useContext } from 'react';
import ThemeContext from '@kid-ui/krn/src/theme/context';

type UnWrap<T> = T extends {
    light?: any;
    dark?: any;
}
    ? T[keyof T]
    : T;
export const useAdaptThemeValueHook = <T>(
    kidKey: ThemeValue<T>,
    adaptDark: boolean = true,
): UnWrap<ThemeValue<T>> => {
    const theme = useContext(ThemeContext);

    return useThemeValue(kidKey, adaptDark ? theme : 'light');
};
