/* eslint-disable react-native/no-inline-styles */
/* eslint-disable react/jsx-no-bind */
import React, { useState } from 'react';
import { Button, Text } from 'react-native';
import { View } from 'react-native';
import { useCallback } from 'react';
import useMemoizedFn from '../index';

export const Demo1 = () => {
    const [count, setCount] = useState(0);
    const plusBySetState = () => {
        setCount((c) => c + 1);
    };

    const callbackFn = useCallback(() => {
        console.log(`callbackFn：current count is ${count}`);
    }, [count]);

    const memoizedFn = useMemoizedFn(() => {
        console.log(`memoizedFn：current count is ${count}`);
    });

    return (
        <>
            <View>
                <Text>count: {count}</Text>
                <Button title="加1" onPress={plusBySetState} />
            </View>

            <View style={{ marginTop: 15 }}>
                <Button title="call callbackFn" onPress={callbackFn} />
            </View>

            <View style={{ marginTop: 10 }}>
                <Button title="call memoizedFn" onPress={memoizedFn} />
            </View>
        </>
    );
};
