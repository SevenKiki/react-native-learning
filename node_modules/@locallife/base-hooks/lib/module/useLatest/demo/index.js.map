{"version":3,"names":["React","useState","useEffect","Text","useLatest","count","setCount","lastestCount","intervalId","setInterval","current","clearInterval"],"sources":["index.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Text } from 'react-native';\nimport useLatest from '../index';\n\n// 本Demo中，使用useLatest始终获得count最新的值\n// setCount(lastestCount.current + 1)等价于setCount((c) => c + 1)\nexport default () => {\n    const [count, setCount] = useState(0);\n    const lastestCount = useLatest(count);\n\n    useEffect(() => {\n        const intervalId = setInterval(() => {\n            setCount(lastestCount.current + 1);\n            // 使用最新值的优势在于，调用setCount后，如果打印count的值始终是0，而lastestCount.current的值是实时更新的\n            // console.log(\n            //     `count = ${count}; lastestCount.current = ${lastestCount.current}`,\n            // );\n        }, 1000);\n        return () => clearInterval(intervalId);\n    }, [lastestCount]);\n    return <Text>{count}</Text>;\n};\n"],"mappings":"AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,IAAT,QAAqB,cAArB;AACA,OAAOC,SAAP,MAAsB,UAAtB,C,CAEA;AACA;;AACA,gBAAe,MAAM;EACjB,MAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBL,QAAQ,CAAC,CAAD,CAAlC;EACA,MAAMM,YAAY,GAAGH,SAAS,CAACC,KAAD,CAA9B;EAEAH,SAAS,CAAC,MAAM;IACZ,MAAMM,UAAU,GAAGC,WAAW,CAAC,MAAM;MACjCH,QAAQ,CAACC,YAAY,CAACG,OAAb,GAAuB,CAAxB,CAAR,CADiC,CAEjC;MACA;MACA;MACA;IACH,CAN6B,EAM3B,IAN2B,CAA9B;IAOA,OAAO,MAAMC,aAAa,CAACH,UAAD,CAA1B;EACH,CATQ,EASN,CAACD,YAAD,CATM,CAAT;EAUA,oBAAO,oBAAC,IAAD,QAAOF,KAAP,CAAP;AACH,CAfD"}