{"version":3,"names":["React","useMountUntilEffect","Button","Text","View","useState","TestComponent","name","count","console","log","setCount","onPlusOne","c","height"],"sources":["index.tsx"],"sourcesContent":["/* eslint-disable react-native/no-inline-styles */\n/* eslint-disable react/jsx-no-bind */\nimport React from 'react';\nimport useMountUntilEffect from '..';\nimport { Button, Text, View } from 'react-native';\nimport { useState } from 'react';\n\n// 本demo中，TestComponent一开始就挂载了，useMountUntilEffect只监听了count的状态\n// 组件1 count初始值为0（相当于不符合副作用执行的条件），所以渲染组件1时，不会执行useMountUntilEffect中的逻辑，在触发加1后打印 Mounted\n// 组件2 count初始值为1（相当于符合副作用执行的条件），所以渲染组件2时，也会执行useMountUntilEffect中的逻辑，不触发加1也会打印 Mounted，但是在触发加1后不会打印 Mounted\nconst TestComponent = ({ name, count }) => {\n    console.log(`render ${name}`);\n    useMountUntilEffect(() => {\n        console.log(`${name} Mounted ${count}`);\n    }, [count]);\n    return (\n        <Text>\n            name={name}；count = {count}\n        </Text>\n    );\n};\n\nexport default () => {\n    const [count, setCount] = useState(0);\n\n    const onPlusOne = () => {\n        setCount((c) => c + 1);\n    };\n\n    return (\n        <View>\n            <Button title=\"加1\" onPress={onPlusOne} />\n            <View style={{ height: 20 }} />\n            <TestComponent name={'组件1'} count={count} />\n            <TestComponent name={'组件2'} count={1} />\n        </View>\n    );\n};\n"],"mappings":"AAAA;;AACA;AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,mBAAP,MAAgC,IAAhC;AACA,SAASC,MAAT,EAAiBC,IAAjB,EAAuBC,IAAvB,QAAmC,cAAnC;AACA,SAASC,QAAT,QAAyB,OAAzB,C,CAEA;AACA;AACA;;AACA,MAAMC,aAAa,GAAG,QAAqB;EAAA,IAApB;IAAEC,IAAF;IAAQC;EAAR,CAAoB;EACvCC,OAAO,CAACC,GAAR,CAAa,UAASH,IAAK,EAA3B;EACAN,mBAAmB,CAAC,MAAM;IACtBQ,OAAO,CAACC,GAAR,CAAa,GAAEH,IAAK,YAAWC,KAAM,EAArC;EACH,CAFkB,EAEhB,CAACA,KAAD,CAFgB,CAAnB;EAGA,oBACI,oBAAC,IAAD,iBACUD,IADV,oBACyBC,KADzB,CADJ;AAKH,CAVD;;AAYA,gBAAe,MAAM;EACjB,MAAM,CAACA,KAAD,EAAQG,QAAR,IAAoBN,QAAQ,CAAC,CAAD,CAAlC;;EAEA,MAAMO,SAAS,GAAG,MAAM;IACpBD,QAAQ,CAAEE,CAAD,IAAOA,CAAC,GAAG,CAAZ,CAAR;EACH,CAFD;;EAIA,oBACI,oBAAC,IAAD,qBACI,oBAAC,MAAD;IAAQ,KAAK,EAAC,SAAd;IAAmB,OAAO,EAAED;EAA5B,EADJ,eAEI,oBAAC,IAAD;IAAM,KAAK,EAAE;MAAEE,MAAM,EAAE;IAAV;EAAb,EAFJ,eAGI,oBAAC,aAAD;IAAe,IAAI,EAAE,KAArB;IAA4B,KAAK,EAAEN;EAAnC,EAHJ,eAII,oBAAC,aAAD;IAAe,IAAI,EAAE,KAArB;IAA4B,KAAK,EAAE;EAAnC,EAJJ,CADJ;AAQH,CAfD"}