"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = useActiveCallBack;

var _react = require("react");

var _reactNative = require("react-native");

function useActiveCallBack(cb) {
  let deps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];
  const [appState, setAppState] = (0, _react.useState)('active');
  (0, _react.useEffect)(() => {
    const appStateEmitter = new _reactNative.NativeEventEmitter(_reactNative.NativeModules.KRNAppState);

    const appStateEmitterListener = state => {
      setAppState(state.appState);
    };

    appStateEmitter.addListener('krnAppStateDidChange', appStateEmitterListener);
    return () => {
      appStateEmitter.removeListener('krnAppStateDidChange', appStateEmitterListener);
    };
  }, []);
  return (0, _react.useCallback)(() => {
    if (appState !== 'destroy' && appState !== 'hide') {
      cb();
    } // eslint-disable-next-line react-hooks/exhaustive-deps

  }, [appState, cb, ...deps]);
}
//# sourceMappingURL=index.js.map