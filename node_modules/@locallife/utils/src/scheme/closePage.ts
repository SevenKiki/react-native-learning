import { NativeModules } from 'react-native';
import liveBridge from '@krn/live-bridge';

/**
 * 关闭页面
 * @param rootTag bundle对应rootTag
 * @param isLive 是否是直播间
 */
export function closePage(
    rootTag: number,
    isLive: boolean = false,
    animate: 0 | 1 = 1,
) {
    if (isLive) {
        liveBridge.liveStream.closePage();
    } else {
        NativeModules.KRNBasic.exitPageWithInfo({
            animate,
            viewTag: rootTag,
        });
    }
}
