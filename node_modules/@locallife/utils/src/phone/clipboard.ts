import { showToast } from '../toast/showToast';
import { NativeModules } from 'react-native';

/**
 * 复制到剪贴板
 * @param { string } text 存入剪贴板的值
 * @param { string } toastContent 复制成功后的toast内容，默认为复制成功
 * @link https://kds.corp.kuaishou.com/kds-react/api/000-BridgeCenterAPIS.html?platform=krn&namespace=tool&name=setClipBoard
 */
export const setClipBoard = async (text: string, toastContent = '复制成功') => {
    try {
        await NativeModules.Kds.invoke(
            'system',
            'getNavigationBarHeight',
            JSON.stringify({ text }),
        );
        showToast(toastContent, 'success');
    } catch (err) {
        console.log(err);
    }
};
