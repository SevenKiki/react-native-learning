{"version":3,"names":["needLogin","onSuccess","onFail","NativeModules","Kds","invoke","then","catch","e","JSON","stringify"],"sources":["needLogin.ts"],"sourcesContent":["import { NativeModules } from 'react-native';\nimport { logException } from '../log/logException';\nimport { isUserLogin } from './isUserLogin';\n\n/**\n * 跳转登陆页面，登陆成功后执行callback\n * @param callback 登陆后继续做的操作\n */\nexport function needLogin(onSuccess: () => void, onFail?: () => void) {\n    if (!isUserLogin()) {\n        NativeModules.Kds.invoke('social', 'login', null)\n            .then(onSuccess)\n            .catch((e) => {\n                logException('登录失败', JSON.stringify(e));\n                onFail?.();\n            });\n    } else {\n        onSuccess();\n    }\n}\n"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AAEA;AACA;AACA;AACA;AACO,SAASA,SAAT,CAAmBC,SAAnB,EAA0CC,MAA1C,EAA+D;EAClE,IAAI,CAAC,+BAAL,EAAoB;IAChBC,2BAAcC,GAAd,CAAkBC,MAAlB,CAAyB,QAAzB,EAAmC,OAAnC,EAA4C,IAA5C,EACKC,IADL,CACUL,SADV,EAEKM,KAFL,CAEYC,CAAD,IAAO;MACV,gCAAa,MAAb,EAAqBC,IAAI,CAACC,SAAL,CAAeF,CAAf,CAArB;MACAN,MAAM,SAAN,IAAAA,MAAM,WAAN,YAAAA,MAAM;IACT,CALL;EAMH,CAPD,MAOO;IACHD,SAAS;EACZ;AACJ"}