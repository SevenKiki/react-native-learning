"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.needLogin = needLogin;

var _reactNative = require("react-native");

var _logException = require("../log/logException");

var _isUserLogin = require("./isUserLogin");

/**
 * 跳转登陆页面，登陆成功后执行callback
 * @param callback 登陆后继续做的操作
 */
function needLogin(onSuccess, onFail) {
  if (!(0, _isUserLogin.isUserLogin)()) {
    _reactNative.NativeModules.Kds.invoke('social', 'login', null).then(onSuccess).catch(e => {
      (0, _logException.logException)('登录失败', JSON.stringify(e));
      onFail === null || onFail === void 0 ? void 0 : onFail();
    });
  } else {
    onSuccess();
  }
}
//# sourceMappingURL=needLogin.js.map