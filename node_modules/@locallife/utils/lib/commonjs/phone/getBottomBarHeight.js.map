{"version":3,"names":["getBottomBarHeight","rootTag","callback","Platform","OS","NativeModules","Kds","invoke","JSON","stringify","then","res","shown","navBarRes","height","catch","e","console","log"],"sources":["getBottomBarHeight.ts"],"sourcesContent":["import { NativeModules, Platform } from 'react-native';\nimport { isIphoneX } from './isIphoneX';\n\n/**\n * 获取bottom bar的高度\n * @returns bottom bar高度\n */\nexport function getBottomBarHeight(\n    rootTag: number,\n    callback: (height: number) => void,\n) {\n    if (Platform.OS === 'ios') {\n        return isIphoneX() ? 34 : 0;\n    } else if (Platform.OS === 'android') {\n        NativeModules.Kds.invoke(\n            'system',\n            'isBottomNavigationBarShown',\n            JSON.stringify({\n                rootTag,\n            }),\n        )\n            .then((res) => {\n                if (res.shown === true) {\n                    NativeModules.Kds.invoke(\n                        'system',\n                        'getNavigationBarHeight',\n                        JSON.stringify({\n                            rootTag,\n                        }),\n                    )\n                        .then((navBarRes) => {\n                            callback(navBarRes.height);\n                        })\n                        .catch((e) => {\n                            console.log('getNavigationBarHeight' + e);\n                        });\n                }\n            })\n            .catch((e) => {\n                console.log('isBottomNavigationBarShown' + e);\n            });\n    }\n}\n"],"mappings":";;;;;;;AAAA;;AACA;;AAEA;AACA;AACA;AACA;AACO,SAASA,kBAAT,CACHC,OADG,EAEHC,QAFG,EAGL;EACE,IAAIC,sBAASC,EAAT,KAAgB,KAApB,EAA2B;IACvB,OAAO,8BAAc,EAAd,GAAmB,CAA1B;EACH,CAFD,MAEO,IAAID,sBAASC,EAAT,KAAgB,SAApB,EAA+B;IAClCC,2BAAcC,GAAd,CAAkBC,MAAlB,CACI,QADJ,EAEI,4BAFJ,EAGIC,IAAI,CAACC,SAAL,CAAe;MACXR;IADW,CAAf,CAHJ,EAOKS,IAPL,CAOWC,GAAD,IAAS;MACX,IAAIA,GAAG,CAACC,KAAJ,KAAc,IAAlB,EAAwB;QACpBP,2BAAcC,GAAd,CAAkBC,MAAlB,CACI,QADJ,EAEI,wBAFJ,EAGIC,IAAI,CAACC,SAAL,CAAe;UACXR;QADW,CAAf,CAHJ,EAOKS,IAPL,CAOWG,SAAD,IAAe;UACjBX,QAAQ,CAACW,SAAS,CAACC,MAAX,CAAR;QACH,CATL,EAUKC,KAVL,CAUYC,CAAD,IAAO;UACVC,OAAO,CAACC,GAAR,CAAY,2BAA2BF,CAAvC;QACH,CAZL;MAaH;IACJ,CAvBL,EAwBKD,KAxBL,CAwBYC,CAAD,IAAO;MACVC,OAAO,CAACC,GAAR,CAAY,+BAA+BF,CAA3C;IACH,CA1BL;EA2BH;AACJ"}