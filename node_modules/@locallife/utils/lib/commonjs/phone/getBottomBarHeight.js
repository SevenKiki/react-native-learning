"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getBottomBarHeight = getBottomBarHeight;

var _reactNative = require("react-native");

var _isIphoneX = require("./isIphoneX");

/**
 * 获取bottom bar的高度
 * @returns bottom bar高度
 */
function getBottomBarHeight(rootTag, callback) {
  if (_reactNative.Platform.OS === 'ios') {
    return (0, _isIphoneX.isIphoneX)() ? 34 : 0;
  } else if (_reactNative.Platform.OS === 'android') {
    _reactNative.NativeModules.Kds.invoke('system', 'isBottomNavigationBarShown', JSON.stringify({
      rootTag
    })).then(res => {
      if (res.shown === true) {
        _reactNative.NativeModules.Kds.invoke('system', 'getNavigationBarHeight', JSON.stringify({
          rootTag
        })).then(navBarRes => {
          callback(navBarRes.height);
        }).catch(e => {
          console.log('getNavigationBarHeight' + e);
        });
      }
    }).catch(e => {
      console.log('isBottomNavigationBarShown' + e);
    });
  }
}
//# sourceMappingURL=getBottomBarHeight.js.map