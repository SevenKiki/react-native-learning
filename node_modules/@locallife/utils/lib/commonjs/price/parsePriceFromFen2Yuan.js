"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.parsePriceFromFen2Yuan = parsePriceFromFen2Yuan;

var _isNumber = _interopRequireDefault(require("lodash/isNumber"));

var _isString = _interopRequireDefault(require("lodash/isString"));

var _logException = require("../log/logException");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * 分--->元
 * @param price 价格，单位为分
 * @param allowZero
 * @returns 分变成元之后的价格
 */
function parsePriceFromFen2Yuan(price, allowZero) {
  let priceNum;

  if ((0, _isString.default)(price)) {
    try {
      priceNum = parseFloat(price.toString());
    } catch {
      (0, _logException.logException)('parseFloat', '字符串转换数字异常');
    }
  } else {
    priceNum = price;
  }

  if ((0, _isNumber.default)(priceNum) && priceNum >= 0) {
    if (!allowZero && priceNum === 0) {
      return undefined;
    }

    const priceYuan = priceNum / 100;
    return parseFloat(priceYuan.toString()).toString();
  }

  return undefined;
}
//# sourceMappingURL=parsePriceFromFen2Yuan.js.map