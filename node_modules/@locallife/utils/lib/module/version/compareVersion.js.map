{"version":3,"names":["compareVersion","version1","version2","pA","pB","findDigit","str","start","i","length","nextA","nextB","numA","substr","numB"],"sources":["compareVersion.ts"],"sourcesContent":["/**\n * 两个版本之间比较\n * @param version1 版本1\n * @param version2 版本2\n * @returns 版本相同返回0，版本1小于版本2时小于0，版本1大于版本2时大于0\n */\nexport function compareVersion(version1, version2) {\n    let pA = 0;\n    let pB = 0;\n    /** 寻找当前区间的版本号 */\n    let findDigit = function (str, start) {\n        let i = start;\n        while (str[i] !== '.' && i < str.length) {\n            i++;\n        }\n        return i;\n    };\n    while (pA < version1.length && pB < version2.length) {\n        let nextA = findDigit(version1, pA);\n        let nextB = findDigit(version2, pB);\n        let numA = +version1.substr(pA, nextA - pA);\n        let numB = +version2.substr(pB, nextB - pB);\n        if (numA !== numB) {\n            return numA > numB ? 1 : -1;\n        }\n        pA = nextA + 1;\n        pB = nextB + 1;\n    }\n    // 若arrayA仍有小版本号\n    while (pA < version1.length) {\n        let nextA = findDigit(version1, pA);\n        let numA = +version1.substr(pA, nextA - pA);\n        if (numA > 0) {\n            return 1;\n        }\n        pA = nextA + 1;\n    }\n    // 若arrayB仍有小版本号\n    while (pB < version2.length) {\n        let nextB = findDigit(version2, pB);\n        let numB = +version2.substr(pB, nextB - pB);\n        if (numB > 0) {\n            return -1;\n        }\n        pB = nextB + 1;\n    }\n    // 版本号完全相同\n    return 0;\n}\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASA,cAAT,CAAwBC,QAAxB,EAAkCC,QAAlC,EAA4C;EAC/C,IAAIC,EAAE,GAAG,CAAT;EACA,IAAIC,EAAE,GAAG,CAAT;EACA;;EACA,IAAIC,SAAS,GAAG,UAAUC,GAAV,EAAeC,KAAf,EAAsB;IAClC,IAAIC,CAAC,GAAGD,KAAR;;IACA,OAAOD,GAAG,CAACE,CAAD,CAAH,KAAW,GAAX,IAAkBA,CAAC,GAAGF,GAAG,CAACG,MAAjC,EAAyC;MACrCD,CAAC;IACJ;;IACD,OAAOA,CAAP;EACH,CAND;;EAOA,OAAOL,EAAE,GAAGF,QAAQ,CAACQ,MAAd,IAAwBL,EAAE,GAAGF,QAAQ,CAACO,MAA7C,EAAqD;IACjD,IAAIC,KAAK,GAAGL,SAAS,CAACJ,QAAD,EAAWE,EAAX,CAArB;IACA,IAAIQ,KAAK,GAAGN,SAAS,CAACH,QAAD,EAAWE,EAAX,CAArB;IACA,IAAIQ,IAAI,GAAG,CAACX,QAAQ,CAACY,MAAT,CAAgBV,EAAhB,EAAoBO,KAAK,GAAGP,EAA5B,CAAZ;IACA,IAAIW,IAAI,GAAG,CAACZ,QAAQ,CAACW,MAAT,CAAgBT,EAAhB,EAAoBO,KAAK,GAAGP,EAA5B,CAAZ;;IACA,IAAIQ,IAAI,KAAKE,IAAb,EAAmB;MACf,OAAOF,IAAI,GAAGE,IAAP,GAAc,CAAd,GAAkB,CAAC,CAA1B;IACH;;IACDX,EAAE,GAAGO,KAAK,GAAG,CAAb;IACAN,EAAE,GAAGO,KAAK,GAAG,CAAb;EACH,CArB8C,CAsB/C;;;EACA,OAAOR,EAAE,GAAGF,QAAQ,CAACQ,MAArB,EAA6B;IACzB,IAAIC,KAAK,GAAGL,SAAS,CAACJ,QAAD,EAAWE,EAAX,CAArB;IACA,IAAIS,IAAI,GAAG,CAACX,QAAQ,CAACY,MAAT,CAAgBV,EAAhB,EAAoBO,KAAK,GAAGP,EAA5B,CAAZ;;IACA,IAAIS,IAAI,GAAG,CAAX,EAAc;MACV,OAAO,CAAP;IACH;;IACDT,EAAE,GAAGO,KAAK,GAAG,CAAb;EACH,CA9B8C,CA+B/C;;;EACA,OAAON,EAAE,GAAGF,QAAQ,CAACO,MAArB,EAA6B;IACzB,IAAIE,KAAK,GAAGN,SAAS,CAACH,QAAD,EAAWE,EAAX,CAArB;IACA,IAAIU,IAAI,GAAG,CAACZ,QAAQ,CAACW,MAAT,CAAgBT,EAAhB,EAAoBO,KAAK,GAAGP,EAA5B,CAAZ;;IACA,IAAIU,IAAI,GAAG,CAAX,EAAc;MACV,OAAO,CAAC,CAAR;IACH;;IACDV,EAAE,GAAGO,KAAK,GAAG,CAAb;EACH,CAvC8C,CAwC/C;;;EACA,OAAO,CAAP;AACH"}