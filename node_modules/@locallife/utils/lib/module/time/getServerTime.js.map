{"version":3,"names":["NativeModules","Platform","getServerTime","OS","Date","getTime","serverTimeStamp","Kds","invoke","JSON","stringify"],"sources":["getServerTime.ts"],"sourcesContent":["import { NativeModules, Platform } from 'react-native';\n\n/**\n * 获得服务端时间戳\n * @returns 服务端时间戳\n */\nexport async function getServerTime() {\n    if (Platform.OS === 'web') {\n        return new Date().getTime();\n    }\n    const { serverTimeStamp } = await NativeModules.Kds.invoke(\n        'system',\n        'getServerTime',\n        JSON.stringify({}),\n    );\n\n    if (serverTimeStamp > 0) {\n        return serverTimeStamp;\n    }\n    return new Date().getTime();\n}\n"],"mappings":"AAAA,SAASA,aAAT,EAAwBC,QAAxB,QAAwC,cAAxC;AAEA;AACA;AACA;AACA;;AACA,OAAO,eAAeC,aAAf,GAA+B;EAClC,IAAID,QAAQ,CAACE,EAAT,KAAgB,KAApB,EAA2B;IACvB,OAAO,IAAIC,IAAJ,GAAWC,OAAX,EAAP;EACH;;EACD,MAAM;IAAEC;EAAF,IAAsB,MAAMN,aAAa,CAACO,GAAd,CAAkBC,MAAlB,CAC9B,QAD8B,EAE9B,eAF8B,EAG9BC,IAAI,CAACC,SAAL,CAAe,EAAf,CAH8B,CAAlC;;EAMA,IAAIJ,eAAe,GAAG,CAAtB,EAAyB;IACrB,OAAOA,eAAP;EACH;;EACD,OAAO,IAAIF,IAAJ,GAAWC,OAAX,EAAP;AACH"}