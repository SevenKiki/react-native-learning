import padStart from 'lodash/padStart';
/**
 * 获取倒计时字符串
 * @param timeStamp 终点时间戳
 * @param initTimeStamp 初始化时间戳
 * @param endContent 倒计时结束后显示的字符串
 * @param endCallback 倒计时为0后做的操作
 * @returns 倒计时的时间字符串
 */

export function getCountDownTimeString(timeStamp, initTimeStamp) {
  let endContent = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '00:00:00';
  let endCallback = arguments.length > 3 ? arguments[3] : undefined;
  const leftTime = timeStamp - initTimeStamp;
  let h, m, s;

  if (leftTime >= 0) {
    h = Math.floor(leftTime / 1000 / 60 / 60 % 24);
    m = Math.floor(leftTime / 1000 / 60 % 60);
    s = Math.floor(leftTime / 1000 % 60);

    if (h === 0 && m === 0 && s === 0) {
      endCallback && endCallback();
    }
  } else {
    return endContent;
  }

  const format = n => {
    return padStart(String(n), 2, '0');
  };

  return `${format(h)}:${format(m)}:${format(s)}`;
}
//# sourceMappingURL=getCountDownTimeString.js.map