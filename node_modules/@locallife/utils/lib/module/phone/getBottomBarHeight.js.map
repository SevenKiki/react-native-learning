{"version":3,"names":["NativeModules","Platform","isIphoneX","getBottomBarHeight","rootTag","callback","OS","Kds","invoke","JSON","stringify","then","res","shown","navBarRes","height","catch","e","console","log"],"sources":["getBottomBarHeight.ts"],"sourcesContent":["import { NativeModules, Platform } from 'react-native';\nimport { isIphoneX } from './isIphoneX';\n\n/**\n * 获取bottom bar的高度\n * @returns bottom bar高度\n */\nexport function getBottomBarHeight(\n    rootTag: number,\n    callback: (height: number) => void,\n) {\n    if (Platform.OS === 'ios') {\n        return isIphoneX() ? 34 : 0;\n    } else if (Platform.OS === 'android') {\n        NativeModules.Kds.invoke(\n            'system',\n            'isBottomNavigationBarShown',\n            JSON.stringify({\n                rootTag,\n            }),\n        )\n            .then((res) => {\n                if (res.shown === true) {\n                    NativeModules.Kds.invoke(\n                        'system',\n                        'getNavigationBarHeight',\n                        JSON.stringify({\n                            rootTag,\n                        }),\n                    )\n                        .then((navBarRes) => {\n                            callback(navBarRes.height);\n                        })\n                        .catch((e) => {\n                            console.log('getNavigationBarHeight' + e);\n                        });\n                }\n            })\n            .catch((e) => {\n                console.log('isBottomNavigationBarShown' + e);\n            });\n    }\n}\n"],"mappings":"AAAA,SAASA,aAAT,EAAwBC,QAAxB,QAAwC,cAAxC;AACA,SAASC,SAAT,QAA0B,aAA1B;AAEA;AACA;AACA;AACA;;AACA,OAAO,SAASC,kBAAT,CACHC,OADG,EAEHC,QAFG,EAGL;EACE,IAAIJ,QAAQ,CAACK,EAAT,KAAgB,KAApB,EAA2B;IACvB,OAAOJ,SAAS,KAAK,EAAL,GAAU,CAA1B;EACH,CAFD,MAEO,IAAID,QAAQ,CAACK,EAAT,KAAgB,SAApB,EAA+B;IAClCN,aAAa,CAACO,GAAd,CAAkBC,MAAlB,CACI,QADJ,EAEI,4BAFJ,EAGIC,IAAI,CAACC,SAAL,CAAe;MACXN;IADW,CAAf,CAHJ,EAOKO,IAPL,CAOWC,GAAD,IAAS;MACX,IAAIA,GAAG,CAACC,KAAJ,KAAc,IAAlB,EAAwB;QACpBb,aAAa,CAACO,GAAd,CAAkBC,MAAlB,CACI,QADJ,EAEI,wBAFJ,EAGIC,IAAI,CAACC,SAAL,CAAe;UACXN;QADW,CAAf,CAHJ,EAOKO,IAPL,CAOWG,SAAD,IAAe;UACjBT,QAAQ,CAACS,SAAS,CAACC,MAAX,CAAR;QACH,CATL,EAUKC,KAVL,CAUYC,CAAD,IAAO;UACVC,OAAO,CAACC,GAAR,CAAY,2BAA2BF,CAAvC;QACH,CAZL;MAaH;IACJ,CAvBL,EAwBKD,KAxBL,CAwBYC,CAAD,IAAO;MACVC,OAAO,CAACC,GAAR,CAAY,+BAA+BF,CAA3C;IACH,CA1BL;EA2BH;AACJ"}