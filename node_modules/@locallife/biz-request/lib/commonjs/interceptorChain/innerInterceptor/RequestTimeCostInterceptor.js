"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _baseRequest = require("@locallife/base-request");

var _RequestRubas = require("../../util/RequestRubas");

class RequestTimeCostInterceptor extends _baseRequest.Interceptor {
  proceed() {
    return function (model) {
      var _model$requestParams$, _model$requestParams;

      _RequestRubas.RequestRubas.setDimension(_RequestRubas.REQUEST_PATH, (_model$requestParams$ = (_model$requestParams = model.requestParams) === null || _model$requestParams === void 0 ? void 0 : _model$requestParams.url) !== null && _model$requestParams$ !== void 0 ? _model$requestParams$ : '');

      _RequestRubas.RequestRubas.publish(_RequestRubas.REQUEST_START);

      return Promise.resolve({ ...model,
        extra: { ...model.extra,
          sysTimeRequestStart: Date.now()
        }
      });
    };
  }

}

exports.default = RequestTimeCostInterceptor;
//# sourceMappingURL=RequestTimeCostInterceptor.js.map