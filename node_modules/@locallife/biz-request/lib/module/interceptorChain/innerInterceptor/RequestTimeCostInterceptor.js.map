{"version":3,"names":["Interceptor","REQUEST_PATH","REQUEST_START","RequestRubas","RequestTimeCostInterceptor","proceed","model","setDimension","requestParams","url","publish","Promise","resolve","extra","sysTimeRequestStart","Date","now"],"sources":["RequestTimeCostInterceptor.ts"],"sourcesContent":["import { Interceptor, InterceptorModel } from '@locallife/base-request';\nimport {\n    REQUEST_PATH,\n    REQUEST_START,\n    RequestRubas,\n} from '../../util/RequestRubas';\n\nexport default class RequestTimeCostInterceptor extends Interceptor {\n    proceed(): (model: InterceptorModel) => Promise<InterceptorModel> {\n        return function (model: InterceptorModel) {\n            RequestRubas.setDimension(\n                REQUEST_PATH,\n                model.requestParams?.url ?? '',\n            );\n            RequestRubas.publish(REQUEST_START);\n            return Promise.resolve({\n                ...model,\n                extra: { ...model.extra, sysTimeRequestStart: Date.now() },\n            });\n        };\n    }\n}\n"],"mappings":"AAAA,SAASA,WAAT,QAA8C,yBAA9C;AACA,SACIC,YADJ,EAEIC,aAFJ,EAGIC,YAHJ,QAIO,yBAJP;AAMA,eAAe,MAAMC,0BAAN,SAAyCJ,WAAzC,CAAqD;EAChEK,OAAO,GAA2D;IAC9D,OAAO,UAAUC,KAAV,EAAmC;MAAA;;MACtCH,YAAY,CAACI,YAAb,CACIN,YADJ,mDAEIK,KAAK,CAACE,aAFV,yDAEI,qBAAqBC,GAFzB,yEAEgC,EAFhC;MAIAN,YAAY,CAACO,OAAb,CAAqBR,aAArB;MACA,OAAOS,OAAO,CAACC,OAAR,CAAgB,EACnB,GAAGN,KADgB;QAEnBO,KAAK,EAAE,EAAE,GAAGP,KAAK,CAACO,KAAX;UAAkBC,mBAAmB,EAAEC,IAAI,CAACC,GAAL;QAAvC;MAFY,CAAhB,CAAP;IAIH,CAVD;EAWH;;AAb+D"}