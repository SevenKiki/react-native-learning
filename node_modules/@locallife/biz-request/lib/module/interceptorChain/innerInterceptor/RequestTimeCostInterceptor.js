import { Interceptor } from '@locallife/base-request';
import { REQUEST_PATH, REQUEST_START, RequestRubas } from '../../util/RequestRubas';
export default class RequestTimeCostInterceptor extends Interceptor {
  proceed() {
    return function (model) {
      var _model$requestParams$, _model$requestParams;

      RequestRubas.setDimension(REQUEST_PATH, (_model$requestParams$ = (_model$requestParams = model.requestParams) === null || _model$requestParams === void 0 ? void 0 : _model$requestParams.url) !== null && _model$requestParams$ !== void 0 ? _model$requestParams$ : '');
      RequestRubas.publish(REQUEST_START);
      return Promise.resolve({ ...model,
        extra: { ...model.extra,
          sysTimeRequestStart: Date.now()
        }
      });
    };
  }

}
//# sourceMappingURL=RequestTimeCostInterceptor.js.map