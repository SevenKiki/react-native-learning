{"version":3,"names":["usePagePreFetch","key","queryFn","options","infinite","CustomQueryClient","get","prefetchInfiniteQuery","meta","prefetch","prefetchQuery"],"sources":["usePagePreFetch.ts"],"sourcesContent":["import { CustomQueryClient } from '@locallife/page';\nimport { useMemo } from 'react';\nimport {\n    FetchInfiniteQueryOptions,\n    FetchQueryOptions,\n    QueryFunction,\n} from 'react-query';\n\nexport function usePagePreFetch(\n    key: any,\n    queryFn: QueryFunction<unknown, any>,\n    options?: FetchQueryOptions<unknown, unknown, unknown, any> &\n        FetchInfiniteQueryOptions<unknown, unknown, unknown, any>,\n    infinite = false,\n) {\n    return useMemo(() => {\n        if (!key || !queryFn) {\n            return null;\n        }\n        if (infinite) {\n            return CustomQueryClient.get().prefetchInfiniteQuery(key, queryFn, {\n                ...options,\n                meta: { prefetch: 1 },\n            });\n        }\n        return CustomQueryClient.get().prefetchQuery(key, queryFn, {\n            ...options,\n            meta: { prefetch: 1 },\n        });\n    }, []);\n}\n"],"mappings":";;;;;;;AAAA;;AACA;;AAOO,SAASA,eAAT,CACHC,GADG,EAEHC,OAFG,EAGHC,OAHG,EAML;EAAA,IADEC,QACF,uEADa,KACb;EACE,OAAO,oBAAQ,MAAM;IACjB,IAAI,CAACH,GAAD,IAAQ,CAACC,OAAb,EAAsB;MAClB,OAAO,IAAP;IACH;;IACD,IAAIE,QAAJ,EAAc;MACV,OAAOC,wBAAkBC,GAAlB,GAAwBC,qBAAxB,CAA8CN,GAA9C,EAAmDC,OAAnD,EAA4D,EAC/D,GAAGC,OAD4D;QAE/DK,IAAI,EAAE;UAAEC,QAAQ,EAAE;QAAZ;MAFyD,CAA5D,CAAP;IAIH;;IACD,OAAOJ,wBAAkBC,GAAlB,GAAwBI,aAAxB,CAAsCT,GAAtC,EAA2CC,OAA3C,EAAoD,EACvD,GAAGC,OADoD;MAEvDK,IAAI,EAAE;QAAEC,QAAQ,EAAE;MAAZ;IAFiD,CAApD,CAAP;EAIH,CAdM,EAcJ,EAdI,CAAP;AAeH"}