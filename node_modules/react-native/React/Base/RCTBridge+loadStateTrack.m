//
//  RCTBridge+loadStateTrack.m
//  React-Core
//
//  Created by joyo on 2021/9/8.
//

#import "RCTBridge+loadStateTrack.h"

NSString *const RCTKRNSDKStartNotification = @"RCTKRNSDKStartNotification";
NSString *const RCTBridgeInitNotification = @"RCTBridgeInitNotification";
NSString *const RCTRunJSBundleStartNotification = @"RCTRunJSBundleStartNotification";
NSString *const RCTRunJSBundleEndNotification = @"RCTRunJSBundleEndNotification";

NSString *const RCTNotificationTagKey = @"RCTNotificationTagKey";
NSString *const RCTNotificationTimeKey = @"RCTNotificationTimeKey";
NSString *const RCTBridgeUniqueIdKey = @"RCTBridgeUniqueIdKey";
NSString *const RCTBridgeKey = @"RCTBridgeKey";
NSString *const RCTKrnSdkEntryTimestampKey = @"RCTKrnSdkEntryTimestampKey";

void KDSNotifyAboutRunJSBundleStart(RCTPerformanceLogger *performanceLogger, const char *tag, const int uniqueId) {
    [[NSNotificationCenter defaultCenter] postNotificationName:RCTRunJSBundleStartNotification
                                                        object:performanceLogger
                                                      userInfo:@{
                                                          RCTBridgeUniqueIdKey: @(uniqueId)
                                                      }];
}

void KDSNotifyAboutRunJSBundleEnd(RCTPerformanceLogger *performanceLogger, const char *tag, const int uniqueId) {
    [[NSNotificationCenter defaultCenter] postNotificationName:RCTRunJSBundleEndNotification
                                                        object:performanceLogger
                                                      userInfo:@{
                                                          RCTBridgeUniqueIdKey:  @(uniqueId)
                                                      }];
}

@implementation RCTBridge (loadStateTrack)

@end
