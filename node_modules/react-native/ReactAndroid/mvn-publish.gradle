apply plugin: 'com.kwai.middleware.portal'

portal {
    groupId = GROUP
    artifactId = POM_ARTIFACT_ID
    version = VERSION_NAME

    autoTag = false
    autoClean = false

    if (version.contains("SNAPSHOT") == true) {
        mavenUrl = 'http://nexus.corp.kuaishou.com:88/nexus/content/repositories/snapshots/'
    } else {
        mavenUrl = 'http://nexus.corp.kuaishou.com:88/nexus/content/repositories/releases/'
    }
}

ext {
    AAR_OUTPUT_URL = "file://${projectDir}/../android"
}

task mavenUpload {

}

project.afterEvaluate {
    kwaiPublish.dependsOn clean
    mavenUpload.dependsOn kwaiPublish
}
