#include "V8InspectorAgent.h"
#include "V8Inspector.h"

JNIEXPORT jint JNI_OnLoad(JavaVM* vm, void* reserved) {
  JNIEnv* env = nullptr;
  if (vm->GetEnv((void**)&env, JNI_VERSION_1_4) != JNI_OK) {
    return -1;
  }

  if (!V8InspectorAgent::RegisterJNI(env)) {
    return -1;
  }

  if (!V8Inspector::RegisterJNI(env)) {
    return -1;
  }
  return JNI_VERSION_1_4;
}
