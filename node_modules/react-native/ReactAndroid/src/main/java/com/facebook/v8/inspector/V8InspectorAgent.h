#include <jni.h>
#include "V8Runtime.h"

class V8InspectorAgent final : public facebook::V8RuntimeLifecircleListener {
 public:
  V8InspectorAgent(JNIEnv* env, jobject java_peer);
  ~V8InspectorAgent();

  static bool RegisterJNI(JNIEnv* env);
 private:
  void OnV8RuntimeCreated(facebook::V8Runtime* runtime) override;
  void OnV8RuntimeDestroyed(facebook::V8Runtime* runtime) override;

  JavaVM* vm_;
  JNIEnv* env_;
  jobject java_peer_;
}; 
