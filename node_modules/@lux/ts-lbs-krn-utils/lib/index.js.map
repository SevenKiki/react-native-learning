{"version":3,"file":"index.js","sources":["../base/src/appVersion.ts","../base/src/env.ts","../base/src/format.ts","../base/src/screenUnit.ts","../base/src/hooks/useFmpLog.ts","../base/src/bridge/makePhoneCall.ts","../base/src/bridge/requestLocation.ts","../base/src/bridge/getAppInfo.ts","../base/src/iphone.ts","../base/src/formatHotPeople.ts","../base/src/urlSplicing.ts","../base/src/index.ts"],"sourcesContent":["import { NativeModules } from 'react-native';\n\n/**\n * 版本比较方法，只比较前3位数\n * 返回 1  当前版本 大于 目标版本\n * 返回 -1 当前版本 小于 目标版本\n * 返回 0  当前版本 等于 目标版本\n * @param currentVersion 当前版本号\n * @param targetVersion 目标版本号\n * @return 0 -1\n */\nexport const compareVersion = function (\n    currentVersion: string,\n    targetVersion: string,\n) {\n    try {\n        const arr1 = currentVersion.split('.').splice(0, 3);\n        const arr2 = targetVersion.split('.').splice(0, 3);\n        while (arr1.length && arr2.length) {\n            const n1 = Number(arr1.shift());\n            const n2 = Number(arr2.shift());\n            if (n1 > n2) {\n                return 1;\n            }\n            if (n1 < n2) {\n                return -1;\n            }\n        }\n        if (arr1.length) {\n            // arr2 数组已经为空\n            return arr1.every((item) => Number(item) === 0) ? 0 : 1;\n        }\n        if (arr2.length) {\n            // arr1 数组已经为空\n            return arr2.every((item) => Number(item) === 0) ? 0 : -1;\n        }\n        return 0;\n    } catch (e) {\n        return -1;\n    }\n};\n\n/**\n * 获取当前应用版本号\n * @param currentVersion 当前版本号\n * @param targetVersion 目标版本号\n * @return appversion string\n */\n\nlet appVersion: string;\nexport function getAppVersion() {\n    if (appVersion) {\n        return appVersion;\n    }\n    const {\n        data: { appVersion: version },\n    } = NativeModules.KRNBasic?.getDeviceInfoSync?.() || {\n        data: {\n            appVersion: '',\n        },\n    };\n    appVersion = (version as string)?.match(/\\d+\\.\\d+\\.\\d+/)?.[0] || '';\n    return appVersion;\n}\n","import { NativeModules } from 'react-native';\n\n/**\n * 环境\n */\nexport const env = NativeModules.KSRCTBridge.getEnvSync();\n","/**\n * 去除掉头部和尾部无用的'\\n'\n * 用于格式化传入的带'\\n'的字符串\n * @param str {string} 操作的字符\n * @return {Array}\n */\nexport function newLineFormat(str: string) {\n    if (!str) {\n        return [];\n    }\n    const arr = str.split(/\\n/);\n    const result = arr.filter((item) => {\n        return item;\n    });\n    return result;\n}\n\nconst transformTimeYear = (timestamp: number) => {\n    if (timestamp) {\n        const time = new Date(timestamp);\n        const y = time.getFullYear();\n        const M = time.getMonth() + 1;\n        const d = time.getDate();\n        return y + '年' + M + '月' + d + '日';\n    }\n    return '';\n};\nconst transformTimeMonth = (timestamp: number) => {\n    if (timestamp) {\n        const time = new Date(timestamp);\n        const M = time.getMonth() + 1;\n        const d = time.getDate();\n        return M + '月' + d + '日';\n    }\n    return '';\n};\n\n/**\n *\n * @param time 时间戳\n * 1、不是本年，直接展示时间\n * 2、大于两个月，直接展示 月/ 天\n * 3、大于一个月，且大于七天展示 年/月/日\n * 4、小于 7 填，展示 n 天前\n * @return string\n */\nexport const formatTimeToDays = (time: number): string => {\n    if (!time) {\n        return '';\n    }\n    const nowTime = new Date();\n    const formatTime = new Date(time);\n    // 判断不是本年，直接展示时间\n    const nY = nowTime.getFullYear();\n    const fY = formatTime.getFullYear();\n    if (nY !== fY) {\n        return transformTimeYear(time);\n    }\n    // 判断是否同一个月，大于两个月，直接展示 月/ 天  大于一个月，再判断是否大于七天\n    const nM = nowTime.getMonth() + 1;\n    const fM = formatTime.getMonth() + 1;\n    const nd = nowTime.getUTCDate();\n    const fd = formatTime.getUTCDate();\n\n    if (nM !== fM) {\n        if (nM - fM > 1) {\n            return transformTimeMonth(time);\n        }\n        if (nM - fM === 1) {\n            // 上个月最后一天\n            const lastDay = formatTime.setDate(0);\n            const difference = lastDay - fd + nd;\n            if (difference > 7) {\n                return transformTimeMonth(time);\n            }\n        }\n    }\n    if (nd - fd > 7) {\n        return transformTimeMonth(time);\n    }\n\n    if (nd === fd) {\n        return '今天';\n    }\n    // 同一个月，判断同一天  差一天   差两天  差三天 ...\n    return nd - fd + '天前';\n};\n","import { Dimensions, PixelRatio } from 'react-native';\n\nexport const DeviceWidth = Dimensions.get('window').width;\n\nexport const DeviceHeight = Dimensions.get('window').height;\n\nexport const FontScale = PixelRatio.getFontScale();\n\nexport const pixelRatio = PixelRatio.get();\n\nexport function screenSize(size: number, ceil = false, designW = 414) {\n    const isMinus = size < 0;\n    if (size === 0) {\n        return 0;\n    }\n\n    // 换算到屏幕物理像素点\n    const physicalPixels =\n        (size * PixelRatio.getPixelSizeForLayoutSize(DeviceWidth)) / designW;\n\n    // 物理像素点取整，最小返回 1 像素\n    const roundPhysicalPixels = Math.max(\n        1,\n        (ceil ? Math.ceil : Math.floor)(\n            isMinus ? -physicalPixels : physicalPixels,\n        ),\n    );\n\n    // 换算到逻辑像素点\n    const pixels = (roundPhysicalPixels / pixelRatio).toFixed(1);\n    return isMinus ? -pixels : +pixels;\n}\n\nexport function screenSize375(size: number, ceil = false) {\n    return screenSize(size, ceil, 375);\n}\n\nexport function screenSize414(size: number, ceil = false) {\n    return screenSize(size, ceil, 414);\n}\n","import { useCallback, useRef, useEffect } from 'react';\nimport { NativeModules } from 'react-native';\n\nconst useFmpLog = (rootTag: any, onCreateTimestamp: any, extra?: any) => {\n    useEffect(() => {\n        // 上报 t1\n        console.log('=== reprot T1');\n        NativeModules?.RootViewPageBridge?.rootViewDidMountWith(rootTag, {});\n    }, [rootTag]);\n\n    const t2 = useRef<number>(0);\n    const t3 = useRef<number>(0);\n    // 白屏时间（T1）\n\n    // 第一个API返回的时间(T2)\n    const handleT2 = useCallback(() => {\n        // 接口获取完上报\n        if (t2.current) {\n            return;\n        }\n        console.log('=== reprot T2');\n        t2.current = Date.now() - onCreateTimestamp;\n    }, [onCreateTimestamp]);\n\n    // 首屏时间（T3）\n    const handleT3 = useCallback(() => {\n        // 渲染完成上报\n        if (t3.current) {\n            return;\n        }\n        console.log('=== reprot T3');\n        t3.current = Date.now() - onCreateTimestamp;\n        if (t2.current > 0 && t3.current > 0 && t3.current >= t2.current) {\n            // 上报 t2 t3\n            NativeModules?.RootViewPageBridge?.reportPageRenderTime(\n                rootTag,\n                t2.current,\n                t3.current,\n                extra,\n            );\n        }\n    }, [rootTag, onCreateTimestamp, extra]);\n\n    return { handleT2, handleT3 };\n};\n\nexport default useFmpLog;\n","import { invoke } from '@kds/bridge-lite';\nimport { Linking } from 'react-native';\n\nexport default (phoneArr: Array<string>) => {\n    if (!phoneArr || !phoneArr.length) {\n        return;\n    }\n    const phoneOptions = phoneArr.map((item) => {\n        return {\n            text: `呼叫 ${item}`,\n            value: 'tel:' + item,\n            type: 0 as any,\n        };\n    });\n    return invoke('ui.showBottomSheet', {\n        options: phoneOptions,\n        title: ''\n    })\n        .then(\n            (res) => {\n                const tel = res.value;\n                Linking.canOpenURL(tel).then((supported) => {\n                    if (!supported) {\n                        console.log('Can not handle tel:' + tel);\n                    } else {\n                        return Linking.openURL(tel);\n                    }\n                });\n            },\n            (err) => {\n                console.log('调用失败:');\n                console.log(err);\n            },\n        )\n        .catch((e) => {\n            console.log('调用出错:');\n            console.log(e);\n        });\n};\n","import { invoke } from '@kds/bridge-lite';\n/**\n * https://docs.corp.kuaishou.com/k/home/VC1hFwOWwqIA/fcACl_zbvnbW1YQYA6SlC1wzl\n * 请求定位，如果没有权限，会先请求定位权限（业务权限+系统权限），授权成功会进行定位。\n */\n\ninterface LocationInfo {\n    latitude: number;\n    longitude: number;\n}\n\nexport default async (\n    biz: string,\n    statKey: string\n): Promise<LocationInfo> => {\n    try {\n        const { latitude, longitude } = await invoke('system.requestLocation', {\n            biz,\n            statKey,\n        });\n        return { latitude, longitude };\n    } catch (error) {\n        console.warn(error);\n        return { latitude: 0, longitude: 0 };\n    }\n};\n","import { invoke } from '@kds/bridge-lite';\n/**\n * 获取 app 的一般信息\n * https://kds.corp.kuaishou.com/kds-react/api/000-BridgeCenterAPIS.html?platform=krn&namespace=system&name=getAppInfo\n */\n\nexport default async () => {\n    try {\n        const result = await invoke('system.getAppInfo', {});\n        return result;\n    } catch (err) {\n        console.log(err);\n        return {\n            kpn: '',\n            did: '',\n            kpf: '',\n        };\n    }\n};","import { Dimensions, Platform, StatusBar } from 'react-native';\n// https://git.corp.kuaishou.com/kds/third-party-component/js-third-party-component/react-native-iphone-x-helper/-/blob/master/index.js\n// prettier-ignore\nconst checkDemension = (size: number) => {\n    const window = Dimensions.get('window');\n    const windowRes = window.width === size || window.height === size;\n    const screen = Dimensions.get('screen');\n    const screenRes = screen.width === size || screen.height === size;\n    return windowRes || screenRes;\n};\n\nexport function isIphoneX() {\n    return (\n        Platform.OS === 'ios' &&\n        !Platform.isPad &&\n        !Platform.isTV &&\n        (checkDemension(780) ||\n            checkDemension(812) ||\n            checkDemension(844) ||\n            checkDemension(896) ||\n            checkDemension(926) ||\n            checkDemension(852) ||\n            checkDemension(932))\n    );\n}\n\nconst checkDimensions = (portraitWidth: number, portraitHeight: number) => {\n    const window = Dimensions.get('window');\n    const windowRes =\n        (window.height === portraitHeight && window.width === portraitWidth) ||\n        (window.width === portraitHeight && window.height === portraitWidth);\n\n    const screen = Dimensions.get('screen');\n    const screenRes =\n        (screen.height === portraitHeight && screen.width === portraitWidth) ||\n        (screen.width === portraitHeight && screen.height === portraitWidth);\n\n    return windowRes || screenRes;\n};\n// 14 Pro, 14 Pro Max\nconst _isStatusBarHeight59 = () => {\n    return checkDimensions(393, 852) || checkDimensions(430, 932);\n};\n\nconst _getIphoneStatusBarHeight = () => {\n    if (isIphoneX()) {\n        if (_isStatusBarHeight59()) {\n            return 59;\n        }\n        return 44;\n    }\n    return 20;\n};\n\nexport const safeAreaTop = Platform.select({\n    ios: _getIphoneStatusBarHeight(),\n    android: StatusBar.currentHeight,\n    default: 0,\n});\n\nexport const safeAreaBottom = isIphoneX() ? 34 : 0;\n","/**\n * 处理多少人想去（热度） 低于50人不展示，没有该字段不展示。\n * i. 数字大于4位数，展示x万，保留1位小数，小数点后是0则不显示小数点。如显示6万，6.1万\n * @param peopleNum {number} 个数\n * @return {number}\n */ \nexport default (peopleNum: number) => {\n    try {\n        if (peopleNum < 50) {\n            return '';\n        }\n        if (peopleNum >= 10000) {\n            const fixNum: string = (peopleNum / 10000).toFixed(1);\n            return `${Number(fixNum) / 1}万`;\n        }\n        return peopleNum;\n    } catch (err) {\n        return peopleNum;\n    }\n};\n","/**\n *\n * @param krnUrl krn 链接\n * @param rootProps rootProps\n * @param source 来源 预留参数\n * @returns 给客户端rn链接拼接参数返回url\n */\n\nexport interface rootPropsParamsDTO {\n    businessHalfScreen: boolean;\n    heightratio: number;\n};\n\nexport default (krnUrl: string, rootProps: rootPropsParamsDTO, source?: string) => {\n    // 前置params\n    const preParams = ['bundledId', 'componentName'];\n    // 拼接参数\n    const addParams = Object.entries({\n        businessHalfScreen: rootProps?.businessHalfScreen,\n        heightratio: rootProps?.heightratio,\n    });\n    // 切割url\n    const URL = krnUrl.split(/\\?(.+)/);\n    const params =\n        URL?.[1]\n            ?.split('&')\n            ?.reduce((prev, next) => {\n                if (preParams.length === 0 && addParams.length > 0) {\n                    const param = addParams.shift();\n                    prev.push(`${param[0]}=${param[1]}`);\n                } else {\n                    const index = preParams.indexOf(next.split('=')[0]);\n                    if (index > -1) {\n                        preParams.splice(index, 1);\n                    }\n                    prev.push(next);\n                }\n                return prev;\n            }, [])\n            .join('&') || '';\n    return `${URL?.[0]}?${params}`;\n};\n","import * as appVersion from './appVersion';\nimport * as env from './env';\nimport * as format from './format';\nimport * as screenUnit from './screenUnit';\nimport * as hooks from './hooks';\nimport * as bridge from './bridge';\nimport * as iphone from './iphone';\n\nimport formatHotPeople from './formatHotPeople';\nimport urlSplicing from './urlSplicing';\n\nexport {\n    // app版本相关\n    appVersion,\n    // 环境\n    env,\n    // 格式化热度\n    formatHotPeople,\n    // 格式化\n    format,\n    // 屏幕计算\n    screenUnit,\n    // hooks\n    hooks,\n    // bridge\n    bridge,\n    // 苹果手机\n    iphone,\n    // url切割\n    urlSplicing\n};\n\nexport default {\n    // app版本相关\n    appVersion,\n    // 环境\n    env,\n    // 格式化热度\n    formatHotPeople,\n    // 格式化\n    format,\n    // 屏幕计算\n    screenUnit,\n    // hooks\n    hooks,\n    // bridge\n    bridge,\n    // 苹果手机\n    iphone,\n    // url切割\n    urlSplicing\n};\n"],"names":["compareVersion","currentVersion","targetVersion","arr1","split","splice","arr2","length","n1","Number","shift","n2","every","item","e","appVersion","getAppVersion","NativeModules","KRNBasic","getDeviceInfoSync","data","version","match","env","KSRCTBridge","getEnvSync","newLineFormat","str","arr","result","filter","transformTimeYear","timestamp","time","Date","y","getFullYear","M","getMonth","d","getDate","transformTimeMonth","formatTimeToDays","nowTime","formatTime","nY","fY","nM","fM","nd","getUTCDate","fd","lastDay","setDate","difference","DeviceWidth","Dimensions","get","width","DeviceHeight","height","FontScale","PixelRatio","getFontScale","pixelRatio","screenSize","size","ceil","designW","isMinus","physicalPixels","getPixelSizeForLayoutSize","roundPhysicalPixels","Math","max","floor","pixels","toFixed","screenSize375","screenSize414","useFmpLog","rootTag","onCreateTimestamp","extra","useEffect","console","log","RootViewPageBridge","rootViewDidMountWith","t2","useRef","t3","handleT2","useCallback","current","now","handleT3","reportPageRenderTime","phoneArr","phoneOptions","map","text","value","type","invoke","options","title","then","res","tel","Linking","canOpenURL","supported","openURL","err","_asyncToGenerator","_regeneratorRuntime","biz","statKey","latitude","longitude","warn","kpn","did","kpf","checkDemension","window","windowRes","screen","screenRes","isIphoneX","Platform","OS","isPad","isTV","checkDimensions","portraitWidth","portraitHeight","_isStatusBarHeight59","_getIphoneStatusBarHeight","safeAreaTop","select","ios","android","StatusBar","currentHeight","safeAreaBottom","peopleNum","fixNum","krnUrl","rootProps","source","preParams","addParams","Object","entries","businessHalfScreen","heightratio","URL","params","reduce","prev","next","param","push","index","indexOf","join","formatHotPeople","format","screenUnit","hooks","bridge","iphone","urlSplicing"],"mappings":"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"}