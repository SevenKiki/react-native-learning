"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getPkgInfo = void 0;
const const_1 = require("./const");
const fs = require('fs');
const util_1 = require("./util");
/**
 * require 一个路径的包，主要是 require json
 */
const requireModule = (absolutePath) => {
    try {
        return require(absolutePath);
    }
    catch (error) {
        (0, util_1.log)('resolve path failed, path: %s', absolutePath);
        (0, util_1.log)('fail detail error', error);
        return;
    }
};
/**
 * 获取当前用户项目目录下的 package.json 内容
 */
const getPkgInfo = () => {
    (0, util_1.debug)('get user package.json, app root: %s', const_1.appRootPackageJsonPath);
    const pkgInfo = requireModule(const_1.appRootPackageJsonPath);
    (0, util_1.debug)('user app package.json: %j', pkgInfo);
    return pkgInfo;
};
exports.getPkgInfo = getPkgInfo;
