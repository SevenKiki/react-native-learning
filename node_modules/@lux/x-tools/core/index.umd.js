!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports):"function"==typeof define&&define.amd?define(["exports"],r):r((e="undefined"!=typeof globalThis?globalThis:e||self).xTools={})}(this,(function(e){"use strict";var r=[1e3,60,60,24,30,12],t=["s","m","h","D","M","Y"],n=/(YYYY|MM|M|DD|D|hh|h|mm|m|ss|s)/g,s={s:"ss秒",m:"mm分钟ss秒",h:"hh小时mm分钟ss秒",D:"DD天 hh小时mm分钟ss秒",M:"MM个月DD天 hh小时mm分钟ss秒",Y:"YYYY年MM个月DD天 hh小时mm分钟ss秒"};function o(e,r){void 0===r&&(r=!0);var t=e.toString();return r?t.padStart(2,"0"):t}var a=function(){return a=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++)for(var s in r=arguments[t])Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s]);return e},a.apply(this,arguments)};function i(e,r){var t=r.scale,n=r.limit,s=r.units,o=r.fixedDigits,a=void 0===o?2:o,i=r.keepZero,u=void 0===i||i,c=e,f=1;if("number"==typeof t)for(var d=n||t;s[f]&&c>=d;)c/=t,f++;else for(;s[f]&&t[f-1]&&c>=(n||t[f-1]);)c/=t[f-1],f++;var m=p(c),l=s[f-1],h="number"==typeof t?t:t[f-1];function p(e){return e.toFixed(a>0?a:0)}return h&&s[f]&&parseFloat(m)>=(n||h)&&(m=p(parseFloat(m)/h),l=s[f]),!u&&m.includes(".")&&(m=m.replace(/([.]?0*)$/,"")),{format:"".concat(m).concat(l),value:m,unit:l}}i.Storage={scale:1024,units:["B","KB","MB","GB","TB","PB","EB","ZB"]},i.Number={scale:1e4,units:["","万","亿"]},i.CountCH=a(a({},i.Number),{keepZero:!1,fixedDigits:1}),i.CountEN={scale:1e3,units:["","k","m","b"],keepZero:!1,fixedDigits:1},e.deadline=function(e,a){void 0===a&&(a={});var i=a.cycle||"D",u=s[i],c=t.indexOf(i),f=e%1e3,d=[0,0,0,0,0,0],m=0,l=Math.floor(e/r[m]);for(m=1;m<=c&&l>0;m++){var h=r[m];d[m-1]=l%h,l=Math.floor(l/h)}d[m-1]=l;var p=d[5],v=d[4],D=d[3],M=d[2],y=d[1],Y=d[0];return{parse:function(){return{years:p,months:v,days:D,hours:M,minutes:y,seconds:Y,millseconds:f,monthsPad:o(v),daysPad:o(D),hoursPad:o(M),minutesPad:o(y),secondsPad:o(Y)}},format:function(e){return void 0===e&&(e=u),e.replace(n,(function(e){switch(e){case"YYYY":return"".concat(p);case"MM":return o(v);case"DD":return o(D);case"hh":return o(M);case"mm":return o(y);case"ss":return o(Y);case"M":return o(v,!1);case"D":return o(D,!1);case"h":return o(M,!1);case"m":return o(y,!1);case"s":return o(Y,!1);default:return""}}))}}},e.unitConvert=i,Object.defineProperty(e,"__esModule",{value:!0})}));
