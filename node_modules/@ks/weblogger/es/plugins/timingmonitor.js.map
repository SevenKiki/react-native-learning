{"version":3,"file":"timingmonitor.js","sources":["../../node_modules/tslib/tslib.es6.js","../../src/plugins/base.ts","../../src/util/timing.ts","../../src/plugins/timingMonitor/index.ts","../../src/util/console.ts","../../src/util/index.ts"],"sourcesContent":["/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n","import type { BaseWeblogInstance } from '@/types/index';\n\nexport abstract class BasePlugin {\n    declare weblog: BaseWeblogInstance;\n    abstract destroy(): void;\n    apply(weblog: BaseWeblogInstance) {\n        this.weblog = weblog;\n    }\n    /**\n     * 统一由 weblog 在页面关闭前调用的生命周期函数\n     */\n    beforeUnload?: (event: Event) => void;\n    static key: string;\n}\n\nexport interface BasePluginConstructor {\n    new(options?: any): any;\n    new(weblogger?: any, options?: any): any;\n    key: string;\n}\n/**\n * 在 bootstrap 环境下自动注册插件\n * @param Plugin\n * @param optionKey\n */\nexport const autoRegister = (Plugin: any, optionKey?: string) => {\n    if (\n        typeof window === 'undefined' ||\n        typeof window._GLOBAL_KS_WEBLOGGER_ === 'undefined' ||\n        typeof Plugin !== 'function') return;\n    const { weblog, config } = window._GLOBAL_KS_WEBLOGGER_;\n    let option = optionKey ? config.plugins[optionKey]?.options : undefined;\n    weblog.addPluginInstance(new Plugin(option));\n}\n","import type {\n    PerformanceTimingProperty,\n} from '../plugins/types';\nconst perf = typeof window !== 'undefined'\n    ? window.performance\n    : null;\n\nconst performanceTiming: PerformanceTiming | PerformanceTimingProperty | null = perf && perf.timing || null;\n\nconst performanceNavigationTiming: PerformanceNavigationTiming | null = perf\n    && perf.getEntriesByType\n    && perf.getEntriesByType('navigation')[0] as PerformanceNavigationTiming\n    || null;\n\n// TODO下面这个暂时不能这么用，因为计量方式和perfirmanceTiming不一样\n// export default performanceNavigationTiming || performanceTiming || null;\nexport default performanceTiming as (PerformanceTiming & PerformanceTimingProperty);\n","/**\n * @file timing.js\n * @author kevin (lanlazy@163.com)\n * @created 2018-08-25\n */\nimport type {\n    PerformanceTimingProperty,\n    TimingPerfMap,\n    TimingPerfName,\n    TimingPerf,\n    TimingCustomOptions,\n} from '../types';\nimport type { HttpWeblogInstance } from '@/types/index';\n\nimport { addMonitor, removeMonitor } from '../../util';\nimport { BasePlugin, autoRegister } from '../base';\nimport navigationTiming from '../../util/timing';\nimport { error } from '../../util/console';\n\n// TODO页面停留时间先依赖一个全局副作用来搞，毕竟要侵入SPA模式下比较蛋疼……\nconst perfMap: TimingPerfMap = {\n    // DNS查找时间\n    dnsLookup: {\n        end: 'domainLookupEnd',\n        start: 'domainLookupStart',\n    },\n    // TCP建连时间\n    tcpConnection: {\n        end: 'connectEnd',\n        start: 'connectStart',\n    },\n    // 静态资源加载时间\n    resourceLoad: {\n        end: 'responseEnd',\n        start: 'requestStart',\n    },\n    // 首屏JS耗时……暂时先这么对付了，具体JS的耗时后面再提供吧\n    // 计算的时候以第一个script开始时间点为起始，一直到DOM Complete完成\n    // 这样看起来应该是可被定义为JS耗时了……\n    jsCost: {\n        custom() {\n            if (typeof performance.getEntries !== 'function') {\n                return 0;\n            }\n            const entries = performance.getEntries();\n            const pageTimeInfo = entries[0];\n            const firstJSTimeInfo = entries\n                .filter(item => item.initiatorType === 'script')[0];\n            if (firstJSTimeInfo && pageTimeInfo) {\n                return pageTimeInfo.domComplete - firstJSTimeInfo.fetchStart;\n            }\n            return 0;\n        },\n    },\n    // DOM加载完毕时间\n    documentContentLoaded: {\n        end: 'domComplete',\n        start: 'fetchStart',\n    },\n    // 页面加载完毕时间\n    load: {\n        end: 'loadEventEnd',\n        start: 'fetchStart',\n    },\n    timeToFirstByte: {\n        end: 'loadEventEnd',\n        start: 'fetchStart',\n    },\n    // 首屏时间，依靠主动打点\n    firstScreen: {\n        custom(key: TimingPerfName, options?: TimingCustomOptions) {\n            const { endPoint } = options || {};\n            const end = typeof endPoint !== 'undefined' ? endPoint : new Date().valueOf();\n            return navigationTiming && (end - navigationTiming.fetchStart) || 0;\n        },\n    },\n    // 白屏时间，依靠主动打点\n    whiteScreen: {\n        custom(key: TimingPerfName, options?: TimingCustomOptions) {\n            const { endPoint } = options || {};\n            const end = typeof endPoint !== 'undefined' ? endPoint : new Date().valueOf();\n            return navigationTiming && (end - navigationTiming.fetchStart) || 0;\n        },\n    },\n};\n\nexport default class TimingMonitor extends BasePlugin {\n    static override key = 'timingMonitor';\n    /**\n     * 兼容写法，如果在 Weblog 初始化设置 plugins 时，不需要设置 weblog\n     * @param weblog\n     */\n    constructor(weblog?: HttpWeblogInstance) {\n        super();\n        if (!navigationTiming) {\n            error('The Timing Monitor need performance APIs to Support!');\n            return;\n        }\n        if (weblog) {\n            this.apply(weblog);\n        }\n    }\n\n    override apply(weblog: HttpWeblogInstance) {\n        this.weblog = weblog;\n        addMonitor(window, 'load', this.load);\n    }\n\n    load = () => {\n        // 严格意义上来说类似的时间对于onload计算，都是等到window.onload执行完毕才开始计算\n        // 所以页面加载完毕时间使用的是loadEventEnd事件，所以手动进入下一个event loop\n        // 确保获取loadEventEnd事件\n        setTimeout(() => {\n            const perfInfo = this.collect();\n            if (!perfInfo) {\n                return;\n            }\n            [\n                'load',\n                'documentContentLoaded',\n                'dnsLookup',\n                'tcpConnection',\n                'jsCost',\n                'timeToFirstByte',\n            ].forEach(key => {\n                // TODO后面做一个支持度list来维护，现在先手动过滤一下\n                if (key === 'jsCost' && perfInfo[key as TimingPerfName] === 0) {\n                    return;\n                }\n                this.weblog.collect('CUSTOM', {\n                    key: costMap[key as keyof typeof costMap], \n                    value: {\n                        [costMap[key as keyof typeof costMap]]: perfInfo[key as TimingPerfName],\n                    }\n                });\n            });\n        });\n    };\n\n    destroy() {\n        removeMonitor(window, 'load', this.load);\n    }\n\n    calculate(key: TimingPerfName, options?: TimingCustomOptions) {\n        const perf = perfMap[key];\n        if (!perf) {\n            throw new Error('The perf key is not correct!');\n        }\n        if (typeof perf.custom === 'function') {\n            return perf.custom(key, options);\n        }\n        const endPoint = navigationTiming[perfMap[key].end as PerformanceTimingProperty];\n        const startPoint = navigationTiming[perfMap[key].start as PerformanceTimingProperty];\n        return endPoint - startPoint;\n\n    }\n    // 目前只针对这两个需要手动打点;\n    mark(key: 'firstScreen' | 'whiteScreen', options?: TimingCustomOptions) {\n        const data = this.collect(key, options);\n        if (!data) return;\n        this.weblog.collect('CUSTOM', {\n            key: costMap[key as keyof typeof costMap], \n            value: {\n                [costMap[key as keyof typeof costMap]]: data[key],\n            }\n        });\n    }\n    collect(key?: TimingPerfName, options?: TimingCustomOptions) {\n        // 如果不支持timing api的话，就直接不上报了，免得数据污染\n        if (!navigationTiming) {\n            return;\n        }\n        if (key) {\n            return {\n                [key]: this.calculate(key, options),\n            };\n        }\n        const allPerf: TimingPerf = {};\n        return Object.keys(perfMap).reduce((map, key) => {\n            map[key as TimingPerfName] = this.calculate(key as TimingPerfName, options as TimingCustomOptions);\n            return map;\n        }, allPerf);\n    }\n}\n\n// 优先使用pagehide 其次使用beforeunload;\nconst costMap = {\n    load: 'total_download_cost',\n    documentContentLoaded: 'operational_cost',\n    dnsLookup: 'dns_query_cost',\n    tcpConnection: 'tcp_cost',\n    jsCost: 'js_cost',\n    whiteScreen: 'white_screen_cost',\n    firstScreen: 'first_screen_cost',\n    timeToFirstByte: 'ttfb_cost',\n};\n\n/**\n * 如果使用了 bootstrap 则自动注册插件\n */\nautoRegister(TimingMonitor);","export function log(...args: any[]) {\n    try {\n        const log = console?.log;\n        return log && log.call(console, ...args);\n    } catch (e) {\n        return;\n    }\n}\n\nexport function warn(...args: any[]) {\n    try {\n        const warn = console?.warn;\n        return warn && warn.call(console, ...args);\n    } catch (e) {\n        return;\n    }\n}\nconst sdkName: string = '__SDK_NAME__';\nexport function error(...args: any[]) {\n    try {\n        const error = sdkName === 'webLogger_krn' ? console?.log : console?.error;\n        return error && error.call(console, ...args);\n    } catch (e) {\n        return;\n    }\n}\n","import { ksAppList } from './const';\nimport { getCookie } from '@/util/cookie';\nimport type { UrlMapFn, UrlMap, UrlMapFnParam } from '../config/types';\nimport { error } from './console';\n\n/**\n * 获取 localStorage 缓存\n */\nexport function getLocalStorageItem(key: string) {\n    try {\n        if (window && window.localStorage) {\n            const value = window.localStorage.getItem(key);\n            if (value) {\n                try {\n                    return JSON.parse(value);\n                } catch (err) {\n                    return value;\n                }\n            }\n        }\n    } catch (err) {\n        return null;\n    }\n    return null;\n\n}\n/**\n * 设置 localStorage 缓存\n */\nexport function setLocalStorageItem(key: string, value: any) {\n    try {\n        if (window && window.localStorage) {\n            window.localStorage.setItem(key, JSON.stringify(value));\n            return true;\n        }\n    } catch (err) {\n        return false;\n    }\n    return false;\n}\n\n/**\n * 判断item是否在目标数组arr中\n * @param {*} arr   目标数组\n * @param {*} item  item\n */\nexport function inArray(arr: any[], item: any) {\n    return arr.indexOf(item) > -1;\n}\n/**\n * 从目标arr中删除item\n * @param {*} arr  目标数组\n * @param {*} item  item\n */\nexport function deleteArray(arr: any[], item: any) {\n    const index = arr.indexOf(item);\n\n    if (index > -1) {\n        arr.splice(index, 1);\n    }\n}\n\n/**\n * 事件监听兼容处理\n * @param {*} evtTarget  事件监听目标\n * @param {*} evtName   事件名\n * @param {*} callback  回调函数\n * @param {*} options  相关参数设置\n */\nexport function addMonitor(\n    evtTarget: Element | Window | Document,\n    evtName: string,\n    callback: EventListenerOrEventListenerObject,\n    options?: boolean | AddEventListenerOptions,\n) {\n    if ('attachEvent' in evtTarget) {\n        return evtTarget.attachEvent('on' + evtName, callback);\n    }\n    return evtTarget.addEventListener(evtName, callback, options);\n}\n\n/**\n * 事件监听解绑兼容处理\n * @param {*} evtTarget  事件监听目标\n * @param {*} evtName   事件名\n * @param {*} callback  事件回调\n */\nexport function removeMonitor(\n    evtTarget: Element | Window | Document,\n    evtName: string,\n    callback: EventListenerOrEventListenerObject,\n    options?: boolean | AddEventListenerOptions,\n) {\n    if ('attachEvent' in evtTarget) {\n        return evtTarget.detachEvent('on' + evtName, callback);\n    }\n    return evtTarget.removeEventListener(evtName, callback, options);\n}\n\nexport function leftPad(str: string, len: number, ch = ' ') {\n    len = len - str.length;\n    if (len <= 0) {\n        return str;\n    }\n    let pad = '';\n    while (len) {\n        if (len & 1) {\n            pad += ch;\n        }\n        len >>= 1;\n        ch += ch;\n    }\n    return pad + str;\n}\n\n/**\n * 是否是快手系APP\n */\nexport const isInApp = (ua = window.navigator.userAgent.toLowerCase()) => {\n    try {\n        for (let i = 0; i < ksAppList.length; i++) {\n            if (ua.indexOf(ksAppList[i]!.toLowerCase()) > -1) {\n                return true;\n            }\n        }\n    } catch (err) {\n        return false;\n    }\n};\n\nexport function parseQueryString(queryString: string) {\n    const result: any = {};\n    const queries = queryString.split('&');\n    for (const query of queries) {\n        const [key, value] = query.split('=');\n        if (!(key! in result)) {\n            result[key!] = value;\n            continue;\n        }\n        if (result[key!] instanceof Array) {\n            result[key!].push(value);\n            continue;\n        }\n        result[key!] = [result[key!], value];\n    }\n    return result;\n}\n\nexport function stringifyQuery(paramsString: any) {\n    const params = typeof paramsString === 'string' ? JSON.parse(paramsString) : paramsString;\n    const queries: string[] = [];\n    Object.keys(params).forEach(key => {\n        if (params[key] instanceof Array) {\n            for (const val of params[key]) {\n                queries.push(`${key}=${val}`);\n            }\n        } else if (typeof params[key] === 'object' && params[key] !== null) {\n            queries.push(`${key}=${JSON.stringify(params[key])}`);\n        } else {\n            queries.push(`${key}=${params[key]}`);\n        }\n    });\n    return queries.join('&');\n}\n\n// 参考：https://codereview.stackexchange.com/questions/37512/count-byte-length-of-string\nexport function getStringBytes(data: any) {\n    let dataStr = '';\n\n    // Force string type\n    if (typeof data === 'string') {\n        dataStr = data;\n    } else {\n        try {\n            dataStr = JSON.stringify(data);\n        } catch (e) {\n            dataStr = String(data);\n        }\n    }\n\n    let byteLen = 0;\n    for (let i = 0; i < dataStr.length; i++) {\n        const c = dataStr.charCodeAt(i);\n        byteLen += c < (1 << 7) ? 1 :\n            c < (1 << 11) ? 2 :\n                c < (1 << 16) ? 3 :\n                    c < (1 << 21) ? 4 :\n                        c < (1 << 26) ? 5 :\n                            c < (1 << 31) ? 6 : Number.NaN;\n    }\n    return byteLen;\n}\n\n/**\n * lodash 的 pick 方法\n */\nexport function pick(data: any, paths: string[]) {\n    let index = -1;\n    const length = paths.length;\n    const result: any = {};\n\n    while (++index < length) {\n        const path = paths[index];\n        const value = data[path!];\n        result[path!] = value;\n    }\n\n    return result;\n}\n\n/**\n * lodash的omit方法\n * @param data\n * @param paths\n */\nexport function omit(data: any, paths: string[]) {\n    const result: any = {};\n\n    for (const i in data) {\n        if (data.hasOwnProperty(i)) {\n            if (Array.isArray(paths) && paths.indexOf(i) === -1) {\n                result[i] = data[i];\n            }\n        }\n    }\n\n    return result;\n}\n\n/**\n * 检查依赖版本号是否不小于推荐版本\n */\nexport function checkVersion(recommendVersion: string, version: string) {\n    if (!version) return false;\n    if (version.indexOf('alpha') !== -1) return false;\n    if (version.indexOf('beta') !== -1) return false;\n    try {\n        let matches = recommendVersion.match(/\\d+\\.\\d+\\.\\d+/);\n        recommendVersion = matches?.[0] || '';\n        if (!recommendVersion) return true;\n\n        matches = version.match(/\\d+\\.\\d+\\.\\d+/);\n        version = matches?.[0] || '';\n        if (!version) return false;\n\n        const [rMajor, rMinor, rPatch] = recommendVersion.split('.').map((i: string) => Number(i));\n        const [major, minor, patch] = version.split('.').map((i: string) => Number(i));\n\n        if (major! < rMajor!) return false;\n        if (major! > rMajor!) return true;\n\n        if (minor! < rMinor!) return false;\n        if (minor! > rMinor!) return true;\n\n        if (patch! < rPatch!) return false;\n\n        return true;\n    } catch (err) {\n        return false;\n    }\n}\n\nexport function checkSupportCloseCoPage() {\n    const version = getCookie('appver', undefined, true);\n    return version && checkVersion('10.8.30', version);\n}\n/**\n * 获取元素xpath\n * @param element 元素\n */\nexport function getXpathFromNode(element: HTMLElement): string {\n    // if (element && element.id !== '')\n    //     return 'id(\"' + element.id + '\")';\n    if (element === document.body)\n        return 'HTML/' + element.tagName;\n\n    let ix = 0;\n    if (element && element.parentNode) {\n        const siblings = element.parentNode.childNodes;\n        for (let i = 0; i < siblings.length; i++) {\n            const sibling = siblings[i] as HTMLElement;\n            if (sibling === element)\n                return getXpathFromNode(element.parentNode as HTMLElement) + '/' + element.tagName + '[' + (ix + 1) + ']';\n            if (sibling.nodeType === 1 && sibling.tagName === element.tagName)\n                ix++;\n        }\n    }\n    return '';\n}\n\n/**\n * url中获取path和query\n */\nexport function getPathAndQueryFromUrl() {\n    const { protocol, host, pathname, search, href } = window.location;\n    const pageUrl = href;\n    const pagePath = protocol + host + pathname;\n    const pageParams = parseQueryString(search.slice(1));\n    return { pageUrl, pagePath, pageParams };\n}\n\nexport function getUrlAndQueryFromUrl(url = location.href) {\n    const queryIndex = url.lastIndexOf('?');\n    if (queryIndex === -1) {\n        return {\n            page: url\n        };\n    }\n    const page = url.slice(0, queryIndex);\n    const queryString = url.slice(queryIndex + 1);\n    return {\n        page,\n        params: parseQueryString(queryString),\n    };\n};\n\nexport const getMappingPage = (urlPackage: UrlMapFnParam, urlMap?: UrlMap | UrlMapFn) => {\n    let { url, page, params, pageId } = urlPackage;\n    if (!page && typeof url === 'string') {\n        const parsed = getUrlAndQueryFromUrl(url);\n        page = parsed.page;\n        params = parsed.params;\n    }\n    if (typeof urlMap === 'function') {\n        try {\n            const res = urlMap({ url, page, params });\n            if (typeof res === 'string') {\n                page = res;\n            } else if (typeof res === 'object') {\n                if (res.page) {\n                    page = res.page;\n                }\n                if (res.params) {\n                    params = res.params;\n                }\n                if (res.pageId) {\n                    pageId = res.pageId;\n                }\n            }\n        } catch (err) { }\n    } else if (typeof urlMap === 'object') {\n        let mappingPage = '';\n        for (const key in urlMap) {\n            if ((url || page || '').indexOf(key) > -1) {\n                mappingPage = urlMap[key]!;\n                break;\n            }\n        }\n        if (mappingPage) {\n            page = mappingPage;\n        }\n    }\n    return {\n        page,\n        params,\n        pageId\n    };\n};\n\nexport function cloneDeep(obj: [] | {}): [] | {} {\n    if (typeof obj !== 'object') return {};\n    const newObj = obj instanceof Array ? [] : {};\n    for (const key in obj) {\n        if (obj.hasOwnProperty(key)) {\n            // @ts-ignore\n            newObj[key] = typeof obj[key] === 'object' ? cloneDeep(obj[key]) : obj[key];\n        }\n    }\n    return newObj;\n}\n\n/**\n * 非空纯对象判定\n * @param obj\n * @returns\n */\n const isObj = (obj: any) => obj && typeof obj === 'object' && !Array.isArray(obj);\n /**\n  * 对象打平赋值\n  * @param target\n  * @param options\n  * @returns\n  */\n export const flattenAssign = (target: any, options: any) => {\n    if (!isObj(target) || !isObj(options)) return;\n    const merge = (obj1: any, obj2: any, key: string) => {\n        if (isObj(obj1[key]) && isObj(obj2[key])) {\n            Object.assign(obj1[key], obj2[key]);\n        } else if (!isObj(obj1[key]) && !isObj(obj2[key])){\n            obj1[key] = obj2[key];\n        }\n    }\n    for (const key in options) {\n        if (target.hasOwnProperty(key)) {\n            merge(target, options, key);\n            continue;\n        }\n        for (const deepKey in target) {\n            if (isObj(target[deepKey]) && target[deepKey].hasOwnProperty(key)) {\n                merge(target[deepKey], options, key);\n            }\n        }\n    }\n}\n\nexport function pageUrlValidate(page: string) {\n    // 对于上报到v2，page为url的埋点，给予警告\n    if (page && /^(https?:)?\\/\\//.test(page)) {\n        error('[error 108]',`请注意当前埋点页面信息为 ${page}，不符合规范，上报失败！`);\n        return false;\n    }\n    return true;\n}\n\nexport const getResolution = (() => {\n    let resolution = '';\n    return () => {\n        if (resolution) {\n            return resolution;\n        }\n        try {\n            const ratio = window.devicePixelRatio || 1;\n            const width = Math.floor(screen.width * ratio); // 有的devicePixelRatio为小数，在此转为整数\n            const height = Math.floor(screen.height * ratio);\n            resolution = `${width}x${height}`;\n            return resolution;\n        } catch (err) {\n            return '';\n        }\n    };\n})();\n\n// 从vue-router里面拿的……\nexport function supportsPushState() {\n    const ua = window.navigator.userAgent;\n    if (\n        (ua.indexOf('Android 2.') !== -1 || ua.indexOf('Android 4.0') !== -1)\n        && ua.indexOf('Mobile Safari') !== -1\n        && ua.indexOf('Chrome') === -1\n        && ua.indexOf('Windows Phone') === -1\n    ) {\n        return false;\n    }\n    return window.history && 'pushState' in window.history;\n}\n\nexport function deleteUrlQueryAndReturnFullUrl(url: string, deleteKeyArray: string[]) {\n    const { page, params } = getUrlAndQueryFromUrl(url);\n    if (Array.isArray(deleteKeyArray) && deleteKeyArray.length) {\n        deleteKeyArray.forEach(key => {\n            delete params[key];\n        });\n        let paramsString = '';\n        for (const i in params) {\n            if (params.hasOwnProperty(i)) {\n                paramsString += paramsString ? '&' : '';\n                paramsString += `${i}=${params[i]}`;\n            }\n        }\n        return paramsString ? `${page}?${paramsString}` : page;\n    }\n    return url;\n}\n\ninterface TypeQueryMap {\n    [key: string]: string | number;\n}\n\n/**\n * 设置url中的参数，并返回完整url\n * @param url\n * @param configQueryMap\n */\nexport function setUrlQueryAndReturnFullUrl(url: string, configQueryMap: TypeQueryMap): string {\n    if (typeof configQueryMap !== 'object') {\n        return url;\n    }\n    let paramsString = '';\n    for (const i in configQueryMap) {\n        if (configQueryMap.hasOwnProperty(i)) {\n            const paramString = `${i}=${configQueryMap[i]}`;\n            paramsString += paramsString ? `&${paramString}` : paramString;\n        }\n    }\n    let partUrl;\n    const lastChar = url[url.length - 1];\n    if (url.indexOf('?') === -1) {\n        // 不存在变量\n        partUrl = `?${paramsString}`;\n    } else if (lastChar === '?' || lastChar === '&') {\n        // 处理最后一个字符是 ? 以及 & 的特殊情况\n        partUrl = paramsString;\n    } else {\n        // 正常添加变量\n        partUrl = `&${paramsString}`;\n    }\n    return url + partUrl;\n}\n\nexport function isMobileAndIpad() {\n    const ua = window?.navigator?.userAgent || '';\n    const isMobile = /mobile|tablet|ip(ad|hone|od)|android|(windows phone)/i.test(ua);\n    // 兼容最新版本 ipad 版本 ua 判断\n    const isiPad = window?.navigator.platform === 'MacIntel' && window?.navigator?.maxTouchPoints > 1;\n    return isMobile || isiPad;\n}\n\n/**\n * 是否支持 worker gzip 压缩\n * @returns\n */\nexport const enableAsyncGzip = () => !!(\n    window?.Worker // 可以新建 worker\n    && window?.Uint8Array // 支持二进制存储\n    && window.URL // 可以创建文件路径\n    && window.Promise // 可以使用 promise\n    && !isMobileAndIpad() // 移动端禁止使用压缩\n);\n\n/**\n * 返回正整数数值\n * @param value\n */\nexport const getPositiveInteger = (value: number) => {\n    try {\n        return Math.abs(Math.floor(value));\n    } catch (e) {\n        return value;\n    }\n};\n\nexport function stringifyParams(params: string | any) {\n    return typeof params === 'string' ? params : typeof params === 'object' ? JSON.stringify(params) : '';\n}\n"],"names":["extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","__spreadArray","to","from","pack","arguments","length","ar","i","l","slice","concat","BasePlugin","apply","weblog","this","perf","window","performance","performanceTiming","timing","getEntriesByType","perfMap","dnsLookup","end","start","tcpConnection","resourceLoad","jsCost","custom","getEntries","entries","pageTimeInfo","firstJSTimeInfo","filter","item","initiatorType","domComplete","fetchStart","documentContentLoaded","load","timeToFirstByte","firstScreen","key","options","endPoint","Date","valueOf","navigationTiming","whiteScreen","TimingMonitor","_super","_this","setTimeout","perfInfo","collect","forEach","costMap","value","_a","args","_i","error_1","console","error","e","TypeError","String","__","constructor","create","__extends","evtTarget","evtName","callback","attachEvent","addEventListener","destroy","detachEvent","removeEventListener","calculate","Error","mark","data","keys","reduce","map","Plugin","optionKey","_GLOBAL_KS_WEBLOGGER_","_b","config","option","plugins","undefined","addPluginInstance","autoRegister"],"mappings":"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"}